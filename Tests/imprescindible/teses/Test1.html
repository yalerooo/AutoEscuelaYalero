<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "¿Le está permitido el acceso a un vehículo de motor que disponga del distintivo ambiental C a una zona de bajas emisiones delimitada por estas señales?",
        "options": [
            "No, como norma general.",
            "Solo si el vehículo de motor es una motocicleta.",
            "Sí."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510117_150623.jpg"
    },
    {
        "text": "Las luces adaptativas...",
        "options": [
            "emiten más luz que las luces convencionales.",
            "adaptan su luminosidad a la visibilidad existente.",
            "mejoran la visibilidad en determinadas situaciones, como una curva o una intersección."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T501517.jpg"
    },
    {
        "text": "Una motocicleta, ¿puede circular sin tubo de escape?",
        "options": [
            "Sí, cuando la motocicleta es deportiva.",
            "No, porque está prohibido, excepto si es eléctrica.",
            "No, porque se rompe el motor."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510116_250117.jpg"
    },
    {
        "text": "El turismo blanco de la fotografía, circula por una vía de poblado, ¿a qué velocidad máxima puede circular por esta vía en ausencia de señalización?",
        "options": [
            "50 km/h.",
            "20 km/h.",
            "30 km/h."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511807.jpg"
    },
    {
        "text": "Por la izquierda de una línea continua, ¿se puede circular?",
        "options": [
            "No, en ningún caso.",
            "Sí, para adelantar.",
            "Sí, si la vía es de sentido único."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502518.jpg"
    },
    {
        "text": "En un viaje largo, ¿cuándo debe descansar?",
        "options": [
            "Cada 2 horas aproximadamente.",
            "Siempre que se encuentre un área de descanso.",
            "Cada 5 horas aproximadamente."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T501226.jpg"
    },
    {
        "text": "Una vez iniciado el adelantamiento, se producen circunstancias que hacen difícil su finalización sin provocar riesgos; ¿qué está obligado a hacer el conductor?",
        "options": [
            "Advertir del riesgo al vehículo al que pretende adelantar para que detenga su marcha.",
            "Reducir la velocidad y regresar a su carril sin obstaculizar.",
            "Aumentar la velocidad para finalizar el adelantamiento."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503502.jpg"
    },
    {
        "text": "En una vía interurbana que no dispone de zona peatonal, ¿por qué lado deben circular los peatones?",
        "options": [
            "Por su derecha.",
            "Indistintamente, por cualquiera de los dos lados.",
            "Por su izquierda."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512919.jpg"
    },
    {
        "text": "¿Qué es un derivado de turismo?",
        "options": [
            "Un vehículo destinado al transporte de mercancías o determinados servicios.",
            "Un vehículo destinado al transporte de personas.",
            "Un vehículo destinado al transporte de personas y mercancías."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513008.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "La situación de una estación de recarga eléctrica.",
            "Una estación de transporte de viajeros conectada.",
            "Un punto de carga de patinetes eléctricos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510105_150623.jpg"
    },
    {
        "text": "Si sufre una avería y tiene que salir de su vehículo, ¿en cuál de los siguientes casos debe utilizar el chaleco reflectante?",
        "options": [
            "Solamente al ocupar la calzada o el arcén en autopistas o autovías.",
            "Al ocupar el arcén en vías interurbanas.",
            "Al ocupar la calzada en vías urbanas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T509228.jpg"
    },
    {
        "text": "Circulando por una autopista urbana, ¿puede usted utilizar el carril que más convenga a su destino?",
        "options": [
            "Sí, como en todas las vías urbanas.",
            "Sí, si no entorpecemos la marcha más rápida de otro vehículo.",
            "No, como norma general debemos circular por el carril de la derecha."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505101.jpg"
    },
    {
        "text": "El sistema ADAS conocido con el nombre de “ISA o Control adaptativo de la velocidad”, ¿qué acción lleva a cabo cuando detecta un vehículo más lento delante?",
        "options": [
            "Adapta su velocidad a la de dicho vehículo y vuelve a alcanzar la velocidad prefijada cuando la parte delantera queda libre.",
            "Adapta la velocidad y mantiene con el vehículo precedente una distancia de seguridad de 50 metros.",
            "Realiza un adelantamiento a dicho vehículo para no perder velocidad."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500105_ADAS.jpg"
    },
    {
        "text": "¿En qué tipo de vías se debe mantener la distancia de seguridad?",
        "options": [
            "En todo tipo de vías.",
            "Solo en calzadas con dos sentidos de circulación.",
            "Solo en calzadas en mal estado."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513019.jpg"
    },
    {
        "text": "El vehículo que circula dentro de una glorieta. ¿Debe ceder el paso a un vehículo que quiere entrar por la derecha?",
        "options": [
            "Sí, cuando no hay señales de prioridad.",
            "Sí, porque el que entra tiene prioridad.",
            "No, porque tiene preferencia de paso."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505811.jpg"
    },
    {
        "text": "El vehículo lleva dos rectángulos amarillos con borde rojo. ¿Qué indican?",
        "options": [
            "Que el vehículo transporta mercancías peligrosas.",
            "Que es un vehículo largo y mide más de 12 metros.",
            "Que es un vehículo ancho y mide más de 2 metros."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510129_250216.jpg"
    },
    {
        "text": "Siempre que el recorrido hacia atrás no supere los 15 metros ni invada un cruce de vías, podrá circular marcha atrás...",
        "options": [
            "en autovías y autopistas que discurran por poblado.",
            "cuando no sea posible cambiar de dirección o sentido de la marcha.",
            "como maniobra complementaria de la parada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T506327.jpg"
    },
    {
        "text": "Normalmente, ¿qué ocurre cuando un conductor sufre una distracción al volante?",
        "options": [
            "Pisa el pedal de freno en lugar del acelerador.",
            "Tarda más tiempo en reaccionar ante una situación de riesgo.",
            "Enciende las luces de emergencia o pisa el pedal de freno reiteradamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503724.jpg"
    },
    {
        "text": "Esta señal, ¿prohíbe la entrada a los vehículos agrícolas de motor?",
        "options": [
            "Sí.",
            "No, solamente prohíbe a los tractores.",
            "No."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510113_050723.jpg"
    },
    {
        "text": "¿Cuál es la velocidad máxima a la que puede circular un ciclomotor?",
        "options": [
            "45 km/h.",
            "70 km/h.",
            "50 km/h."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T506629.jpg"
    },
    {
        "text": "Cuando existan placas de hielo en la calzada, ¿cuál es la forma más aconsejable y segura de descender una pendiente prolongada?",
        "options": [
            "Con marchas largas para mejorar el agarre de las ruedas motrices.",
            "Reduciendo la velocidad con el freno de mano, especialmente al trazar las curvas.",
            "Con marchas cortas para frenar lo menos posible."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505906.jpg"
    },
    {
        "text": "Un turismo con el distintivo ambiental de la imagen, clasificado como “0” emisiones, ¿está autorizado a circular por el carril habilitado para vehículos de alta ocupación (VAO)?",
        "options": [
            "No, salvo que por los paneles de mensaje variable se autorice su acceso.",
            "Sí, siempre que esté ocupado por al menos dos personas, incluido el conductor.",
            "Sí, aunque vaya solo el conductor."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510103_150623.jpg"
    },
    {
        "text": "La línea de borde de la calzada es discontinua; ¿está permitido estacionar en la parte transitable del arcén?",
        "options": [
            "No, está prohibido.",
            "Solo para cargar o descargar mercancías.",
            "Sí, porque la línea es discontinua."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512313.jpg"
    },
    {
        "text": "En este túnel bien iluminado, ¿qué alumbrado debe encender?",
        "options": [
            "La luz de posición y la larga.",
            "La luz de posición y la corta.",
            "La luz de posición solamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T511803.jpg"
    },
    {
        "text": "El sistema antibloqueo de frenos ABS...",
        "options": [
            "permite mantener el control sobre la dirección.",
            "reduce la distancia de frenado en todos los casos.",
            "hace que el vehículo mantenga su trayectoria."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500620.jpg"
    },
    {
        "text": "¿A qué velocidad como máximo interviene en los frenos del vehículo el sistema ADAS de “Alerta de tráfico cruzado o RCTA”?",
        "options": [
            "A una velocidad inferior a 50 km/h.",
            "A una velocidad inferior a 30 km/h.",
            "A una velocidad inferior a 15 km/h."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500102_ADAS.jpg"
    },
    {
        "text": "Esta señal...",
        "options": [
            "permite cambiar de dirección pero no de sentido.",
            "prohíbe cambiar de dirección y de sentido.",
            "indica sentido obligatorio en una vía de uno o más carriles."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T511615.jpg"
    },
    {
        "text": "¿Es seguro conducir después de haber consumido anfetaminas?",
        "options": [
            "Sí, porque son relajantes y retrasan la aparición del sueño.",
            "Solo si se consumen acompañadas de alguna bebida alcohólica.",
            "No."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502517.jpg"
    },
    {
        "text": "Conducir, con un permiso de la clase B, un turismo que arrastra un remolque ligero, ¿está permitido?",
        "options": [
            "Sí, en cualquier caso",
            "No, en ningún caso.",
            "Sólo si la masa máxima autorizada del conjunto no supera los 3.500 kilogramos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510108_150517.jpg"
    },
    {
        "text": "Un vehículo destinado al alquiler sin conductor que se dedica a un uso concatenado e intensivo por un número indeterminado de usuarios dentro de una zona de servicios delimitada. ¿Debe estar disponible, en cualquier momento, para ser utilizado?",
        "options": [
            "Sí, dentro de un horario.",
            "Sí, los fines de semana con conductor y entre semana sin conductor.",
            "Sí, y solicitar su servicio mediante el empleo de aplicaciones móviles."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510121_150623.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>