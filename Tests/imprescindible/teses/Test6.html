<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "El personal habilitado de la organización de una prueba deportiva prohíbe el acceso de su vehículo a la zona donde se está celebrando la misma; ¿está obligado a obedecerlo?",
        "options": [
            "No, al no tratarse de agente de Tráfico o de protección civil.",
            "Solo si se acerca algún participante de la prueba deportiva.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510128_250623.jpg"
    },
    {
        "text": "¿Es correcto el adelantamiento que efectúa el turismo a la bicicleta?",
        "options": [
            "No, porque al dejar demasiada separación tiene que ocupar el carril de sentido contrario.",
            "Sí, porque deja la separación adecuada y ocupa el carril contiguo.",
            "No, porque está prohibido rebasar la línea continua para adelantar."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510129_151116.jpg"
    },
    {
        "text": "Situado en un vehículo, ¿qué identifica la señal V-25 distintivo ambiental?",
        "options": [
            "El tipo de combustible empleado y su nivel de radiación atmosférica.",
            "Su clasificación ambiental en función de su nivel de contaminación acústica.",
            "Su clasificación ambiental en función de su nivel de emisiones y combustible empleado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510113_250422.jpg"
    },
    {
        "text": "Esta carretera no tiene arcén. ¿Puede estacionar a la derecha fuera de la vía?",
        "options": [
            "Solo si hay una señal que permita expresamente el estacionamiento.",
            "Sí, porque estoy fuera de la vía.",
            "No, porque es una vía interurbana."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510111_250121.jpg"
    },
    {
        "text": "La señal le indica...",
        "options": [
            "la situación de un lugar pintoresco.",
            "la situación de un merendero.",
            "la situación de un taller de reparación."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510114_050723.jpg"
    },
    {
        "text": "No se tienen en cuenta, a efectos de la normal utilización, los carriles...",
        "options": [
            "reversibles.",
            "especiales.",
            "reservados a ciertas maniobras."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T503729.jpg"
    },
    {
        "text": "¿Cuál es la velocidad máxima por diseño a la que le está permitido circular al conductor de un vehículo de movilidad personal?",
        "options": [
            "15 km/h.",
            "25 km/h.",
            "50 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510130_180322.jpg"
    },
    {
        "text": "Un turismo con remolque, ¿puede circular por un carril abierto a la circulación en sentido contrario al normal?",
        "options": [
            "Sí, siempre.",
            "Si, cuando haya sido abierto por razones de fluidez de la circulación.",
            "Sí, cuando haya sido abierto por obras en la calzada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T503423.jpg"
    },
    {
        "text": "Si en un estrechamiento sin señalizar han entrado a la vez un autobús y un vehículo de tracción animal, ¿cuál de los dos vehículos tendrá preferencia de paso?",
        "options": [
            "El vehículo de tracción animal.",
            "El que tenga que dar marcha atrás una mayor distancia.",
            "El autobús."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510117_150116.jpg"
    },
    {
        "text": "¿Está permitido efectuar un cambio de sentido en un cambio de rasante con visibilidad reducida?",
        "options": [
            "Sí, si no existe peligro para otros usuarios.",
            "Sí, sólo está prohibido el adelantamiento.",
            "No."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504319.jpg"
    },
    {
        "text": "¿A qué presión de inflado se deben llevar los neumáticos de un vehículo?",
        "options": [
            "A la recomendada en cada caso por el fabricante del vehículo.",
            "Un 10% por encima de la recomendada por el fabricante del vehículo.",
            "Un 15% por encima de la recomendada por el fabricante del vehículo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510114_250216.jpg"
    },
    {
        "text": "En esta intersección con señal de STOP y buena visibilidad, ¿qué debe hacer?",
        "options": [
            "Seguir circulando sin detenerse, porque no viene ningún vehículo de frente.",
            "Detenerse siempre ante la línea transversal.",
            "Detenerse siempre una vez superada la línea transversal."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510119_151215.jpg"
    },
    {
        "text": "En un turismo de 9 plazas incluido el conductor, ¿pueden viajar 9 niños?",
        "options": [
            "No, porque se supera el número de plazas autorizado.",
            "Sí, cuando los niños tienen edades comprendidas entre los 2 y los 12 años de edad.",
            "Sí, cuando van al cargo de un adulto."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512215.jpg"
    },
    {
        "text": "Esta señal indica peligro por la proximidad de...",
        "options": [
            "un tramo de vía con fuerte pendiente descendente.",
            "una curva peligrosa hacia la derecha.",
            "una zona de estrechamiento de calzada."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510127_151215.jpg"
    },
    {
        "text": "Los vehículos que circulan por la autovía, ¿facilitarán el paso a los vehículos que se incorporan desde el carril de aceleración?",
        "options": [
            "No, salvo que se trate de vehículos de transporte colectivo.",
            "Sí, pero sólo a los vehículos que se incorporen por su lado derecho.",
            "Sí, a cualquier vehículo que se incorpore, en la medida de lo posible."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502609.jpg"
    },
    {
        "text": "Una de las funciones del sistema avanzado de ayuda a la conducción conocido como “Control de velocidad adaptativo o ISA” es:",
        "options": [
            "Detectar las señales de limitación de velocidad y fijar la velocidad del vehículo a la indicada en la señal, en cualquier caso.",
            "Aumentar la velocidad del vehículo cuando detecta que el conductor va muy despacio.",
            "Mantener la velocidad adecuada al entorno de la vía."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500104_ADAS.jpg"
    },
    {
        "text": "Si la trayectoria de los vehículos llegase a cortarse, ¿cuál pasaría primero?",
        "options": [
            "El vehículo azul.",
            "El vehículo rojo.",
            "El vehículo amarillo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512619.jpg"
    },
    {
        "text": "En los pasos para peatones no regulados por semáforo o agente, ¿tienen preferencia los peatones?",
        "options": [
            "No, aunque por cortesía se les puede ceder el paso.",
            "Sí, en cualquier caso.",
            "Sí, solamente en vías urbanas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500329.jpg"
    },
    {
        "text": "¿Cuántos espejos retrovisores llevará como mínimo un turismo?",
        "options": [
            "2.",
            "3.",
            "4."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505101.jpg"
    },
    {
        "text": "Los vehículos que incorporan luces automáticas LED de última generación, ¿cómo pueden evitar el deslumbramiento a otros usuarios de la vía entre la puesta y la salida del sol?",
        "options": [
            "Reduciendo la velocidad del vehículo llegando incluso a detenerlo.",
            "Reduciendo la intensidad de la luz que incide directamente sobre el objetivo, permitiendo al conductor gozar de la máxima visibilidad del resto de la carretera.",
            "Desviando las luces hacia la derecha mientras haya en la vía otros usuarios que puedan ser deslumbrados."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500109_ADAS.jpg"
    },
    {
        "text": "Si conduce con frecuencia y consume antihistamínicos para tratar una alergia respiratoria, es conveniente...",
        "options": [
            "Tomar alguna bebida alcohólica para evitar la aparición del sueño.",
            "Viajar al atardecer o al amanecer, ya que hay menos polen en el aire.",
            "Utilizar antihistamínicos no sedantes, que no producen somnolencia."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500320.jpg"
    },
    {
        "text": "En los vehículos no destinados al transporte de mercancías, ¿podrá sobresalir una carga indivisible por la parte posterior?",
        "options": [
            "No.",
            "Sí, hasta un 10% de la longitud del vehículo.",
            "Sí, hasta un 15% de la longitud del vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513107.jpg"
    },
    {
        "text": "El coche rojo, ¿puede cambiarse al carril derecho?",
        "options": [
            "Sí, la marca vial me lo permite.",
            "No.",
            "Sí, pero con cuidado."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T509103.jpg"
    },
    {
        "text": "Las estadísticas demuestran que la mayoría de los accidentes de tráfico son debidos al...",
        "options": [
            "estado de la vía.",
            "estado del vehículo.",
            "conductor."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510126_150517.jpg"
    },
    {
        "text": "¿Qué documento deben llevar todos los remolques?",
        "options": [
            "La tarjeta ITV, solamente.",
            "El permiso de circulación, solamente.",
            "La tarjeta ITV y el permiso de circulación."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510106_250217.jpg"
    },
    {
        "text": "¿Qué significa esta señal situada a la entrada de una calle?",
        "options": [
            "Entrada prohibida a todos los vehículos a motor.",
            "Entrada prohibida a todos los vehículos excepto motocicletas.",
            "Zona de bajas emisiones."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510112_050723.jpg"
    },
    {
        "text": "Una furgoneta de MMA inferior a 3,5 toneladas y una antigüedad de 5 años, ¿con qué frecuencia debe pasar la inspección técnica periódica?",
        "options": [
            "Anual, hasta los 5 años de antigüedad.",
            "Bienal, hasta los 10 años de antigüedad.",
            "Bienal, hasta los 6 años de antigüedad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510108_150723.jpg"
    },
    {
        "text": "¿Qué es el sistema ADAS conocido con el nombre de “AEBS”?",
        "options": [
            "Un sistema antibloqueo de frenos electrónico avanzado.",
            "Un sistema que retiene el vehículo en bajadas pronunciadas.",
            "Un sistema de frenado automático de emergencia."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500128_ADAS.jpg"
    },
    {
        "text": "Cuando se pueda prever la presencia de animales en la vía, ¿qué precauciones se deben tomar?",
        "options": [
            "Moderar la velocidad y si fuera preciso, detener el vehículo.",
            "Mantener la velocidad y estar atento al cumplimiento de la señalización vertical.",
            "Ninguna si no vienen vehículos en sentido contrario.a"
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505711.jpg"
    },
    {
        "text": "Es de día y va a atravesar un tramo con nubes no densas de polvo que disminuyen sensiblemente la visibilidad. ¿Qué alumbrado debe utilizar, además del de posición?",
        "options": [
            "Ninguno, es suficiente el alumbrado de posición.",
            "La luz antiniebla delantera o la luz de corto o largo alcance.",
            "La luz antiniebla delantera y trasera."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510130_050723.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>