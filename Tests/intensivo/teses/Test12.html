<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Los costes de los accidentes de tráfico, ¿quién los asume?",
        "options": [
            "Las compañías de seguros y no los ciudadanos.",
            "Todos los ciudadanos, de forma directa o indirecta.",
            "Las Administraciones Públicas y las compañías de seguros, solamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T511424.jpg"
    },
    {
        "text": "¿Están obligados los conductores de motocicletas a llevar un chaleco reflectante de alta visibilidad?",
        "options": [
            "No, pero es recomendable.",
            "Sí, uno debidamente certificado.",
            "Sí."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4202.jpg"
    },
    {
        "text": "Se define como motocicleta al automóvil...",
        "options": [
            "de dos ruedas con un motor de cilindrada superior a 50 centímetros cúbicos, y/o con una velocidad máxima superior a 45 km/h.",
            "de dos o tres ruedas con una cilindrada inferior a 50 centímetros cúbicos.",
            "con una cilindrada superior a 125 centímetros cúbicos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4203.jpg"
    },
    {
        "text": "En una situación de lluvia y ciclistas circulando, debemos...",
        "options": [
            "al estar cerca de ellos hacer señales acústicas para indicar nuestra presencia.",
            "mantener la velocidad y estar atento al cumplimiento de la señalización vertical.",
            "extremar la precaución porque existe más probabilidad de caídas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4204.jpg"
    },
    {
        "text": "¿Cuál es la finalidad principal del airbag?",
        "options": [
            "Evitar, en caso de accidente, el impacto de los ocupantes del vehículo contra los elementos del automóvil.",
            "Ninguna, es un elemento decorativo.",
            "Disminuir el consumo de combustible."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4205.jpg"
    },
    {
        "text": "¿Es conveniente circular en paralelo junto a un vehículo de dos ruedas?",
        "options": [
            "Sí.",
            "No, salvo en vías urbanas o con mucho tráfico.",
            "No."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4206.jpg"
    },
    {
        "text": "¿Cuál es el crédito máximo de puntos que puede acumular un conductor?",
        "options": [
            "8 puntos.",
            "15 puntos.",
            "12 puntos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4207.jpg"
    },
    {
        "text": "Si tras el resultado de la prueba de alcoholemia, el conductor ha dado positivo...",
        "options": [
            "pierde 2 puntos de su permiso de conducir.",
            "pierde entre 4 y 6 puntos de su permiso de conducir.",
            "sólo puede ser sancionado con una multa de hasta 660 euros."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514202.jpg"
    },
    {
        "text": "¿Qué objetivo tienen los límites de velocidad de la vía?",
        "options": [
            "Únicamente que los conductores dispongan de la máxima seguridad.",
            "Garantizar a los usuarios la máxima seguridad y fluidez.",
            "Que los conductores dispongan de la máxima fluidez aunque disminuya la seguridad."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510116_250716.jpg"
    },
    {
        "text": "Esta señal obliga a todo conductor a...",
        "options": [
            "ceder el paso a los vehículos de la vía a la que se aproxime.",
            "detener su vehículo y ceder el paso a los vehículos de la vía a la que se aproxime.",
            "ceder el paso únicamente a los vehículos que se aproximen por su derecha."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4210.jpg"
    },
    {
        "text": "Cuando no se puede colocar el vehículo paralelo al borde de la calzada, ¿está permitido parar o estacionar?",
        "options": [
            "No, en ningún caso.",
            "Sólo si el estacionamiento está marcado en batería.",
            "Sí, si las características de la vía u otras circunstancias lo permiten."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510105_151116.jpg"
    },
    {
        "text": "Si modifica la aerodinámica del vehículo añadiendo elementos para hacerlo más atractivo...",
        "options": [
            "afectará considerablemente al consumo del carburante.",
            "será más seguro.",
            "será más ligero."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4212.jpg"
    },
    {
        "text": "Debe saber que el número 112 de servicios de emergencia...",
        "options": [
            "es un servicio de tarifa reducida y se necesita cobertura en el teléfono móvil para acceder a él.",
            "en algunas Comunidades Autónomas es gratuito y en otras de pago.",
            "es gratuito y en algunos casos se puede acceder a él sin cobertura en el teléfono móvil."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4213.jpg"
    },
    {
        "text": "Si un herido en accidente de circulación presenta dolor y deformidad en una extremidad, probablemente sufre...",
        "options": [
            "Parálisis.",
            "Una fractura.",
            "Una hemorragia interna"
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510102_050616.jpg"
    },
    {
        "text": "Una de las principales causas de los accidentes de las personas mayores es...",
        "options": [
            "la falta de paciencia.",
            "el deterioro de las capacidades psicomotoras.",
            "la menor percepción del riesgo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510114.jpg"
    },
    {
        "text": "Un vehículo que dispone de la última tecnología, ¿puede sufrir un accidente?",
        "options": [
            "Sí, cuando no se hace un uso adecuado.",
            "Sí, porque la tecnología no aumenta la seguridad, sino la comodidad en la conducción.",
            "No."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4216.jpg"
    },
    {
        "text": "Cuando se reposta carburante en una motocicleta, ¿es obligatorio apagar el alumbrado?",
        "options": [
            "No, se debe dejar encendida la luz de posición.",
            "No, se debe dejar encendida la luz de cruce.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4217.jpg"
    },
    {
        "text": "Los transportes especiales o en régimen de transporte especial, en caso de avería de la señal luminosa V-2...",
        "options": [
            "deben encender la luz de cruce junto con la señal de emergencia.",
            "pueden circular únicamente con la luz de cruce encendida.",
            "tienen prohibida la circulación."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4218.jpg"
    },
    {
        "text": "Si en poblado no hay zonas peatonales, ¿por dónde deben circular los peatones?",
        "options": [
            "Siempre por su izquierda.",
            "Por la derecha o por la izquierda, dependiendo de las circunstancias.",
            "Siempre por su derecha."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4219.jpg"
    },
    {
        "text": "Conservar el vehículo en buen estado, ¿requiere revisiones frecuentes en algunos de los sistemas del vehículo?",
        "options": [
            "Sí, además de seguir los planes de mantenimiento establecidos por el fabricante.",
            "No, salvo que se haya sufrido un accidente.",
            "No, no es necesario."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4220.jpg"
    },
    {
        "text": "¿Cuántas placas de matrícula llevan las motocicletas?",
        "options": [
            "Una sola placa en la parte posterior, en posición vertical.",
            "Dos, una en la parte delantera y otra en la parte posterior.",
            "Una sola placa en la parte delantera."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4221.jpg"
    },
    {
        "text": "El coche negro, ¿puede cambiarse al carril derecho?",
        "options": [
            "Sí, la marca vial me lo permite.",
            "No.",
            "Sí, pero con cuidado."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4222.jpg"
    },
    {
        "text": "Un vehículo consume mucho carburante. ¿Qué se debe revisar?",
        "options": [
            "El circuito de escape.",
            "El circuito de encendido y el de alimentación.",
            "El circuito de refrigeración y el de lubricación."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4223.jpg"
    },
    {
        "text": "¿Qué precauciones debe tomar conduciendo una motocicleta si empieza a llover intensamente?",
        "options": [
            "Reducir la velocidad, deteniéndose si fuera necesario.",
            "Aumentar la velocidad para llegar cuanto antes a su destino.",
            "Mantenerse muy cerca de los vehículos de grandes dimensiones para que le protejan de la lluvia."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4224.jpg"
    },
    {
        "text": "Una fila de escolares está cruzando la calzada. ¿Debe cederles el paso?",
        "options": [
            "No, cuando no llevan paleta de STOP.",
            "Solamente en los pasos para peatones.",
            "Si."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4225.jpg"
    },
    {
        "text": "El vehículo de policía en servicio urgente, ¿podrá circular en sentido contrario en una autopista?",
        "options": [
            "Sí, siempre que no exista peligro para los demás usuarios.",
            "No.",
            "Sí."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4226.jpg"
    },
    {
        "text": "En la mayoría de los accidentes, ¿cuál es el orden de influencia de los factores de riesgo?",
        "options": [
            "1º) factor humano, 2º) factor vía y entorno, 3º) factor vehículo.",
            "1º) factor vía y entorno, 2º) factor humano, 3º) factor vehículo.",
            "1º) factor vehículo, 2º) factor humano, 3º) factor via y entorno."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4227.jpg"
    },
    {
        "text": "¿Puede tener un accidente debido al sueño sin haberse quedado totalmente dormido?",
        "options": [
            "No.",
            "Sí, pero sólo por la noche.",
            "Sí, los primeros síntomas de somnolencia ya afectan a la conducción."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510104_250617.jpg"
    },
    {
        "text": "¿Cuándo debe apagar el indicador de dirección un vehículo que se desplaza para adelantar?",
        "options": [
            "Cuando haya rebasado al vehículo y antes de volver a la derecha.",
            "Cuando vuelva al carril derecho.",
            "Cuando haya terminado el desplazamiento."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4229.jpg"
    },
    {
        "text": "¿Están obligadas las motocicletas a disponer de luz de emergencia?",
        "options": [
            "Sí.",
            "No.",
            "Sólo las de cilindrada superior a 125 c.c."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4230.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>