<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "El ABS es...",
        "options": [
            "Sistema de cierre centralizado.",
            "Sistema de control de seguridad.",
            "Sistema de frenado antibloqueo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513330.jpg"
    },
    {
        "text": "La señal prohíbe la entrada a...",
        "options": [
            "toda clase de vehículos.",
            "vehículos de motor.",
            "turismos y motocicletas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4402.jpg"
    },
    {
        "text": "Al llegar a una intersección, la única señal que observa es una marca transversal discontinua en su carril, ¿qué debe hacer?",
        "options": [
            "No franquear esa marca en ningún caso.",
            "Detenerse obligatoriamente ante esa marca.",
            "No franquear esa marca si hay que ceder el paso por aplicación de las normas de prioridad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4403.jpg"
    },
    {
        "text": "Los peatones suelen cometer muchas infracciones, entre ellas...",
        "options": [
            "respetar los colores de los semáforos.",
            "evaluar bien los riesgos de la circulación.",
            "no utilizar los pasos para peatones."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511528.jpg"
    },
    {
        "text": "Si se niega a realizar las pruebas de detección alcohólica, ¿los agentes pueden inmovilizar su vehículo?",
        "options": [
            "No, ya que al negarse a pasar la prueba no pueden comprobar si supera la tasa máxima de alcoholemia.",
            "No.",
            "Sí, y además está cometiendo un delito."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4405.jpg"
    },
    {
        "text": "Esta señal...",
        "options": [
            "indica tramo de calzada de sentido único.",
            "indica la dirección obligatoria a seguir por todos los vehículos.",
            "prohíbe girar a la derecha."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4406.jpg"
    },
    {
        "text": "¿Están obligadas las motocicletas a llevar la luz de cruce durante el día?",
        "options": [
            "Sí, en todas las vías.",
            "No, cuando circulan por una vía sin asfaltar.",
            "No, cuando circulan por autovía."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4407.jpg"
    },
    {
        "text": "Un casco integral, ¿qué protege?",
        "options": [
            "Sólo la parte superior del cráneo.",
            "Únicamente la parte trasera del cráneo.",
            "La cara y la cabeza."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4408.jpg"
    },
    {
        "text": "¿Quién debe utilizar los cinturones de seguridad en un autobús?",
        "options": [
            "Todos los pasajeros.",
            "El conductor solamente.",
            "Además del conductor, los pasajeros de más de 3 años de edad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4409.jpg"
    },
    {
        "text": "Un automóvil destinado al transporte de personas, con cuatro ruedas como mínimo y un máximo de 9 plazas, incluyendo la del conductor es...",
        "options": [
            "un turismo.",
            "un autobús.",
            "un derivado de turismo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4410.jpg"
    },
    {
        "text": "El turismo blanco circula por autopista, después de adelantar al turismo y al camión, desea seguir adelantando a otros vehículos. ¿Debe regresar antes al carril derecho?",
        "options": [
            "No, porque en autopistas no es obligatorio.",
            "Sí, cuando circulen vehículos detrás a más velocidad.",
            "Sí, siempre."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510123_150217.jpg"
    },
    {
        "text": "Bajo los efectos de la depresión...",
        "options": [
            "disminuyen las distracciones.",
            "se tiene más seguridad.",
            "se pierde información del entorno."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4412.jpg"
    },
    {
        "text": "¿Está permitido circular con un ciclomotor con escape libre?",
        "options": [
            "No, está totalmente prohibido.",
            "Sí, está permitido porque no se considera un vehículo de motor.",
            "Sí, está permitido si el conductor tiene más de 16 años."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4413.jpg"
    },
    {
        "text": "En esta curva de visibilidad reducida, ¿está permitido parar o estacionar?",
        "options": [
            "Sí, siempre que lo haga en el arcén.",
            "No.",
            "Sí, ya que no hay señal que lo prohíba."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4414.jpg"
    },
    {
        "text": "¿Cuál de estas acciones puede distraer al conductor?",
        "options": [
            "Mirar por el espejo retrovisor.",
            "Consultar el GPS.",
            "Cambiar de marcha."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4415.jpg"
    },
    {
        "text": "Un conductor con el permiso de conducir con un año de experiencia , ¿de cuántos puntos dispone?",
        "options": [
            "De 16 puntos.",
            "De 8 puntos.",
            "De 12 puntos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4416.jpg"
    },
    {
        "text": "El alumbrado, ¿es un sistema de seguridad activa?",
        "options": [
            "Sólo las luces de emergencia.",
            "No.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4417.jpg"
    },
    {
        "text": "Para realizar una conducción eficiente, ¿cómo debemos decelerar?",
        "options": [
            "Levantar el pie del acelerador, dejar rodar el vehículo y freno de pie suavemente.",
            "Freno de pie y pisar embrague para reducir a una marcha inferior.",
            "Dejar rodar el vehículo en punto muerto."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510130_050717.jpg"
    },
    {
        "text": "Los accidentes de tráfico con personas mayores al volante son más frecuentes en...",
        "options": [
            "las incorporaciones a la carretera.",
            "al estacionar.",
            "al cambiar de dirección a la izquierda."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510130_250216.jpg"
    },
    {
        "text": "En una vía urbana de sentido único, si los carriles no están delimitados por marcas viales, ¿por dónde está obligado a circular el conductor de un turismo?",
        "options": [
            "Por el carril que mejor convenga a su destino.",
            "Por el centro de la calzada.",
            "Por el carril derecho, pudiendo utilizar el resto cuando las circunstancias lo aconsejen."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I4420.jpg"
    },
    {
        "text": "¿Cómo puede evitar el atropello de peatones?",
        "options": [
            "Modificando las partes exteriores de su vehículo, especialmente las delanteras.",
            "Prestando atención a los peatones que vayan hablando por el móvil.",
            "Haciéndoles señales para que crucen la calzada."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4421.jpg"
    },
    {
        "text": "¿Debe señalizarse un vehículo inmovilizado por avería en el arcén?",
        "options": [
            "Sí, con la señal de emergencia del vehículo, el dispositivo de preseñalización de peligro y, en su caso, con las luces de posición.",
            "No, porque el lugar utilizado para inmovilizarlo, es el apropiado para ese tipo de situaciones.",
            "No, porque el vehículo no está en la calzada."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513605.jpg"
    },
    {
        "text": "Los neumáticos del vehículo se desgastan irregularmente. Puede ser...",
        "options": [
            "porque la suspensión o la amortiguación estén en malas condiciones.",
            "únicamente porque la amortiguación esté en malas condiciones.",
            "únicamente porque la suspensión esté en malas condiciones."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4423.jpg"
    },
    {
        "text": "Este vehículo que tiene 6 años de antigüedad, ¿cada cuánto tiempo deberá pasar la inspección técnica periódica?",
        "options": [
            "Cada dos años.",
            "Cada año.",
            "Cada seis meses."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510122_250516.jpg"
    },
    {
        "text": "Este adelantamiento, en esta autopista, ¿puede tener algún riesgo especial?",
        "options": [
            "Que el camión oculte a peatones que cruzan la calzada.",
            "Que el camión haga de pantalla y se generen distintas ráfagas de viento.",
            "Ninguno, sólo los mismos riesgos que si se adelantara a cualquier otro vehículo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4425.jpg"
    },
    {
        "text": "Se circulará a velocidad moderada y si fuera preciso se detendrá el vehículo:",
        "options": [
            "En vías de doble sentido.",
            "Al aproximarse a pasos para peatones.",
            "En todos los cambios de rasante."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4426.jpg"
    },
    {
        "text": "Los resaltos en los pasos para peatones, ¿se consideran obstáculos en la calzada?",
        "options": [
            "No, siempre que se garantice la seguridad vial de los usuarios y especialmente de los ciclistas.",
            "Sí, cuando son metálicos.",
            "Sí, puesto que dificultan el cruce de los pasos de peatones."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4427.jpg"
    },
    {
        "text": "Está prohibido conducir un vehículo prioritario en servicio de urgencia con una tasa de alcohol en aire espirado superior a...",
        "options": [
            "0,30 miligramos por litro.",
            "0,15 miligramos por litro.",
            "0,25 miligramos por litro."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4428.jpg"
    },
    {
        "text": "Se producen más accidentes con víctimas mortales...",
        "options": [
            "en vías interurbanas.",
            "en vías urbanas donde hay atascos.",
            "en vías urbanas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T511720.jpg"
    },
    {
        "text": "Después de la señal vertical, ¿está permitido adelantar al vehículo gris?",
        "options": [
            "No, porque la señal prohíbe adelantar.",
            "Sí, porque la señal indica que finaliza la prohibición de adelantar. ",
            "No, porque la línea continua me lo prohíbe."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4430.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>