<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Los excesos de velocidad...",
        "options": [
            "hoy apenas tienen incidencia en los accidentes, debido a la seguridad de los vehículos.",
            "son responsables de la mayoría de los accidentes, en vías de doble sentido solamente.",
            "junto con las distracciones, son responsables de la mayoría de los accidentes."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511406.jpg"
    },
    {
        "text": "El autobús circula despacio. ¿Puede adelantarlo teniendo en cuenta la señalización?",
        "options": [
            "Sí, pero sólo cuando el conductor del autobús me indica que puedo hacerlo.",
            "No, porque está prohibido atravesar la línea longitudinal contínua.",
            "Sí, porque no vienen vehículos en sentido contrario."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3902.jpg"
    },
    {
        "text": "Una motocicleta dentro de poblado, cuando la vía tiene más de un carril en el mismo sentido, podrá circular por...",
        "options": [
            "el carril de la derecha para circular y el de la izquierda sólo para cambiar de dirección.",
            "el carril que mejor convenga a su destino.",
            "el carril de la derecha únicamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3903.jpg"
    },
    {
        "text": "¿A qué distancia debe colocarse en el asiento para que el airbag sea eficaz?",
        "options": [
            "Entre 10 y 25 centímetros del volante.",
            "Con el cinturón de seguridad el airbag no es necesario.",
            "A una distancia inferior a 10 centímetros."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I3904.jpg"
    },
    {
        "text": "El alcohol, ¿puede disminuir el campo de visión del conductor?",
        "options": [
            "Sí.",
            "No.",
            "Sólo cuando se circula de noche."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I3905.jpg"
    },
    {
        "text": "Los conos de la fotografía...",
        "options": [
            "sirven sólo para señalizar un nuevo carril.",
            "tienen prioridad sobre el resto de señales.",
            "tienen prioridad sobre el resto de señales, salvo las de los agentes de la autoridad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I3906.jpg"
    },
    {
        "text": "Para saber la antigüedad de un turismo, a efectos de pasar la ITV, debe consultar la fecha de...",
        "options": [
            "compra del vehículo.",
            "primera matriculación del vehículo.",
            "la tarjeta ITV."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3907.jpg"
    },
    {
        "text": "¿Cuándo puede utilizar el teléfono móvil?",
        "options": [
            "Cuando esté parado en un semáforo en rojo.",
            "Utilizando el dispositivo manos libres, durante periodos cortos de tiempo.",
            "Para leer o enviar mensajes."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3908.jpg"
    },
    {
        "text": "En relación al uso del cinturón de seguridad, una embarazada...",
        "options": [
            "debe utilizarlo, salvo exención médica expresa.",
            "puede no utilizarlo si le dificulta los movimientos para conducir.",
            "siempre está exenta de utilizarlo porque es peligroso para el feto."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I3909.jpg"
    },
    {
        "text": "Mediante una conducción eficiente reducimos un 10-25% de combustible...",
        "options": [
            "y se reducen las emisiones contaminantes entre un 10 y un 25%.",
            "y se reducen las emisiones contaminantes entre un 50 y un 80%.",
            "pero no se reduce la contaminación."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3910.jpg"
    },
    {
        "text": "Si la vía está acondicionada con una raqueta u otro elemento similar, ¿debe utilizar dicho elemento para realizar un giro?",
        "options": [
            "Sí, aunque no haya señal que lo indique.",
            "No, es indiferente.",
            "Sí, pero sólo si lo indica una señal."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I3911.jpg"
    },
    {
        "text": "La carga transportada en un vehículo, debe estar dispuesta de forma que...",
        "options": [
            "no oculte los dispositivos de alumbrado o de señalización luminosa.",
            "ocupe el mínimo espacio posible.",
            "no oculte los dispositivos de alumbrado, aunque puede ocultar la señalización luminosa."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I3912.jpg"
    },
    {
        "text": "¿Es importante acompañar a las víctimas de un accidente?",
        "options": [
            "Sí, para transmitirles tranquilidad.",
            "No, si su estado no reviste gravedad.",
            "No, es preferible dejarlas solas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513630.jpg"
    },
    {
        "text": "¿Cuál es la velocidad máxima permitida para los vehículos especiales que no disponen de luz de freno?",
        "options": [
            "25 km/h.",
            "40 km/h dentro de poblado y 70 km/h fuera de poblado.",
            "50 km/h."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I3914.jpg"
    },
    {
        "text": "¿Qué presión deben llevar los neumáticos?",
        "options": [
            "Es recomendable que lleven distinta presión en cada eje.",
            "Los neumáticos deben llevar la presión más alta de las recomendadas por el fabricante.",
            "Los neumáticos deben llevar siempre la presión recomendada por el fabricante."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I3915.jpg"
    },
    {
        "text": "A la actitud ante la conducción que permite circular de una manera segura se le llama conducción...",
        "options": [
            "prudente.",
            "eficiente.",
            "preventiva."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I3916.jpg"
    },
    {
        "text": "En una motocicleta con mandos independientes para cada uno de los frenos, ¿dónde se acciona generalmente el freno delantero?",
        "options": [
            "En el manillar, con la mano derecha.",
            "En un pedal, con el pie izquierdo.",
            "En el manillar, con la mano izquierda."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I3917.jpg"
    },
    {
        "text": "Es recomendable revisar la dirección del vehículo cuando...",
        "options": [
            "el volante no vibra entre las manos a altas velocidades.",
            "las ruedas rebotan en los baches.",
            "se desvía a un lado al soltar el volante en terreno llano."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I3918.jpg"
    },
    {
        "text": "Al iniciar un tratamiento médico...",
        "options": [
            "siempre se puede conducir.",
            "nunca se puede conducir.",
            "hay que ser más prudente conduciendo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I3919.jpg"
    },
    {
        "text": "Si queda detenido en un paso a nivel por avería, deberá...",
        "options": [
            "poner punto muerto, desactivar el freno de mano y empujar el vehículo.",
            "desalojar a los ocupantes, intentar retirar el vehículo y avisar al maquinista.",
            "tratar de arrancar el vehículo con la primera velocidad puesta y tranquilizar a sus ocupantes."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3920.jpg"
    },
    {
        "text": "Cuando llueve, ¿hay que prestar especial atención a alguna zona de la vía en particular?",
        "options": [
            "No, puesto que circular con lluvia es muy peligroso en todas partes.",
            "Sí, a los badenes y a las zonas en las que se pueden producir charcos.",
            "No, únicamente hay que prestar atención cuando hay niños en las proximidades."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3921.jpg"
    },
    {
        "text": "Un camión de 3.500 kilogramos de MMA, ¿puede llevar como repuesto una rueda de uso temporal?",
        "options": [
            "No, es obligatorio que lleve una rueda completa.",
            "No, porque únicamente los turismos pueden llevar como repuesto este tipo de ruedas.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I3922.jpg"
    },
    {
        "text": "Si el resultado de la inspección realizada a su vehículo en una estación ITV es desfavorable, ¿podrá circular por las vías públicas?",
        "options": [
            "Sí, si el defecto observado no impide la marcha del vehículo.",
            "No, salvo para su traslado al taller y la vuelta a la ITV para nueva inspección.",
            "No, en absoluto, porque el vehículo causará baja definitiva."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3923.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Que está prohibida la entrada a todos los varones.",
            "Prohibida la entrada a menores de 18 años.",
            "Que está prohibida la entrada a los peatones."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I3924.jpg"
    },
    {
        "text": "Se considera peatón a la persona...",
        "options": [
            "que circula con una bicicleta.",
            "al cargo de la cual está un animal o animales.",
            "que, sin ser conductor, transita a pie por las vías públicas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T506024.jpg"
    },
    {
        "text": "Las motocicletas cuya cilindrada no supera los 125 centímetros cúbicos, ¿están obligadas a llevar instalada la luz de largo alcance o carretera?",
        "options": [
            "No.",
            "Sí, una o dos luces.",
            "Sí, si llevan sidecar. En caso contrario, no."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3926.jpg"
    },
    {
        "text": "¿Qué le permiten los espejos retrovisores?",
        "options": [
            "Observar únicamente lo que está detrás del vehículo.",
            "Evitar los ángulos muertos.",
            "Observar en todo momento lo que rodea al vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I3927.jpg"
    },
    {
        "text": "La vigencia del permiso de conducción, ¿está condicionada a que su titular no haya perdido su asignación total de puntos?",
        "options": [
            "No, los puntos sólo afectan a las sanciones impuestas.",
            "Sí.",
            "No, su vigencia sólo está limitada en el tiempo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3928.jpg"
    },
    {
        "text": "Concentrar la atención en una conversación o discutir con un acompañante, ¿puede favorecer la distracción?",
        "options": [
            "No, conversar con el acompañante no favorece la distracción.",
            "Sí, pero sólo en trayectos largos.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I3929.jpg"
    },
    {
        "text": "Un ciclomotor llega a un estrechamiento sin señalizar la prioridad y encuentra en el otro lado un turismo. ¿Quién tiene prioridad?",
        "options": [
            "El ciclomotor.",
            "El turismo.",
            "El que pueda circular con menos seguridad."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I3930.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>