<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Esta señal indica...",
        "options": [
            "una vía reservada a turismos.",
            "la prohibición de entrada a automóviles.",
            "el fin de una vía reservada para automóviles."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P1626.jpg"
    },
    {
        "text": "El consumo de medicamentos, ¿provoca los mismos efectos y reacciones en quienes los consumen?",
        "options": [
            "Sí, en todo caso.",
            "Sí, en función del momento del día en que se toman.",
            "No, depende de las personas y sus condiciones físicas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2309.jpg"
    },
    {
        "text": "En esta intersección, ¿se puede adelantar?",
        "options": [
            "No, está prohibido.",
            "Sí, si las circunstancias del tráfico lo permiten.",
            "Sí, pero sólo a un vehículo de dos ruedas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P0824.jpg"
    },
    {
        "text": "Un camión que tiene una MMA de 2.500 kg y una antigüedad de 7 años tendrá que pasar la ITV...",
        "options": [
            "cada 6 meses.",
            "cada año.",
            "cada dos años."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2022.jpg"
    },
    {
        "text": "Las advertencias acústicas se pueden utilizar...",
        "options": [
            "para advertir el propósito de adelantar únicamente dentro de poblado.",
            "en vías estrechas con muchas curvas.",
            "en vías anchas con pocas curvas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P0718.jpg"
    },
    {
        "text": "Entre otros efectos, el consumo de alcohol...",
        "options": [
            "ayuda a mantener la atención al volante.",
            "mejora la atención si se toma en pequeñas cantidades.",
            "aumenta las distracciones al volante."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2418.jpg"
    },
    {
        "text": "En una autopista, ¿está permitido circular a una velocidad anormalmente reducida con niebla espesa?",
        "options": [
            "No, porque es una autopista y es una vía de gran seguridad.",
            "Sí.",
            "Sí, si la circulación es escasa, pero no, si es densa."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P0419.jpg"
    },
    {
        "text": "Ante un motorista accidentado con una hemorragia por la nariz, la actuación correcta es...",
        "options": [
            "no realizarle nunca taponamientos.",
            "retirarle el casco para realizarle un taponamiento.",
            "colocarle boca arriba para que deje de sangrar."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3127.jpg"
    },
    {
        "text": "Conduce un turismo con un remolque de un solo eje, ¿le afecta esta señal vertical?",
        "options": [
            "No.",
            "Sí, porque lleva un remolque de un eje.",
            "No, salvo que la M.M.A. del remolque supere la cifra indicada en la señal."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P1514.jpg"
    },
    {
        "text": "La luneta térmica de la ventanilla posterior del vehículo, ¿qué función tiene?",
        "options": [
            "Eliminar el hielo y el vaho que se pueden formar por circunstancias climatológicas adversas.",
            "Producir calor para el mejor confort de los pasajeros de los asientos traseros.",
            "Evitar la rotura de la luneta posterior que refuerzan los filamentos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2909.jpg"
    },
    {
        "text": "¿Está permitido que un turismo utilice un tramo de carril reservado para autobuses delimitado por una línea discontinua?",
        "options": [
            "Sí, para realizar cualquier maniobra que no sea parar, estacionar, cambiar de sentido o adelantar.",
            "No, siempre está prohibido.",
            "Sí, pero sólo para cambiar de dirección a la derecha."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P0304.jpg"
    },
    {
        "text": "Con hielo o nieve, es aconsejable circular...",
        "options": [
            "utilizando la relación de marchas más baja posible.",
            "frenando a fondo en las curvas.",
            "utilizando la relación de marchas mas alta posible."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505906.jpg"
    },
    {
        "text": "Si usted circula con su vehículo por un carril sobre el que se encuentra el semáforo cuadrado con la flecha verde y llega a una intersección, debe tener en cuenta...",
        "options": [
            "Que los vehículos que se acerquen tanto por su derecha como por su izquierda en esta intersección, tendrán preferencia de paso sobre usted.",
            "Que los vehículos que se acerquen por su derecha, así como por su izquierda, deben cederle el paso, puesto que usted tiene un semáforo de carril que le otorga la preferencia.",
            "Que los vehículos que se acerquen por su derecha tienen preferencia de paso."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P1324.jpg"
    },
    {
        "text": "Un traje adecuado para conducir una motocicleta, debe...",
        "options": [
            "estar muy ajustado al cuerpo para mejorar la estética.",
            "ser resistente a los golpes y a la abrasión en caso de caída.",
            "tener colores oscuros."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2925.jpg"
    },
    {
        "text": "En esta glorieta, ¿qué vehículos tienen prioridad?",
        "options": [
            "Los vehículos que se aproximan por la izquierda.",
            "Los vehículos que se aproximen a la glorieta por la derecha.",
            "Los vehículos que se encuentran circulando dentro de la glorieta."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P0514.jpg"
    },
    {
        "text": "Cuando se estropea el tubo de escape, ¿qué sucede?",
        "options": [
            "El vehículo hace más ruido.",
            "Disminuye el ruido.",
            "El vehículo consume más combustible."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3426.jpg"
    },
    {
        "text": "Estas marcas viales, ¿qué indican?",
        "options": [
            "Un paso para ciclistas.",
            "Un paso para peatones y ciclistas.",
            "Un paso obligatorio para vehículos de dos ruedas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P1811.jpg"
    },
    {
        "text": "Los conductores de motocicletas, ¿pueden conducir utilizando cascos o auriculares conectados a un teléfono móvil?",
        "options": [
            "Sí, porque los conductores de vehículos de dos ruedas no lo tienen prohibido.",
            "No, porque está prohibido.",
            "Sí, porque no tienen que emplear las manos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P0120.jpg"
    },
    {
        "text": "¿De qué peligro advierte la señal?",
        "options": [
            "De la proximidad de un lugar frecuentado por peatones.",
            "De la proximidad de un lugar frecuentado por niños, como escuelas, zonas de juego, etc.",
            "De la proximidad de una zona reservada para los peatones."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P1419.jpg"
    },
    {
        "text": "El consumo de LSD produce en el conductor...",
        "options": [
            "estabilidad emocional.",
            "alucinaciones y distorsiones en la percepción.",
            "fatiga."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2528.jpg"
    },
    {
        "text": "En una vía de doble sentido un vehículo va a girar a la izquierda, ¿debe facilitar el adelantamiento por la derecha a los demás vehículos?",
        "options": [
            "Sí, arrimándose todo lo posible al lado izquierdo de la calzada.",
            "No, ya que deben adelantar por la izquierda.",
            "Sí, arrimándose a la izquierda de su carril todo lo posible, pero sin obstaculizar a los vehículos que circulen en sentido contrario."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P0907.jpg"
    },
    {
        "text": "Si queda detenido en el interior de un túnel más de dos minutos...",
        "options": [
            "debe encender las luces de emergencia.",
            "debe apagar el motor y las luces.",
            "debe apagar el motor y dejar el alumbrado de posición encendido."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P1008.jpg"
    },
    {
        "text": "¿Cómo debe realizar la operación de carga y descarga, ya sea de personas o de mercancías?",
        "options": [
            "Rápidamente, pero sólo en las zonas donde esté permitido.",
            "Sin ocasionar peligros y, si es posible, por el lado del vehículo más próximo al borde de la calzada.",
            "Señalizando correctamente, pudiendo realizarla por cualquier lado del vehículo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P1926.jpg"
    },
    {
        "text": "Los turismos que arrastren un remolque ligero, ¿están obligados a llevar entre sus accesorios un equipo homologado de extinción de incendios?",
        "options": [
            "No.",
            "Sí.",
            "Sólo cuando circulen por vías interurbanas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3229.jpg"
    },
    {
        "text": "¿Qué indican los paneles?",
        "options": [
            "Prohíben el paso a través de la zona que delimitan.",
            "La presencia de una curva y su sentido.",
            "La presencia de una curva en la que se realizan obras en la calzada."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514109.jpg"
    },
    {
        "text": "Los accidentes de tráfico, ¿son una de las causas principales de mortalidad?",
        "options": [
            "Sí, especialmente entre los jóvenes.",
            "Sí, especialmente entre las personas de la tercera edad.",
            "No."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500520.jpg"
    },
    {
        "text": "Los agentes de tráfico, ¿pueden hacer señales ópticas y acústicas?",
        "options": [
            "No, sólo pueden hacer señales acústicas.",
            "No, sólo pueden hacer señales ópticas.",
            "Sí, pueden hacer señales ópticas y acústicas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P1220.jpg"
    },
    {
        "text": "En caso de reventón, ¿es correcto frenar bruscamente?",
        "options": [
            "Sí.",
            "No."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2709.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Entrada prohibida a motocicletas.",
            "Entrada prohibida a ciclomotores.",
            "Entrada prohibida a vehículos de dos ruedas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P1509.jpg"
    },
    {
        "text": "El conductor de un cuadriciclo ligero que dispone de cinturón de seguridad está obligado a utilizarlo...",
        "options": [
            "sólo en vías interurbanas.",
            "sólo en vías urbanas.",
            "tanto en vías urbanas e interurbanas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2818.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>