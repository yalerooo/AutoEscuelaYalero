<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "La fatiga que produce la conducción hace que...",
        "options": [
            "el tiempo de reacción sea más corto.",
            "disminuya la sensibilidad al deslumbramiento durante la noche.",
            "disminuyan la capacidad de concentración y la seguridad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514104.jpg"
    },
    {
        "text": "La fatiga, ¿provoca lentitud y falta de precisión en los movimientos?",
        "options": [
            "No, la fatiga sólo produce calambres.",
            "No.",
            "Sí, por lo cual la conducción se hace más peligrosa."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510106_150616.jpg"
    },
    {
        "text": "La fatiga hace que...",
        "options": [
            "se asuman menos riesgos al volante.",
            "se conduzca de manera mucho más pasiva.",
            "disminuyan las conductas hostiles o agresivas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513204.jpg"
    },
    {
        "text": "Algunos síntomas que pueden anunciarle la fatiga son...",
        "options": [
            "ansiedad y depresión.",
            "fuertes picores.",
            "bostezos, acomodos en el asiento y molestias en la nuca."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T506528.jpg"
    },
    {
        "text": "¿Qué síntomas nos avisan de que estamos fatigados?",
        "options": [
            "El parpadeo constante y la pesadez de ojos.",
            "No realizar movimientos en el asiento, ni cambios de postura.",
            "La sensación de euforia."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T503329.jpg"
    },
    {
        "text": "Cuando sienta fatiga al volante, debe tener en cuenta que...",
        "options": [
            "el sueño puede aparecer de un momento a otro.",
            "el deslumbramiento es constante.",
            "se producen efectos similares a una tasa de alcoholemia de 0,5 gramos por litro de sangre."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T514318.jpg"
    },
    {
        "text": "¿Qué puede provocar fatiga en el conductor?",
        "options": [
            "Circular por una vía con el firme en buen estado.",
            "Ventilar adecuadamente el interior del vehículo.",
            "Conducir de noche con una iluminación deficiente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512224.jpg"
    },
    {
        "text": "Circular por una vía con mucho tráfico...",
        "options": [
            "favorece la aparición de la fatiga.",
            "retrasa la aparición de la fatiga.",
            "no es una circunstancia que afecte a la fatiga."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505708.jpg"
    },
    {
        "text": "Conducir por una vía en mal estado, ¿puede favorecer la fatiga?",
        "options": [
            "Sólo si conduce de noche.",
            "No.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510726.jpg"
    },
    {
        "text": "Los conductores noveles, ¿pueden verse afectados en mayor medida por la fatiga?",
        "options": [
            "Sí, debido a que necesitan mayor concentración en la conducción.",
            "No, la fatiga es un fenómeno físico que afecta a todos por igual.",
            "No, la fatiga no depende de la experiencia del conductor."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T511606.jpg"
    },
    {
        "text": "Alterar las horas habituales de sueño puede ser...",
        "options": [
            "peligroso para la seguridad al volante, excepto para las personas que cambian con frecuencia de horario.",
            "beneficioso para la seguridad vial.",
            "peligroso para la seguridad vial."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513126.jpg"
    },
    {
        "text": "Bajo los efectos del sueño los movimientos del conductor...",
        "options": [
            "son más lentos y menos precisos.",
            "tienden a ser menos automáticos.",
            "son más rápidos pero menos precisos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T101050616_02.jpg"
    },
    {
        "text": "Bajo los efectos del sueño...",
        "options": [
            "se tarda más tiempo en tomar decisiones y se cometen más errores.",
            "es más difícil sufrir una distracción.",
            "los movimientos son más rápidos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510116_050916.jpg"
    },
    {
        "text": "¿Puede tener un accidente debido al sueño sin haberse quedado totalmente dormido?",
        "options": [
            "No.",
            "Sí, pero sólo por la noche.",
            "Sí, los primeros síntomas de somnolencia ya afectan a la conducción."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510104_250617.jpg"
    },
    {
        "text": "¿Cuándo aparece la somnolencia durante la conducción?",
        "options": [
            "Sólo por la noche.",
            "Mucho antes de que el conductor llegue a quedarse dormido.",
            "Instantes antes de que el conductor llegue a quedarse dormido."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514921.jpg"
    },
    {
        "text": "¿Qué es un microsueño?",
        "options": [
            "Un periodo de apenas unos segundos durante el cual el conductor queda ligeramente dormido sin darse cuenta.",
            "Un periodo de apenas unos segundos durante el cual el conductor sueña mientras está conduciendo.",
            "Un periodo corto de descanso que el conductor realiza cuando siente fatiga."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505021.jpg"
    },
    {
        "text": "En general, el sueño aparece con mayor frecuencia...",
        "options": [
            "en las primeras horas de la mañana y al final de la tarde.",
            "durante la madrugada y en las primeras horas de la tarde.",
            "durante las horas centrales de la mañana y en las primeras horas de la tarde."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502410.jpg"
    },
    {
        "text": "Existe un mayor riesgo de somnolencia en vías con...",
        "options": [
            "mucho tráfico.",
            "muchas curvas.",
            "trazado monótono."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502929.jpg"
    },
    {
        "text": "¿Cuántas horas necesita dormir una persona para que el descanso se considere adecuado?",
        "options": [
            "De 3 a 4 horas.",
            "De 7 a 9 horas.",
            "De 10 a 12 horas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513126.jpg"
    },
    {
        "text": "Durante un viaje largo, ¿el conductor debe tomar algún alimento?",
        "options": [
            "No, porque puede producir somnolencia.",
            "Sí, siempre que no sea una comida copiosa, ni beba alcohol.",
            "Sí, pero sólo debe beber agua, zumos o refrescos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504324.jpg"
    },
    {
        "text": "El consumo de sustancias estimulantes, como el café o el té, ¿resulta útil para evitar la somnolencia al volante?",
        "options": [
            "No, porque contiene sustancias estimulantes.",
            "Sí, pueden resultar útiles a corto plazo, pero cuando pasan sus efectos, se puede producir el llamado efecto rebote.",
            "Sí, porque ayudan a mantener la atención del conductor a largo plazo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514620.jpg"
    },
    {
        "text": "Cuando conduce y está cansado, ¿qué debe hacer?",
        "options": [
            "Tomar alguna bebida alcohólica.",
            "Tomar alguna bebida estimulante (té, café).",
            "Detener el vehículo y descansar o dormir."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512818.jpg"
    },
    {
        "text": "Para prevenir la fatiga debe parar a descansar 20 o 30 minutos...",
        "options": [
            "cada 2 horas o 200 kilómetros de conducción continuada.",
            "cada 4 horas o 400 kilómetros de conducción continuada.",
            "a mitad de recorrido."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T501615.jpg"
    },
    {
        "text": "Los medicamentos para el resfriado, ¿influyen en la conducción?",
        "options": [
            "No, los medicamentos no afectan en ningún caso.",
            "Sí, porque pueden producir somnolencia.",
            "Sí, son beneficiosos, porque estimulan."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2312.jpg"
    },
    {
        "text": "Los efectos de los fármacos pueden variar por...",
        "options": [
            "la edad y el estado físico del conductor, solamente.",
            "la edad, el hábito de consumo y el estado físico del conductor.",
            "la edad del conductor, únicamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510220.jpg"
    },
    {
        "text": "Las medicinas alternativas o naturales, ¿producen efectos negativos en la conducción?",
        "options": [
            "Sí, en determinados casos.",
            "No, porque no son medicamentos oficiales.",
            "Sí, siempre."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512504.jpg"
    },
    {
        "text": "¿Conducir automedicado supone un riesgo para la conducción?",
        "options": [
            "Solamente si la conducción se realiza durante la noche.",
            "Sí, porque algunos medicamentos pueden tener efectos secundarios.",
            "No, solamente si los medicamentos se mezclan con alcohol."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510102_050217.jpg"
    },
    {
        "text": "Si toma analgésicos narcóticos para pasar algún dolor intenso, lo más aconsejable es...",
        "options": [
            "conducir solo de noche, ya que sus efectos secundarios son menores.",
            "no conducir mientras dure el tratamiento.",
            "conducir con normalidad, ya que no tienen efectos secundarios."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512018.jpg"
    },
    {
        "text": "Tras tomar un medicamento, ¿qué debe tenerse en cuenta antes de conducir?",
        "options": [
            "Que puede alterar el estado físico o mental, y conviene consultar sus efectos con el médico.",
            "Que no esté caducado en más de 6 meses, principalmente.",
            "Nada, si ha sido recetado por un médico."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510126_250216.jpg"
    },
    {
        "text": "¿Qué significa este pictograma en el envase de un medicamento?",
        "options": [
            "Ver el prospecto por los posibles efectos secundarios que afectan a la conducción.",
            "Está prohibida la circulación mientras se consuma el medicamento.",
            "Evitar las altas temperaturas del interior de un vehículo estacionado al sol."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510105_150723.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>