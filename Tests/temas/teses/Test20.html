<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Antes de la inmovilización completa del vehículo, está prohibido...",
        "options": [
            "encender las luces de emergencia.",
            "desabrocharse el cinturón de seguridad, cuando se está estacionando.",
            "abrir las puertas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T503824.jpg"
    },
    {
        "text": "Antes de abrir las puertas para bajar de un vehículo, debe cerciorarse...",
        "options": [
            "sólo de que no se acercan vehículos.",
            "de que no se ocasiona peligro a otros usuarios.",
            "únicamente de que no se acercan peatones."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513119.jpg"
    },
    {
        "text": "Cuando un vehículo está inmovilizado en el lado derecho de la calzada...",
        "options": [
            "el conductor podrá entrar o salir por el lado izquierdo, pero con rapidez y precaución.",
            "el conductor no podrá salir o entrar nunca por el lado derecho.",
            "el conductor debe entrar o salir siempre por el lado derecho."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500718.jpg"
    },
    {
        "text": "Los ocupantes que viajen en su vehículo, ¿cómo deben descender del mismo?",
        "options": [
            "Por cualquier lado, siempre que se haga con rapidez.",
            "Por el lado más próximo al borde de la vía, si es posible, y siempre con el vehículo inmovilizado.",
            "Con el vehículo inmovilizado si es posible, y por cualquiera de los dos lados."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P1922.jpg"
    },
    {
        "text": "A la entrada y salida del colegio, para evitar riesgos, ¿qué precauciones deberá tomar cuando los niños desciendan del vehículo, además de la previa vigilancia del entorno?",
        "options": [
            "Para mayor seguridad lo harán siempre por la puerta del conductor.",
            "Deberán bajar del vehículo por la puerta más alejada del borde de la vía.",
            "No deberán abrir las puertas ni apearse antes de la completa inmovilización del vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T5101_251020_07.jpg"
    },
    {
        "text": "Cuando viaje con su mascota, ¿en qué lugar del vehículo podrá situarse para evitar que interfiera en la conducción?",
        "options": [
            "Donde no comprometa su seguridad ni la del resto de pasajeros, además de ir sujeta con el dispositivo adecuado.",
            "En los asientos traseros sujeta con el cinturón de seguridad como un pasajero más.",
            "En el asiento delantero ya que si dispone de airbag frontal estará doblemente protegida."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510110_0512.jpg"
    },
    {
        "text": "Si el recorrido que va a realizar con su vehículo es corto, ¿está permitido llevar a un niño pequeño en brazos?",
        "options": [
            "No; es obligatorio usar un sistema de retención infantil.",
            "Solo si se circula a una velocidad igual o inferior a 30 km/h.",
            "Sí, cuando todo el recorrido transcurre por vías urbanas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505121.jpg"
    },
    {
        "text": "Un dispositivo de retención infantil, ¿cómo se debe elegir?",
        "options": [
            "El de mayor tamaño, para que pueda usarse durante más tiempo.",
            "En función del peso del niño.",
            "En función de la edad."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P1906.jpg"
    },
    {
        "text": "Si los ocupantes de los asientos traseros de un vehículo son menores de edad y de estatura igual o inferior a 135 cm de altura, ¿qué dispositivos de seguridad deben utilizar?",
        "options": [
            "El cinturón de seguridad que viene instalado en el vehículo.",
            "Obligatoriamente un sistema de retención infantil soldado a la carrocería del vehículo.",
            "Un dispositivo de retención infantil adaptado a su talla y peso."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510127_050723.jpg"
    },
    {
        "text": "¿Puede viajar en el asiento delantero un menor de 1 año si todas las plazas traseras están ocupadas por niños con sistemas de retención infantil?",
        "options": [
            "Sí, con un sistema de retención infantil adaptado a su talla y peso.",
            "Sí, pero con el cinturón de seguridad.",
            "No, porque no debe viajar en el asiento delantero."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510126_050723.jpg"
    },
    {
        "text": "Los niños, ¿cuándo pueden empezar a utilizar los cinturones de seguridad normales?",
        "options": [
            "Cuando su estatura sea superior a 1,35 m.",
            "A partir de 1,50 m de estatura.",
            "A partir de 12 años, aunque midan menos de 1'35 m de estatura."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P1905.jpg"
    },
    {
        "text": "A efectos del número de plazas de los turismos, los menores de 12 años, se computarán como...",
        "options": [
            "media plaza, siempre que no supere el 50% del total de plazas.",
            "una plaza.",
            "no ocupan plaza si son menores de 2 años."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512027.jpg"
    },
    {
        "text": "En un turismo, ¿pueden viajar más ocupantes que los correspondientes a las plazas autorizadas?",
        "options": [
            "No.",
            "Sí, siempre que no supere la masa máxima autorizada del vehículo.",
            "Sí, siempre que no moleste la posición del conductor y no quite visibilidad por la ventanilla superior."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P1901.jpg"
    },
    {
        "text": "En un vehículo de 5 plazas incluido el conductor, ¿cuántos menores de edad de estatura igual o inferior a 135 centímetros pueden viajar como máximo?",
        "options": [
            "6, aunque alguno de ellos no utilice un sistema de retención infantil.",
            "3, ya que en ningún caso pueden ocupar el asiento delantero.",
            "4, siempre que todos utilicen un sistema de retención infantil."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510120_150517.jpg"
    },
    {
        "text": "Los menores de 18 años, ¿pueden viajar en los asientos delanteros de un turismo en algún caso?",
        "options": [
            "Sí, cuando utilizan el cinturón de seguridad, si su estatura es superior a 135 centímetros.",
            "No, tienen que viajar obligatoriamente en los asientos traseros.",
            "Sí, pero no es necesario que utilicen el cinturón de seguridad."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P1904.jpg"
    },
    {
        "text": "¿En qué asiento debe viajar un niño de tres años y talla menor de 135 cm?",
        "options": [
            "En el asiento delantero o trasero con el cinturón de seguridad abrochado.",
            "Encima de un adulto.",
            "En el asiento trasero con un dispositivo homologado adaptado a su talla y peso."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510105_050416.jpg"
    },
    {
        "text": "Como norma general, un menor de cuatro años, ¿puede viajar en los asientos delanteros?",
        "options": [
            "Sí.",
            "No."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P1903.jpg"
    },
    {
        "text": "A un menor de estatura inferior a 135 cm que utiliza un sistema de retención infantil, ¿le está permitido viajar en el asiento delantero de un turismo de cinco plazas?",
        "options": [
            "No, en ningún caso.",
            "Sí, siempre que vaya mirando hacia atrás y esté activado el airbag frontal.",
            "Solo por motivos excepcionales."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513830.jpg"
    },
    {
        "text": "¿Dónde está permitido que viaje un niño que no alcance los 135 centímetros de estatura?",
        "options": [
            "En cualquiera de los asientos traseros utilizando el cinturón para adultos.",
            "En un asiento delantero o trasero, utilizando un dispositivo de retención homologado en función de su talla y peso.",
            "En un asiento trasero utilizando siempre un dispositivo de retención homologado en función de su talla y peso."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514705.jpg"
    },
    {
        "text": "Un niño de doce años que mide más de 150 centímetros de alto, ¿qué asientos puede ocupar en un turismo?",
        "options": [
            "El delantero, con preferencia sobre los asientos traseros.",
            "Tanto el delantero como los traseros.",
            "Sólo los traseros."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502927.jpg"
    },
    {
        "text": "En un turismo viaja un niño de quince años cuya estatura es superior a 135 centímetros, ¿dónde debe ir sentado normalmente?",
        "options": [
            "En el asiento trasero, obligatoriamente.",
            "Puede viajar tanto en el asiento delantero como en el trasero.",
            "Es aconsejable que viaje en el asiento delantero."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502711.jpg"
    },
    {
        "text": "En un vehículo mixto, ¿en qué asiento debe viajar un niño?",
        "options": [
            "En este tipo de vehículos no puede viajar un niño.",
            "Sólo en los asientos traseros utilizando el cinturón de seguridad para los adultos.",
            "En los asientos delanteros o traseros, utilizando siempre el cinturón de seguridad o un dispositivo de retención."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T506007.jpg"
    },
    {
        "text": "En los vehículos de uso compartido o “carsharing”, los menores de edad de estatura igual o inferior a 135 centímetros, ¿están obligados a utilizar sistemas de retención infantil?",
        "options": [
            "No.",
            "Sólo si el vehículo tiene.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510101_250623.jpg"
    },
    {
        "text": "¿Puede el conductor de una bicicleta transportar un pasajero?",
        "options": [
            "No, está prohibido.",
            "Sí, sentado entre el conductor y el manillar.",
            "Sí, a un menor de hasta siete años siempre que lo haga en un asiento adicional homologado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P1908.jpg"
    },
    {
        "text": "¿Cómo debe ir sentado el pasajero de una motocicleta?",
        "options": [
            "De cualquier forma, siempre que vaya cómodo.",
            "A horcajadas y con los pies apoyados en los reposapiés laterales.",
            "Entre el conductor y el manillar."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505005.jpg"
    },
    {
        "text": "Transportar un niño situado entre el manillar y el conductor en una motocicleta, ¿está permitido?",
        "options": [
            "No.",
            "Sí, pero sólo cuando el conductor sea el padre, la madre o una persona autorizada.",
            "Sí, con el correspondiente casco adecuado a su talla."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P1910.jpg"
    },
    {
        "text": "¿Puede viajar un niño de pasajero en una motocicleta?",
        "options": [
            "Sí, siempre que tenga más de 14 años.",
            "Sí, siempre que sea de día.",
            "Sí, siempre que tenga más de 12 años o excepcionalmente más de 7 años."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514623.jpg"
    },
    {
        "text": "La edad mínima para viajar como acompañante en una motocicleta o ciclomotor será de...",
        "options": [
            "tres años, pero siempre con asiento adicional.",
            "siempre 12 años.",
            "12 años y, excepcionalmente, siete años si la motocicleta o ciclomotor van conducidos por el padre, madre o tutor."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P1909.jpg"
    },
    {
        "text": "En una autovía hay una persona haciendo autostop, ¿está permitido recogerla?",
        "options": [
            "Sí.",
            "No.",
            "Sí, si está transitando por el arcén de la derecha."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502406.jpg"
    },
    {
        "text": "En una explanada de peaje de una autopista, ¿está permitido recoger a una persona que realiza autostop?",
        "options": [
            "No.",
            "Sí.",
            "Sí, siempre que no se origine una situación de peligro."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513909.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>