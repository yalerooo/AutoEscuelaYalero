<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Los accidentes de tráfico...",
        "options": [
            "no tienen una gran importancia.",
            "son la causa principal de muerte a nivel mundial.",
            "son una de las principales causas de mortalidad en nuestro país."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2103.jpg"
    },
    {
        "text": "La Organización Mundial de la Salud (OMS) considera que la siniestralidad vial es un problema prioritario de salud pública...",
        "options": [
            "sólo en los países más desarrollados.",
            "en todo el mundo.",
            "en Europa, pero no en Estados Unidos ni Japón porque es muy baja."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2102.jpg"
    },
    {
        "text": "La mayoría de los accidentes de circulación...",
        "options": [
            "son inevitables.",
            "se pueden evitar.",
            "casi nunca se pueden evitar."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2101.jpg"
    },
    {
        "text": "La pérdida de vidas, de capacidad productiva y el sufrimiento físico y psicológico, ¿cómo se llaman?",
        "options": [
            "Costes sanitarios.",
            "Costes humanos.",
            "Costes materiales."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504210.jpg"
    },
    {
        "text": "Los costes por primeros auxilios, atención y tratamiento a los heridos, rehabilitación y adaptaciones, ¿cómo se llaman?",
        "options": [
            "Costes sanitarios.",
            "Costes materiales.",
            "Costes administrativos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500207.jpg"
    },
    {
        "text": "Los costes de los accidentes de tráfico, ¿quién los asume?",
        "options": [
            "Las compañías de seguros y no los ciudadanos.",
            "Todos los ciudadanos, de forma directa o indirecta.",
            "Las Administraciones Públicas y las compañías de seguros, solamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510104_050216.jpg"
    },
    {
        "text": "Entre los costes por daños materiales causados por los accidentes de tráfico se encuentran los daños producidos...",
        "options": [
            "en vehículos, únicamente.",
            "a los pasajeros de los vehículos.",
            "en los vehículos, la vía y el medio ambiente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512226.jpg"
    },
    {
        "text": "Entre los principales gastos sanitarios provocados por los accidentes de tráfico están...",
        "options": [
            "los antidepresivos.",
            "los medicamentos.",
            "los de rehabilitación y adaptaciones para las personas accidentadas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513002.jpg"
    },
    {
        "text": "Algunos hospitales disponen de una unidad de atención a las víctimas de lesiones físicas y emocionales en caso de siniestros por accidentes de tráfico. ¿Cómo se llama esta unidad?",
        "options": [
            "Unidad de tráfico.",
            "Unidad de urgencias traumatológicas.",
            "Unidad de apoyo a las víctimas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510124_150623.jpg"
    },
    {
        "text": "¿A partir de qué edad aumenta de forma importante la mortalidad en los accidentes de tráfico?",
        "options": [
            "A partir de los 14 o 15 años, por los conductores de ciclomotores.",
            "A partir de los 29 años.",
            "No existe ninguna edad específica."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2108.jpg"
    },
    {
        "text": "Conforme a los datos de accidentalidad, la mayor parte de los conductores menores de 24 años fallecidos en accidente de tráfico...",
        "options": [
            "conducían una motocicleta.",
            "son varones.",
            "son mujeres."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T507720.jpg"
    },
    {
        "text": "En caso de accidente, ¿quienes tienen mayor probabilidad de morir o de sufrir lesiones?",
        "options": [
            "Los conductores de vehículos pesados.",
            "Los conductores de motocicletas, ciclomotores y bicicletas.",
            "Los conductores de turismos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510106_150116.jpg"
    },
    {
        "text": "La mayor parte de las víctimas mortales por accidente de circulación se producen en...",
        "options": [
            "vías urbanas.",
            "vías interurbanas.",
            "travesías."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2110.jpg"
    },
    {
        "text": "¿Qué factores intervienen en un accidente?",
        "options": [
            "El factor humano, el factor vía y entorno y el factor vehículo.",
            "El factor humano, exclusivamente.",
            "El factor vía y el factor humano exclusivamente."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T501604.jpg"
    },
    {
        "text": "Se estima que de cada 100 siniestros, los debidos al factor humano son...",
        "options": [
            "entre 4 y 13.",
            "entre 10 y 35.",
            "entre 70 y 90."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2113.jpg"
    },
    {
        "text": "La probabilidad de sufrir un accidente de tráfico...",
        "options": [
            "sólo depende de la capacidad del conductor.",
            "puede reducirse evitando los factores de riesgo.",
            "es siempre independiente del conductor."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2106.jpg"
    },
    {
        "text": "Conducir seguro, ¿de qué depende?",
        "options": [
            "Depende del conductor, del vehículo no.",
            "Depende del buen estado del vehículo, del conductor no.",
            "Depende del conductor y del buen estado del vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2114.jpg"
    },
    {
        "text": "Un vehículo que dispone de la última tecnología, ¿puede sufrir un accidente?",
        "options": [
            "Sí, cuando no se hace un uso adecuado.",
            "Sí, porque la tecnología no aumenta la seguridad, sino la comodidad en la conducción.",
            "No."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T511220.jpg"
    },
    {
        "text": "Un mantenimiento adecuado del vehículo...",
        "options": [
            "no reduce nunca la probabilidad de sufrir un accidente.",
            "puede reducir la probabilidad de sufrir un accidente.",
            "elimina la probabilidad de sufrir un accidente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2116.jpg"
    },
    {
        "text": "Para evitar los accidentes, es importante...",
        "options": [
            "llevar incorporado al vehículo un GPS.",
            "reducir la velocidad en las zonas con radares.",
            "conducir con la máxima seguridad en todo momento."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513316.jpg"
    },
    {
        "text": "Según los estudios ¿qué días de la semana son los que registran más accidentes de tráfico?",
        "options": [
            "Los lunes y martes.",
            "Los fines de semana.",
            "Ninguno, puesto que la accidentalidad es muy baja en cómputo semanal."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510114_050216.jpg"
    },
    {
        "text": "Durante el día, ¿cuándo se produce el mayor número de accidentes?",
        "options": [
            "A primera hora de la mañana.",
            "A las horas de entrada o salida del trabajo.",
            "A la hora de entrada en los trabajos, solamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513206.jpg"
    },
    {
        "text": "¿En qué épocas del año se producen más accidentes de circulación?",
        "options": [
            "Fuera de los periodos vacacionales.",
            "Es indiferente.",
            "Durante los periodos de vacaciones."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505502.jpg"
    },
    {
        "text": "En ciudad, ¿es importante no circular a más de 50 kilómetros por hora?",
        "options": [
            "No, sobre todo en las calles y avenidas anchas.",
            "Sí, pero sólo para no ser sancionado por exceso de velocidad.",
            "Sí, para que, en caso de atropello, el peatón tenga más posibilidades de sobrevivir."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505602.jpg"
    },
    {
        "text": "A más de 120 kilómetros por hora en autopista, la probabilidad de sobrevivir a un accidente...",
        "options": [
            "no varía.",
            "disminuye.",
            "aumenta."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510102_250716.jpg"
    },
    {
        "text": "Las autovías y las autopistas, en general, son en relación con las carreteras convencionales...",
        "options": [
            "igual de seguras.",
            "menos seguras.",
            "más seguras."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505806.jpg"
    },
    {
        "text": "Si el entorno de la vía es monótono y hay poco tráfico...",
        "options": [
            "disminuye el número de distracciones al volante.",
            "aumenta la capacidad de concentración.",
            "aumenta el número de distracciones al volante."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512326.jpg"
    },
    {
        "text": "La mayor parte de los accidentes de circulación tienen lugar...",
        "options": [
            "en los cambios de rasante.",
            "en las curvas.",
            "en las rectas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514602.jpg"
    },
    {
        "text": "En vías urbanas, ¿cuál es el tipo de accidente con víctimas más frecuente en el que se ven implicadas las furgonetas?",
        "options": [
            "Colisión lateral y frontolateral.",
            "Salida de la vía.",
            "Atropello a peatones."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510101_051221.jpg"
    },
    {
        "text": "¿En qué momento del día sufren más siniestralidad los furgones?",
        "options": [
            "A las 7:00 horas o al anochecer.",
            "Festivos.",
            "De 15:00 a 16:00 horas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510131_150723.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>