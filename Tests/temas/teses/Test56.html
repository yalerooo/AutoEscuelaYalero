<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "¿Cómo se llama la conducción que nos permite circular anticipándonos a los posibles riesgos?",
        "options": [
            "Eficiente.",
            "Peligrosa.",
            "Preventiva."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3430.jpeg"
    },
    {
        "text": "La conducción preventiva es...",
        "options": [
            "una forma de conducir peligrosa.",
            "una forma de conducción lenta e inadecuada.",
            "una actitud ante la conducción que permite al conductor circular de una manera más segura."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3301.jpg"
    },
    {
        "text": "La conducción preventiva permite...",
        "options": [
            "reaccionar con tiempo suficiente para evitar riesgos.",
            "evitar totalmente los atropellos.",
            "ahorrar combustible."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3302.jpg"
    },
    {
        "text": "En las técnicas de conducción preventiva, ¿es suficiente con conducir cumpliendo las normas?",
        "options": [
            "Sí, porque cumplir las normas es obligatorio.",
            "No, hay que tener también en cuenta que otro conductor puede cometer una infracción.",
            "Sí, porque cumpliendo la normativa de tráfico el riesgo es nulo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3303.jpg"
    },
    {
        "text": "Una de las técnicas de visión en la conducción preventiva consiste en...",
        "options": [
            "mirar a lo lejos, a los lados y por los retrovisores.",
            "instalar espejos panorámicos.",
            "acostumbrarse a los deslumbramientos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3305.jpg"
    },
    {
        "text": "Mientras conduce, ¿es necesario utilizar los espejos retrovisores con regularidad?",
        "options": [
            "No, sólo es necesario cuando se vaya a realizar alguna maniobra.",
            "El uso de los espejos retrovisores no aporta seguridad adicional a la conducción.",
            "Sí, aunque no se vaya a realizar ninguna maniobra."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512222.jpg"
    },
    {
        "text": "Para conducir con hielo en la calzada de una forma preventiva debe...",
        "options": [
            "tener especial cuidado durante el día.",
            "disminuir la velocidad y utilizar marchas cortas.",
            "disminuir la velocidad y utilizar marchas largas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3311.jpg"
    },
    {
        "text": "Las técnicas de conducción preventiva se basan en los principios de...",
        "options": [
            "visión, anticipación y gestión del tiempo.",
            "visión y gestión del espacio, únicamente.",
            "visión, anticipación y gestión del espacio."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510116_150116.jpg"
    },
    {
        "text": "Para anticiparse al peligro es muy importante que el conductor...",
        "options": [
            "esté siempre preparado para actuar en una situación de peligro.",
            "piense que únicamente los demás conductores cometen errores.",
            "lleve siempre el pie puesto encima del pedal del freno."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4101.jpg"
    },
    {
        "text": "Para anticiparse al peligro y tomar decisiones seguras...",
        "options": [
            "debe centrar la atención en el vehículo de delante.",
            "debe mirar hasta donde se encuentre transcurridos 5 segundos.",
            "prestar atención constante a la vía y su entorno."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3306.jpg"
    },
    {
        "text": "Cuando un conductor circula a velocidad adecuada...",
        "options": [
            "hace que la circulación sea lenta y peligrosa.",
            "estorba a otros conductores y puede causar un accidente.",
            "puede detectar las intenciones de otros usuarios y reaccionar a tiempo para evitar un accidente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500516.jpg"
    },
    {
        "text": "Para circular con seguridad debe haber un espacio suficiente...",
        "options": [
            "por detrás, por delante y en los laterales.",
            "por delante, únicamente.",
            "sólo a los lados."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3307.jpg"
    },
    {
        "text": "En una situación incierta, podrá ganar unos metros vitales para evitar un accidente si coloca el pie...",
        "options": [
            "encima del pedal del freno, presionándolo levemente.",
            "frente al pedal del freno sin llegar a presionar.",
            "frente al pedal del embrague."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3308.jpg"
    },
    {
        "text": "Al circular detrás de un vehículo voluminoso que quiere girar a la derecha, ¿qué debe tener en cuenta?",
        "options": [
            "Que el vehículo voluminoso no reducirá su velocidad.",
            "Que el vehículo voluminoso, antes de girar, probablemente se desplazará hacia la izquierda.",
            "Que el vehículo voluminoso se acercará lo máximo posible a la derecha."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3312.jpg"
    },
    {
        "text": "En una pendiente descendente prolongada, ¿cómo es recomendable conducir?",
        "options": [
            "Con marchas cortas para utilizar poco el freno.",
            "Controlando la velocidad con el freno y el embrague.",
            "Circulando en punto muerto."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T503121.jpg"
    },
    {
        "text": "La velocidad del vehículo se puede reducir...",
        "options": [
            "sólo con el motor.",
            "con los frenos y con el motor.",
            "sólo con los frenos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3314.jpg"
    },
    {
        "text": "En un vehículo, ¿se debe utilizar el motor como freno?",
        "options": [
            "No, porque se desgasta el embrague.",
            "Sí, para no abusar de los frenos y evitar su calentamiento sobre todo en las bajadas pronunciadas.",
            "No es aconsejable porque se gasta más combustible."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3315.jpg"
    },
    {
        "text": "Las técnicas de conducción eficiente...",
        "options": [
            "son complementarias a las técnicas de conducción preventiva.",
            "son más eficaces que las técnicas de conducción preventiva.",
            "son lo mismo que las técnicas de conducción preventiva."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3401.jpg"
    },
    {
        "text": "Las técnicas de conducción eficiente, ¿aumentan la seguridad vial?",
        "options": [
            "No, únicamente reducen la contaminación ambiental.",
            "Sí, son técnicas similares a las de la conducción preventiva, y la prevención aumenta la seguridad.",
            "No, sólo mejoran el confort de la conducción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3402.jpg"
    },
    {
        "text": "Para conseguir una conducción eficiente se debe circular...",
        "options": [
            "variando continuamente la velocidad, para que no se fatigue el motor.",
            "a una velocidad uniforme, evitando los frenazos y los acelerones.",
            "utilizando, en la medida de lo posible, las marchas más cortas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503420.jpg"
    },
    {
        "text": "Para realizar una conducción económica se recomienda en los motores de gasolina realizar los cambios de marcha...",
        "options": [
            "entre 1.500 rpm a 2.000 revoluciones por minuto.",
            "entre 3.000 rpm a 3.500 revoluciones por minuto.",
            "entre 2.000 rpm a 2.500 revoluciones por minuto."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504409.jpg"
    },
    {
        "text": "Una buena técnica para tomar una curva es...",
        "options": [
            "mantener pisado el embrague desde la mitad de la curva hasta salir de ella.",
            "frenar antes de entrar en la curva y acelerar suavemente a la salida de la misma.",
            "frenar a la mitad de la curva aproximadamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504827.jpg"
    },
    {
        "text": "La primera velocidad debe utilizarse...",
        "options": [
            "el mayor tiempo posible.",
            "lo mínimo posible.",
            "sólo para subir pendientes muy pronunciadas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3409.jpg"
    },
    {
        "text": "En esta curva pisa el freno muy fuerte. ¿Hay peligro?",
        "options": [
            "Sí, porque puede reventar alguna rueda.",
            "No, porque el vehículo frena mejor.",
            "Sí, porque el vehículo puede derrapar."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500122.jpg"
    },
    {
        "text": "Entre las causas más frecuentes del derrape se puede citar...",
        "options": [
            "llevar equipaje o carga en la baca.",
            " un uso brusco o inadecuado de los frenos.",
            "que tenga la dirección asistida."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504417.jpg"
    },
    {
        "text": "Si se produce un derrape en las ruedas traseras, se debe...",
        "options": [
            "frenar inmediatamente.",
            "dejar de acelerar, no frenar y girar el volante hacia el lado al que derrapan las ruedas traseras.",
            "pisar a fondo el pedal del embrague y girar el volante a derecha e izquierda."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3004.jpg"
    },
    {
        "text": "Circulando a 100 km/h se rompe el freno de pie. ¿Cómo se puede detener el vehículo?",
        "options": [
            "Poniendo velocidades más cortas y al final con el freno de mano.",
            "Con el freno de mano solamente",
            "Pisando varias veces el pedal del embrague y el pedal del freno."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500303.jpg"
    },
    {
        "text": "Circula conduciendo una motocicleta y se encuentra con un bache en la calzada. Si no puede esquivarlo o evitarlo, ¿cuál de los siguientes comportamientos sería el más idóneo?",
        "options": [
            "Aumentar la velocidad al máximo y desembragar justo en el momento en que se circule sobre el bache.",
            "Ponerse de pie sobre los reposapiés laterales y aumentar rápidamente la velocidad.",
            "Aminorar la velocidad y pasar sobre el bache manteniendo vertical la motocicleta."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511526.jpg"
    },
    {
        "text": "Circulando cuesta abajo, ¿puede poner punto muerto para ahorrar carburante?",
        "options": [
            "Sí, porque en punto muerto el motor no consume.",
            "No, porque se puede romper el motor.",
            "No, porque puedo perder el control del vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3420.jpg"
    },
    {
        "text": "Queda atascado con su turismo en una zona de barro donde patinan las ruedas motrices. ¿Cuál es la forma más adecuada de actuar para seguir circulando?",
        "options": [
            "Preparar un terreno estable colocando el material adecuado cerca de las ruedas motrices para que estas tengan la adherencia suficiente.",
            "Empujar el vehículo por uno de los laterales hacia una mejor superficie con adherencia.",
            "Pisar a fondo el pedal acelerador para conseguir mayor tracción en las ruedas y así lograr mayor adherencia."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510101_151221.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>