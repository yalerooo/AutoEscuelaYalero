<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Obliga a circular a todo tipo de camiones y furgones, independientemente de su M.M.A.",
            "Prohíbe circular a los camiones de más de 3500 Kg. de M.M.A.",
            "Obliga a circular, únicamente, a los camiones y furgones de más de 3500 Kg de M.M.A."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T508915.jpg"
    },
    {
        "text": "Por la calzada a cuya entrada está situada esta señal, ¿qué vehículos están obligados a circular?",
        "options": [
            "Los camiones y furgones con una MMA igual o superior a 5,5 toneladas.",
            "Los camiones y furgones con una MMA superior a 5,5 toneladas.",
            "Solamente los camiones con una MMA superior a 5,5 toneladas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T507027.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Obliga a los jinetes a utilizar con sus animales de montura el camino a cuya entrada esté situada.",
            "Obliga a los conductores de vehículos de tracción animal a utilizar el camino a cuya entrada esté situada.",
            "Prohíbe el acceso a los vehículos de tracción animal."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510115_050717.jpg"
    },
    {
        "text": "Esta señal...",
        "options": [
            "obliga a las bicicletas a circular por la vía que señaliza, pero no prohíbe hacerlo a los demás usuarios.",
            "indica que se trata de una vía reservada para ciclos y peatones.",
            "obliga a las bicicletas a circular por la vía que señaliza, y prohíbe hacerlo a los demás usuarios."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513127.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Vía reservada para ciclos.",
            "Vía reservada a ciclomotores.",
            "Prohibición de entrada a ciclomotores."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T501316.jpg"
    },
    {
        "text": "La señal indica...",
        "options": [
            "camino obligatorio para peatones y prohibido a los vehículos.",
            "entrada prohibida a peatones.",
            "situación de un paso para peatones."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500804.jpg"
    },
    {
        "text": "Esta señal indica...",
        "options": [
            "la prohibición de circular por esta calzada para todos los conductores de vehículos que transporten mercancías.",
            "la obligación de circular por esta calzada para todos los conductores de vehículos que transporten mercancías peligrosas.",
            "la obligación de circular por esta calzada para todos los conductores de vehículos que transporten mercancías explosivas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514803.jpg"
    },
    {
        "text": "Esta señal...",
        "options": [
            "obliga a los conductores de vehículos que transporten mercancías peligrosas, a circular por la calzada a cuya entrada esté situada.",
            "obliga a los conductores de vehículos que transporten mercancías explosivas o fácilmente inflamables, a circular por la calzada a cuya entrada esté situada.",
            "obliga a los conductores de vehículos que transporten más de mil litros de productos capaces de contaminar el agua, a circular por la calzada a cuya entrada esté situada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511102.jpg"
    },
    {
        "text": "A partir de esta señal, circular como mínimo a 30 kilómetros por hora...",
        "options": [
            "es obligatorio.",
            "es recomendable.",
            "está prohibido."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500326.jpg"
    },
    {
        "text": "Esta señal...",
        "options": [
            "aconseja el uso de cadenas en caso de nevada.",
            "advierte del peligro que supone circular sin cadenas para la nieve.",
            "obliga al uso de cadenas u otros dispositivos autorizados, en caso de nevada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513027.jpg"
    },
    {
        "text": "Esta señal, ¿prohíbe proseguir la marcha si no dispone de cadenas para nieve?",
        "options": [
            "No, ya que esta señal sólo recomienda la utilización de cadenas.",
            "Sí, en cualquier caso.",
            "Sí, a no ser que disponga de otros dispositivos autorizados, igual de eficaces."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T501619.jpg"
    },
    {
        "text": "A partir de esta señal está obligado a llevar encendido, al menos, el alumbrado de...",
        "options": [
            "posición.",
            "largo alcance.",
            "corto alcance."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T503606.jpg"
    },
    {
        "text": "Esta señal, en un carril de entrada a un peaje, obliga a quienes circulen por él a...",
        "options": [
            "pagar, exclusivamente, mediante el sistema de peaje dinámico o telepeaje.",
            "utilizarlo, aunque el vehículo no esté equipado con el sistema de telepeaje operativo.",
            "pagar mediante el sistema de telepeaje o con otros medios."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T503914.jpg"
    },
    {
        "text": "Esta señal indica el lugar a partir del cual...",
        "options": [
            "finalizan todas las prohibiciones de las señales anteriores para vehículos en movimiento.",
            "comienza la prohibición indicada anteriormente.",
            "se inician las prohibiciones indicadas por anteriores señales de prohibición."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500420.jpg"
    },
    {
        "text": "En una autopista a partir de esta señal:",
        "options": [
            "Finalizan todas las prohibiciones anteriores, incluida la prohibición de superar los 80 kilómetros por hora.",
            "Finaliza la prohibición de superar los ochenta kilómetros por hora.",
            "La velocidad máxima recomendada es de ochenta kilómetros por hora."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504103.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Fin de prohibición de adelantamiento para todo tipo de vehículos.",
            "Fin de prohibición de adelantamiento para turismos, únicamente.",
            "Fin de todas las prohibiciones anteriores de carácter local referidas a los camiones."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T514916.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Fin de circulación paralela.",
            "Fin de prohibición de adelantamiento para camiones.",
            "Fin de todas las prohibiciones anteriores de carácter local referidas a los camiones."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514201.jpg"
    },
    {
        "text": "Esta señal...",
        "options": [
            "prohíbe el acceso a ciclos.",
            "indica fin de vía reservada para ciclos.",
            "prohíbe el paso a vehículos de dos ruedas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514627.jpg"
    },
    {
        "text": "¿Qué indica la señal?",
        "options": [
            "Fin de velocidad mínima obligatoria.",
            "Fin de velocidad máxima aconsejable.",
            "Fin de velocidad máxima permitida."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T502515.jpg"
    },
    {
        "text": "Esta señal indica que empieza...",
        "options": [
            "una carretera con un paso elevado.",
            "una autovía.",
            "una autopista."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500908.jpg"
    },
    {
        "text": "Esta señal indica...",
        "options": [
            "el principio de una autovía.",
            "el final de una autovía.",
            "que se circula por un carril que conduce a una autovía."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T501524.jpg"
    },
    {
        "text": "¿Qué significa esta señal?",
        "options": [
            "Vía reservada para automóviles.",
            "Calzada obligatoria para automóviles, excepto motocicletas sin sidecar.",
            "Calzada obligatoria para automóviles."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513729.jpg"
    },
    {
        "text": "Esta señal indica...",
        "options": [
            "una vía reservada a turismos.",
            "la prohibición de entrada a automóviles.",
            "el fin de una vía reservada para automóviles."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T503827.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "La obligación de encender las luces de cruce.",
            "El inicio de un túnel o paso inferior.",
            "La situación de una obra histórica o artística declarada monumento."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T511715.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "El final de un túnel o paso inferior.",
            "El final de un túnel o un paso superior.",
            "El principio de un túnel."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T514501.jpg"
    },
    {
        "text": "Esta señal, ¿qué indica?",
        "options": [
            "La velocidad máxima a la que podemos circular.",
            "La velocidad mínima a la que debemos circular.",
            "La velocidad máxima que se aconseja no sobrepasar, aunque las circunstancias meteorológicas sean favorables."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514015.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Fin de velocidad mínima aconsejada.",
            "Fin de velocidad máxima aconsejada.",
            "Fin de velocidad mínima obligatoria."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T506015.jpg"
    },
    {
        "text": "Esta señal significa intervalo...",
        "options": [
            "aconsejado de velocidades, aunque las condiciones sean desfavorables.",
            "aconsejado de velocidades, siempre que las condiciones sean favorables.",
            "obligatorio de velocidades, siempre que las condiciones sean favorables."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504715.jpg"
    },
    {
        "text": "Con esta señalización, ¿a qué velocidad debe circular?",
        "options": [
            "Obligatoriamente a 30 km/h.",
            "A 30 km/h, como recomendación, durante el tramo que subsista el peligro.",
            "Al menos a 30 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503015.jpg"
    },
    {
        "text": "Esta señal indica...",
        "options": [
            "bifurcación hacia la izquierda en calzada de un solo carril.",
            "la proximidad de una zona en la que puede inmovilizar el vehículo para realizar algún descanso.",
            "la situación de una zona de escape acondicionada para que pueda detener el vehículo en caso de fallo del sistema de frenado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502705.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>