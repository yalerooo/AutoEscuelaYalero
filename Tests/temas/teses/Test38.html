<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Si tiene su permiso B desde hace más de un año, y ahora obtiene el de la clase A, ¿está obligado a llevar la placa L en su motocicleta?",
        "options": [
            "Sí, durante un año, en la parte trasera.",
            "No.",
            "Sí, en la parte delantera, durante un año."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505712.jpg"
    },
    {
        "text": "¿Es obligatorio matricular a un ciclomotor?",
        "options": [
            "No, es opcional.",
            "Sí, pero únicamente si es para circular por vías interurbanas.",
            "Sí, es obligatorio para poder circular por las vías públicas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505520.jpg"
    },
    {
        "text": "Además del recibo del seguro obligatorio y del permiso de conducción, ¿qué otra documentación debe llevar el conductor de un turismo?",
        "options": [
            "El permiso de circulación, solamente.",
            "El permiso de circulación y la tarjeta ITV.",
            "No es obligatorio llevar ningún documento más."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T511414.jpg"
    },
    {
        "text": "¿Qué documentos relativos al vehículo debe llevar consigo un conductor de una motocicleta?",
        "options": [
            "La tarjeta de inspección técnica, solamente.",
            "El permiso de circulación, solamente.",
            "La tarjeta de inspección técnica y el permiso de circulación."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505914.jpg"
    },
    {
        "text": "El permiso de circulación es obligatorio para los remolques y semirremolques...",
        "options": [
            "cualquiera que sea su MMA.",
            "que tengan una MMA no superior a 750 kg.",
            "que tengan una MMA superior a 750 kg."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2016.jpg"
    },
    {
        "text": "¿Es necesario renovar el permiso de circulación?",
        "options": [
            "Sí, cada 4 años.",
            "Sí, cuando el vehículo cambia de titular.",
            "No, es un documento que nunca se renueva."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513520.jpg"
    },
    {
        "text": "¿Qué documento acredita que un vehículo reúne las condiciones técnicas necesarias para circular?",
        "options": [
            "El certificado del seguro y el último recibo del pago de la prima.",
            "El recibo del impuesto de vehículos de tracción mecánica.",
            "La tarjeta ITV."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502815.jpg"
    },
    {
        "text": "¿Cuál de estos vehículos debe tener tarjeta de ITV?",
        "options": [
            "Sólo los vehículos de motor.",
            "Todos los remolques y semirremolques.",
            "Los remolques y semirremolques que tengan una MMA superior a 750 kg."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510117_0512.jpg"
    },
    {
        "text": "¿Quién es el responsable de pasar la ITV a un turismo?",
        "options": [
            "El titular del vehículo.",
            "El conductor habitual.",
            "El tomador del seguro."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2019.jpg"
    },
    {
        "text": "¿Quién es responsable de las infracciones relativas a la documentación y el estado del vehículo?",
        "options": [
            "El tomador del seguro.",
            "El conductor en el momento en el que se detecta la infracción.",
            "El titular del vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502907.jpg"
    },
    {
        "text": "Para saber la antigüedad de un turismo, a efectos de pasar la ITV, debe consultar la fecha de...",
        "options": [
            "compra del vehículo.",
            "primera matriculación del vehículo.",
            "la tarjeta ITV."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510102_050216.jpg"
    },
    {
        "text": "¿Cuándo debe pasar un turismo la primera inspección técnica?",
        "options": [
            "A los 3 años, a partir de la fecha de la primera matriculación.",
            "A los 4 años, a partir de la fecha de fabricación o importación.",
            "A los 4 años, a partir de la fecha de la primera matriculación."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2020.jpg"
    },
    {
        "text": "Si su turismo ha pasado favorablemente la primera ITV, ¿cuándo tiene que pasar la próxima inspección?",
        "options": [
            "Dentro de 4 años.",
            "Dentro de 2 años.",
            "Al año siguiente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T508022.jpg"
    },
    {
        "text": "Un turismo de uso privado con cuatro años de antigüedad, debe someterse a la inspección técnica periódica...",
        "options": [
            "cada año.",
            "cada cinco años.",
            "cada dos años."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513704.jpg"
    },
    {
        "text": "Un turismo de uso privado con once años de antigüedad, debe someterse a la inspección técnica periódica...",
        "options": [
            "cada año.",
            "cada cuatro años.",
            "cada dos años."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2021.jpg"
    },
    {
        "text": "Cuando se hacen cambios importantes en las características técnicas del vehículo, ¿se debe hacer inmediatamente la inspección técnica del vehículo?",
        "options": [
            "Sí, en todo caso.",
            "Se puede esperar hasta la que corresponda por razón de la antigüedad del vehículo.",
            "No."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505802.jpg"
    },
    {
        "text": "Una motocicleta nueva, ¿cuándo debe pasar la primera ITV?",
        "options": [
            "A los tres años de haber sido matriculada.",
            "A los dos años de haber sido matriculada.",
            "A los cuatro años de haber sido matriculada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512930.jpg"
    },
    {
        "text": "Si una motocicleta acaba de pasar la primera revisión ITV, debe pasar la siguiente dentro de...",
        "options": [
            "2 años.",
            "4 años.",
            "6 meses."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505420.jpg"
    },
    {
        "text": "Las motocicletas con más de cinco años de antigüedad deben pasar la ITV...",
        "options": [
            "cada año.",
            "cada cinco años.",
            "cada dos años."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2023.jpg"
    },
    {
        "text": "Este vehículo dispone de nueve plazas, incluido el conductor. ¿Cuándo debe pasar la primera ITV?",
        "options": [
            "A los 2 años de antigüedad.",
            "A los 3 años de antigüedad.",
            "A los 4 años de antigüedad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510106_150217.jpg"
    },
    {
        "text": "Este vehículo que tiene 6 años de antigüedad, ¿cada cuánto tiempo deberá pasar la inspección técnica periódica?",
        "options": [
            "Cada dos años.",
            "Cada año.",
            "Cada seis meses."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510122_250516.jpg"
    },
    {
        "text": "Una furgoneta con una antigüedad de más de 10 años, ¿con qué frecuencia debe pasar la inspección técnica periódica?",
        "options": [
            "Semestral.",
            "Bienal.",
            "Cada cuatro años."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510110_150723.jpg"
    },
    {
        "text": "Un camión que tiene una MMA de 2.500 kg y una antigüedad de 7 años tendrá que pasar la ITV...",
        "options": [
            "cada 6 meses.",
            "cada año.",
            "cada dos años."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2022.jpg"
    },
    {
        "text": "¿Los remolques tienen que pasar la ITV periódica?",
        "options": [
            "Sí, todos.",
            "Sólo los superiores a 750 kilogramos.",
            "No, sólo es necesario para el vehículo que lo arrastra."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512526.jpg"
    },
    {
        "text": "¿A qué está obligado si el resultado de la inspección ITV es favorable?",
        "options": [
            "A llevar únicamente la tarjeta ITV sellada.",
            "A colocar el distintivo en cualquier sitio visible del parabrisas y a llevar la tarjeta ITV sellada.",
            "A colocar el distintivo acreditativo en el ángulo superior derecho del parabrisas y a llevar el informe de la inspección en el vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2024.jpg"
    },
    {
        "text": "Si el resultado de la inspección realizada a su vehículo en una estación ITV es desfavorable, ¿podrá circular por las vías públicas?",
        "options": [
            "Sí, si el defecto observado no impide la marcha del vehículo.",
            "No, salvo para su traslado al taller y la vuelta a la ITV para nueva inspección.",
            "No, en absoluto, porque el vehículo causará baja definitiva."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2026.jpg"
    },
    {
        "text": "¿Qué tiene que hacer si el resultado de la ITV resulta negativo?",
        "options": [
            "Circular con el vehículo hasta el taller para reparar los defectos encontrados.",
            "Llevar el vehículo al taller en una grúa y volver a pasar una inspección en un plazo inferior a 2 meses.",
            "Reparar los defectos encontrados en el plazo de un año como máximo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T506308.jpg"
    },
    {
        "text": "Si los agentes detectan que su vehículo no tiene la ITV en regla, ¿de qué plazo dispondrá para pasarla?",
        "options": [
            "24 horas.",
            "10 días.",
            "30 días."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510102_250317.jpg"
    },
    {
        "text": "La ITV detecta con mayor frecuencia defectos relacionados con...",
        "options": [
            "el deterioro de la tarjeta de inspección técnica.",
            "una mala sujeción del cinturón de seguridad.",
            "el sistema de frenado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514212.jpg"
    },
    {
        "text": "En una inspección técnica en carretera, el inspector determina que su camión debe someterse a una inspección más minuciosa. ¿Dónde se realizará esta inspección?",
        "options": [
            "En una unidad móvil de inspección o en una estación ITV fija próxima.",
            "Siempre en una estación ITV fija, próxima.",
            "Siempre en una unidad móvil de inspección."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510130_250723.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>