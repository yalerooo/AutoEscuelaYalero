<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Antes de cargar combustible en el depósito de su turismo, deberá...",
        "options": [
            "únicamente parar el motor.",
            "parar el motor, desconectar los sistemas eléctricos y apagar el teléfono móvil.",
            "parar el motor y apagar las luces, únicamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513828.jpg"
    },
    {
        "text": "El consumo de combustible, ¿puede depender del estilo de conducir del conductor?",
        "options": [
            "No, sólo depende de la velocidad y del tipo de vehículo.",
            "No, solamente influye el buen o mal mantenimiento del vehículo.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3403.jpg"
    },
    {
        "text": "El estilo de conducción de una motocicleta, ¿puede influir en el consumo de combustible?",
        "options": [
            "No, si se adopta una postura aerodinámica.",
            "No, sólo depende de la cilindrada de la motocicleta.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500924.jpg"
    },
    {
        "text": "El consumo de combustible es menor si se circula con marchas...",
        "options": [
            "largas y el motor muy revolucionado.",
            "cortas y el motor muy revolucionado.",
            "largas y el motor poco revolucionado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3406.jpg"
    },
    {
        "text": "¿Cómo se puede ahorrar combustible?",
        "options": [
            "Cambiando a una marcha inferior lo antes posible.",
            "Cambiando a una marcha superior lo antes posible.",
            "Circulando, con frecuencia, a altas revoluciones."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3407.jpg"
    },
    {
        "text": "¿Es posible ahorrar combustible evitando cambios de marcha innecesarios?",
        "options": [
            "Depende de si el vehículo tiene motor diésel o de gasolina.",
            "No, en ningún caso.",
            "Sí, se puede reducir así el consumo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511622.jpg"
    },
    {
        "text": "Circular con las ventanillas abiertas...",
        "options": [
            "modifica la aerodinámica del vehículo, reduciendo el consumo de combustible.",
            "no modifica la aerodinámica del vehículo, ni influye en el consumo de combustible.",
            "modifica la aerodinámica del vehículo, aumentando el consumo de combustible."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3410.jpg"
    },
    {
        "text": "Para ahorrar carburante, ¿cómo se debe ventilar el vehículo?",
        "options": [
            "Con las entradas de aire que hay en el salpicadero.",
            "Abriendo todas las ventanillas.",
            "Abriendo solamente las ventanillas traseras."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3411.jpg"
    },
    {
        "text": "Si durante la conducción conecta el sistema de aire acondicionado, el consumo de carburante...",
        "options": [
            "no varía.",
            "disminuye si las temperaturas son bajas.",
            "aumenta."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3415.jpg"
    },
    {
        "text": "Cuando no utiliza la baca del vehículo, ¿es aconsejable quitarla?",
        "options": [
            "No, porque la baca aumenta la estabilidad del vehículo.",
            "Sí, porque sin baca ahorro carburante.",
            "Es igual, porque la baca no influye en el consumo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3413.jpg"
    },
    {
        "text": "Una forma de ahorrar combustible en su vehículo es...",
        "options": [
            "parar el motor en inmovilizaciones prolongadas, tales como atascos, etc.",
            "utilizar gasolina de octanaje inferior al establecido por el fabricante.",
            "utilizar el vehículo con el motor en punto muerto bajando pendientes."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3414.jpg"
    },
    {
        "text": "Mediante una conducción eficiente reducimos un 10-25% de combustible...",
        "options": [
            "y se reducen las emisiones contaminantes entre un 10 y un 25%.",
            "y se reducen las emisiones contaminantes entre un 50 y un 80%.",
            "pero no se reduce la contaminación."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T511810.jpg"
    },
    {
        "text": "¿En qué clase clasificarías a un coche eléctrico de batería y un híbrido enchufable con una autonomía mínima de 40 km?",
        "options": [
            "En la clase A.",
            "0 emisiones.",
            "ECO."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510123_050723.jpg"
    },
    {
        "text": "Una incorrecta presión de inflado...",
        "options": [
            "reduce el riesgo de reventón del neumático.",
            "puede aumentar el consumo de carburante.",
            "hace que el neumático se desgaste de forma regular."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T507408.jpg"
    },
    {
        "text": "Si modifica la aerodinámica del vehículo añadiendo elementos para hacerlo más atractivo...",
        "options": [
            "afectará considerablemente al consumo del carburante.",
            "será más seguro.",
            "será más ligero."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512210.jpg"
    },
    {
        "text": "El consumo de combustible puede incrementarse cuando...",
        "options": [
            "los neumáticos carecen de dibujo.",
            "el vehículo va muy cargado.",
            "las ventanillas del vehículo están subidas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510122_050217.jpg"
    },
    {
        "text": "La distribución de la carga en un vehículo, ¿afecta al consumo de combustible?",
        "options": [
            "No, en el consumo solo afecta la velocidad.",
            "No, en el consumo solo afecta el tipo de vehículo.",
            "Sí, por ello es muy importante colocar la carga de manera adecuada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512512.jpg"
    },
    {
        "text": "Un vehículo tiene el ralentí demasiado alto, ¿influye en el consumo de carburante?",
        "options": [
            "Sí, porque al girar el motor más deprisa, consume más.",
            "Sí, porque consume menos carburante.",
            "No, tal circunstancia no influye ni altera el consumo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3418.jpg"
    },
    {
        "text": "Arrancar el motor sin acelerar, ¿evita un consumo de combustible innecesario?",
        "options": [
            "Sí, en los vehículos actuales no es necesario pisar el acelerador para arrancar.",
            "No, se debe acelerar para arrancar.",
            "No, además no es posible arrancar sin acelerar."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510121_0512.jpg"
    },
    {
        "text": "¿Cómo podemos conseguir que durante la deceleración del vehículo el consumo de combustible sea nulo?",
        "options": [
            "Es imposible.",
            "Reduciendo la velocidad del vehículo con el freno motor.",
            "Pisando el embrague o colocando la palanca en punto muerto."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504902.jpg"
    },
    {
        "text": "Para contaminar lo menos posible es recomendable...",
        "options": [
            "mantener siempre la misma velocidad.",
            "mantener la velocidad lo más uniforme posible evitando acelerones y frenazos innecesarios.",
            "utilizar lo menos posible el transporte público."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500102.jpg"
    },
    {
        "text": "¿Está permitido circular con un vehículo que supera los límites permitidos de emisión de humo?",
        "options": [
            "Sí, mientras que no se trate de una avería.",
            "Sí, en todo caso.",
            "No, está prohibido."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3422.jpg"
    },
    {
        "text": "Los vehículos no podrán circular por las vías emitiendo...",
        "options": [
            "ruidos, de cualquier clase.",
            "niveles de ruido superiores a los limites establecidos.",
            "gases por el tubo de escape, porque contamina."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3423.jpg"
    },
    {
        "text": "Es obligatorio que todos los vehículos de motor estén dotados de...",
        "options": [
            "un dispositivo silenciador de explosiones.",
            "un juego de correas para el equipo motor.",
            "un extintor de incendios adecuado y eficaz."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3424.jpg"
    },
    {
        "text": "Un vehículo tiene el silenciador del escape estropeado. ¿Está permitido circular así?",
        "options": [
            "No, por la contaminación acústica que produce.",
            "Sí, solamente en carretera.",
            "No, pero las motos y ciclomotores pueden circular sin él."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3427.jpg"
    },
    {
        "text": "Circular con escape libre está prohibido...",
        "options": [
            "sólo a los vehículos automóviles.",
            "a los vehículos de motor, excepto ciclomotores, en vías urbanas.",
            "a todos los vehículos de motor y a los ciclomotores."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514712.jpg"
    },
    {
        "text": "¿Pueden los agentes inmovilizar un vehículo si produce un ruido excesivo?",
        "options": [
            "Sí, cuando el ruido supere los niveles permitidos.",
            "No, sólo pueden multarle.",
            "No, ya que no supone ningún peligro para la circulación."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3429.jpg"
    },
    {
        "text": "Un conductor, ¿está obligado a colaborar en las pruebas de detección de emisión de gases contaminantes de su vehículo?",
        "options": [
            "Sí, están obligados todos los conductores de vehículos.",
            "Sí, pero únicamente cuando pase la ITV.",
            "No, únicamente está obligado a colaborar en las pruebas de alcoholemia."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510103_150723.jpg"
    },
    {
        "text": "Arrojar un cigarro por la ventanilla de un turismo, ¿puede suponer una infracción?",
        "options": [
            "Sí, pero no conlleva pérdida de puntos.",
            "Sí, y además conlleva pérdida de puntos.",
            "No, pero no se debe hacer."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503218.jpg"
    },
    {
        "text": "Está prohibido arrojar a la vía objetos...",
        "options": [
            "únicamente si pueden entorpecer la libre circulación.",
            "que puedan deteriorar la vía o sus instalaciones.",
            "solamente si pueden deteriorar la vía."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503623.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>