<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Se considera peatón a la persona...",
        "options": [
            "que circula con una bicicleta.",
            "al cargo de la cual está un animal o animales.",
            "que, sin ser conductor, transita a pie por las vías públicas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T506024.jpg"
    },
    {
        "text": "La persona con discapacidad que circula, al paso, en una silla de ruedas con motor, tiene la consideración de...",
        "options": [
            "peatón.",
            "conductor.",
            "conductor de vehículo especial."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510120_150117.jpg"
    },
    {
        "text": "Se considera conductor a la persona...",
        "options": [
            "que conduce a pie un ciclo o ciclomotor de dos ruedas.",
            "que maneja el volante de un vehículo cuando circula en prácticas.",
            "que maneja el mecanismo de dirección o va al mando de un vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P0103.jpg"
    },
    {
        "text": "Vehículo es todo aparato...",
        "options": [
            "apto para circular por las vías públicas.",
            "que está en la vía pública.",
            "que tiene un motor."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P0101.jpg"
    },
    {
        "text": "El automóvil es un vehículo de motor que sirve normalmente...",
        "options": [
            "para la realización de trabajos agrícolas.",
            "para transportar personas o cosas o ambas a la vez, o para la tracción de otros vehículos con ese fin.",
            "para realizar obras o determinados servicios."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P0102.jpg"
    },
    {
        "text": "Los vehículos especiales...",
        "options": [
            "sólo pueden realizar actividades agrícolas.",
            "no pueden ser vehículos de motor.",
            "pueden ser autopropulsados o remolcados."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510124_050316.jpg"
    },
    {
        "text": "Ciclo es el vehículo de...",
        "options": [
            "dos ruedas accionado con un motor.",
            "dos o más ruedas accionado con un motor o con pedales.",
            "dos ruedas por lo menos, accionado por su conductor mediante pedales o manivelas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P0104.jpg"
    },
    {
        "text": "Son remolques ligeros aquellos cuya MMA...",
        "options": [
            "es igual a 750 kg.",
            "no supera los 750 kg.",
            "supera los 750 kg."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503414.jpg"
    },
    {
        "text": "Un vehículo de una o más ruedas dotado de una única plaza y propulsado exclusivamente por motores eléctricos que pueden proporcionar al vehículo una velocidad máxima por diseño comprendida entre los 6 y los 25 km/h es:",
        "options": [
            "un cuadriciclo ligero.",
            "un vehículo de movilidad personal.",
            "un vehículo de tres ruedas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514926.jpg"
    },
    {
        "text": "¿Puede el vehículo de movilidad personal tener sillín?",
        "options": [
            "Sí.",
            "Sí, si está dotado de sistema de autoequilibrado.",
            "No porque ya no se consideraría vehículo de movilidad personal."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510130_180322.jpg"
    },
    {
        "text": "Desde el punto de vista de la circulación, ¿es el ciclomotor un vehículo de motor?",
        "options": [
            "Sí, porque necesitan un motor para su funcionamiento.",
            "No.",
            "Sí, porque se trata de un vehículo autopropulsado."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P0105.jpg"
    },
    {
        "text": "Un ciclomotor de dos ruedas es un vehículo con un motor de cilindrada...",
        "options": [
            "no superior a 50 centímetros cúbicos y una velocidad máxima no superior a 45 km/h.",
            "inferior a 50 centímetros cúbicos.",
            "no superior a 50 centímetros cúbicos si es de combustión interna."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P0106.jpg"
    },
    {
        "text": "¿Qué es un cuadriciclo ligero?",
        "options": [
            "Un vehículo de motor de cuatro ruedas con una cilindrada no superior a 50 centímetros cúbicos.",
            "Un vehículo de cuatro ruedas cuya masa en vacío es inferior a 350 kg, con velocidad no superior a 45 km/h y un motor de cilindrada inferior o igual a 50 centímetros cúbicos.",
            "Un automóvil de cuatro ruedas cuya masa en vacío es inferior o igual a 400 kg."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510120_050216.jpg"
    },
    {
        "text": "Se define como motocicleta al automóvil...",
        "options": [
            "de dos ruedas con un motor de cilindrada superior a 50 centímetros cúbicos, y/o con una velocidad máxima superior a 45 km/h.",
            "de dos o tres ruedas con una cilindrada inferior a 50 centímetros cúbicos.",
            "con una cilindrada superior a 125 centímetros cúbicos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T507107.jpg"
    },
    {
        "text": "Desde el punto de vista de la circulación, ¿es una motocicleta un automóvil?",
        "options": [
            "No, porque los automóviles son los turismos.",
            "Sí, porque es un vehículo que se mueve por sí mismo.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P0107.jpg"
    },
    {
        "text": "Un automóvil de tres ruedas dispuestas asimétricamente, provisto de un motor de cilindrada superior a 50 cm³, si es de combustión interna, y/o con una velocidad máxima por construcción superior a 45 km/h es...",
        "options": [
            "un cuadriciclo ligero.",
            "una motocicleta con sidecar.",
            "un vehículo de tres ruedas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T508330.jpg"
    },
    {
        "text": "Un automóvil de dos ruedas que por construcción desarrolla una velocidad superior a 45 kilómetros por hora es...",
        "options": [
            "una bicicleta.",
            "un ciclomotor.",
            "una motocicleta."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505213.jpg"
    },
    {
        "text": "Un automóvil destinado al transporte de personas, con cuatro ruedas como mínimo y un máximo de 9 plazas, incluyendo la del conductor es...",
        "options": [
            "un turismo.",
            "un autobús.",
            "un derivado de turismo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T509928.jpg"
    },
    {
        "text": "¿Qué es un derivado de turismo?",
        "options": [
            "Un vehículo destinado al transporte de mercancías o determinados servicios.",
            "Un vehículo destinado al transporte de personas.",
            "Un vehículo destinado al transporte de personas y mercancías."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510128_050116.jpg"
    },
    {
        "text": "Un automóvil construido para el transporte de mercancías cuya cabina está integrada en el resto de la carrocería y con un máximo de 9 plazas, incluido el conductor es...",
        "options": [
            "un camión.",
            "un tractocamión.",
            "una furgoneta."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513730.jpg"
    },
    {
        "text": "Un vehículo destinado al alquiler sin conductor que se dedica a un uso concatenado e intensivo por un número indeterminado de usuarios dentro de una zona de servicios delimitada. ¿Debe estar disponible, en cualquier momento, para ser utilizado?",
        "options": [
            "Sí, dentro de un horario.",
            "Sí, los fines de semana con conductor y entre semana sin conductor.",
            "Sí, y solicitar su servicio mediante el empleo de aplicaciones móviles."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510121_150623.jpg"
    },
    {
        "text": "¿Dónde se aplican las normas de circulación?",
        "options": [
            "En la calzada, solamente.",
            "En toda la vía.",
            "Únicamente en poblado."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510108_250216.jpg"
    },
    {
        "text": "Como norma general las señales se aplican...",
        "options": [
            "a toda la vía.",
            "sólo al carril derecho.",
            "a toda la anchura de la calzada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T501309.jpg"
    },
    {
        "text": "La señalización tiene por misión...",
        "options": [
            "complementar a las normas.",
            "confirmar las excepciones de las normas.",
            "advertir, informar, ordenar o reglamentar el comportamiento de los usuarios."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510710.jpg"
    },
    {
        "text": "La parte de la vía destinada a la circulación de turismos es...",
        "options": [
            "la calzada.",
            "el arcén.",
            "la mediana."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P0109.jpg"
    },
    {
        "text": "Los peatones, ¿tienen los mismos derechos que los conductores para utilizar las vías públicas?",
        "options": [
            "No.",
            "Sí.",
            "Sólo en las calles residenciales."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P0123.jpg"
    },
    {
        "text": "En las zonas urbanas, los peatones están obligados a circular, como norma general, por...",
        "options": [
            "Es indiferente.",
            "Por las aceras.",
            "Por la calzada."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514811.jpg"
    },
    {
        "text": "Los resaltos en los pasos para peatones, ¿se consideran obstáculos en la calzada?",
        "options": [
            "No, siempre que se garantice la seguridad vial de los usuarios y especialmente de los ciclistas.",
            "Sí, cuando son metálicos.",
            "Sí, puesto que dificultan el cruce de los pasos de peatones."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P0113.jpg"
    },
    {
        "text": "Los usuarios de monopatines, patines o similares...",
        "options": [
            "tienen prohibido circular por las zonas peatonales.",
            "en ningún caso tienen permitido ser arrastrados por otros vehículos.",
            "deben circular por la calzada para evitar atropellos a los peatones."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T501519.jpg"
    },
    {
        "text": "Un cambio de rasante es:",
        "options": [
            "Un tramo de vía donde no se ve el ancho total de la calzada.",
            "Un lugar en el que se encuentran dos tramos de vía de distinta inclinación.",
            "Un tramo de vía donde hay un cambio de dirección."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P0110.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>