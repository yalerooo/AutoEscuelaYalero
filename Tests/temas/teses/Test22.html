<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "La carga de un camión sobresale lateralmente 0,40 metros de sus luces de posición. ¿Se debe señalizar?",
        "options": [
            "No.",
            "Sí, con un panel reflectante blanco.",
            "Sí, pero sólo de noche."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T101050616_09.jpg"
    },
    {
        "text": "De noche, cuando la carga sobresalga por delante, debe señalizarla con una luz...",
        "options": [
            "amarilla o blanca y un dispositivo reflectante del mismo color.",
            "blanca.",
            "amarilla o blanca cuando sobresalga más de un 10%."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503922.jpg"
    },
    {
        "text": "De noche, la carga que sobresale por detrás debe señalizarse con un panel reflectante y...",
        "options": [
            "una luz roja.",
            "dos luces amarillo-auto.",
            "una luz amarilla o blanca."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513325.jpg"
    },
    {
        "text": "De noche, ¿cómo se debe señalizar la carga que sobresale por delante y por detrás?",
        "options": [
            "Solamente con el panel de franjas oblicuas rojas y blancas.",
            "Con una luz blanca por delante, una luz roja por detrás y el panel de franjas oblicuas rojas y blancas.",
            "Con un catadióptrico blanco por delante y uno rojo por detrás."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505024.jpg"
    },
    {
        "text": "De noche, es obligatorio señalizar una carga que sobresale lateralmente más de 0,40 metros...",
        "options": [
            "con una luz blanca y un dispositivo reflectante de color blanco por delante y con una luz roja y un dispositivo reflectante de color rojo por detrás.",
            "con un panel reflectante por detrás solamente.",
            "con una luz roja y un dispositivo reflectante rojo por detrás, solamente."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P1918.jpg"
    },
    {
        "text": "La carga de su turismo sobresale por detrás. ¿Qué debe hacer?",
        "options": [
            "No es obligatorio señalizarla.",
            "Señalizarla con paneles de franjas rojas y blancas.",
            "Señalizarla con tela de color."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514719.jpg"
    },
    {
        "text": "Este panel deberá colocarse...",
        "options": [
            "en la parte trasera de los vehículos destinados exclusivamente al transporte de mercancías.",
            "en la parte trasera de la carga que sobresalga de cualquier vehículo con anchura de 1 m. al menos.",
            "en la parte delantera y trasera en los vehículos destinados exclusivamente al transporte de mercancías."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P1928.jpg"
    },
    {
        "text": "Los paneles de las esquinas del camión, ¿qué indican?",
        "options": [
            "Que la carga sobresale por los lados.",
            "Que la carga sobresale por detrás.",
            "Que la carga sobresale por delante."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503805.jpg"
    },
    {
        "text": "En los turismos, ¿en qué lugar irá colocada la placa de novel?",
        "options": [
            "En un lugar visible en la parte posterior derecha.",
            "En cualquier lugar visible de la parte posterior.",
            "En un lugar visible en la parte posterior izquierda."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504830.jpg"
    },
    {
        "text": "Un conductor novel, ¿cuánto tiempo deberá llevar en su vehículo la placa L?",
        "options": [
            "2 años.",
            "1 año.",
            "2 años, hasta cumplir los 20 años."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504710.jpg"
    },
    {
        "text": "La placa L identificativa de conductor novel, en una motocicleta se colocará...",
        "options": [
            "en sitio visible de la parte posterior.",
            "incorporada en la placa posterior de matrícula.",
            "en la parte posterior y anterior de la motocicleta."
        ],
        "correct": "A",
        "image": "../../../Assets/img/A300119.jpg"
    },
    {
        "text": "El distintivo de la ITV, ¿dónde debe ir colocado?",
        "options": [
            "En el ángulo superior izquierdo interno.",
            "En el ángulo superior derecho interno.",
            "Indistintamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510124_050723.jpg"
    },
    {
        "text": "Los vehículos especiales que circulan por una vía de uso público deben utilizar la luz rotativa amarillo auto cuando circulen a una velocidad...",
        "options": [
            "superior a 40 km/h.",
            "no superior a 40 km/h.",
            "no superior a 40 km/h, solamente de noche."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P1930.jpg"
    },
    {
        "text": "Los conductores de vehículos especiales que están obligados a utilizar la señal V-2, ¿cuándo la utilizarán?",
        "options": [
            "Tanto de día como de noche.",
            "Solo de día.",
            "Solo de noche."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T501830.jpg"
    },
    {
        "text": "Los transportes especiales o en régimen de transporte especial, en caso de avería de la señal luminosa V-2...",
        "options": [
            "deben encender la luz de cruce junto con la señal de emergencia.",
            "pueden circular únicamente con la luz de cruce encendida.",
            "tienen prohibida la circulación."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510117_050216.jpg"
    },
    {
        "text": "La señal luminosa giratoria que llevan los tractores agrícolas indica...",
        "options": [
            "que tienen prioridad sobre el resto de vehículos.",
            "su presencia en la vía.",
            "que puede ser un obstáculo para los demás usuarios."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510209.jpg"
    },
    {
        "text": "¿Cómo debe advertir su presencia en la vía este conjunto de vehículos?",
        "options": [
            "Utilizando la señalización de emergencia.",
            "Empleando tanto de día como de noche una luz rotativa de color amarillo.",
            "Con una luz intermitente amarilla."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500712.jpg"
    },
    {
        "text": "Un vehículo especial de reparación o conservación de vías, al entrar en una autopista, debe utilizar la luz de señalización V-2...",
        "options": [
            "desde la entrada de la autopista.",
            "sólo de noche.",
            "sólo cuando llegue al lugar de trabajo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510119_150116.jpg"
    },
    {
        "text": "Los vehículos grúa indicarán su presencia cuando estén cargando otro vehículo con una luz rotativa de color...",
        "options": [
            "azul.",
            "blanco.",
            "amarillo-auto."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510115_150216.jpg"
    },
    {
        "text": "El vehículo lleva dos rectángulos amarillos con borde rojo. ¿Qué indican?",
        "options": [
            "Que el vehículo transporta mercancías peligrosas.",
            "Que es un vehículo largo y mide más de 12 metros.",
            "Que es un vehículo ancho y mide más de 2 metros."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510129_250216.jpg"
    },
    {
        "text": "Las señales y placas de la parte trasera del camión, ¿qué indican?",
        "options": [
            "Que transporta mercancías peligrosas y que mide más de 12 metros.",
            "Que su peso y dimensiones son mayores que los normales.",
            "Que transporta productos alimenticios."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P1929.jpg"
    },
    {
        "text": "Un vehículo con esta señal indica que...",
        "options": [
            "es lento y no puede superar los 40 Km/h.",
            "transporta mercancías peligrosas.",
            "es especial y está realizando trabajos en la vía."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512617.jpg"
    },
    {
        "text": "Al aproximarnos a un autobús con esta señal en su parte posterior y que se encuentra parado recogiendo pasajeros, se deberá:",
        "options": [
            "Reducir la velocidad y si fuera preciso detener el vehículo.",
            "Avisar de nuestra presencia con ráfagas de luz.",
            "Siempre, parar detrás del vehículo hasta que reanude la marcha."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510109_250216.jpg"
    },
    {
        "text": "¿Cuáles son los 4 distintivos ambientales para clasificar los vehículos por su potencial contaminante?",
        "options": [
            "Sin emisiones, ECO, A y B.",
            "0 emisiones, ECO, C y D.",
            "0 emisiones, ECO, C y B."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510101_250121.jpg"
    },
    {
        "text": "Los distintivos ambientales clasifican a los vehículos en función de...",
        "options": [
            "su ahorro energético.",
            "su contaminación acústica.",
            "su potencial contaminante."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510122_050723.jpg"
    },
    {
        "text": "Situado en un vehículo, ¿qué identifica la señal V-25 distintivo ambiental?",
        "options": [
            "El tipo de combustible empleado y su nivel de radiación atmosférica.",
            "Su clasificación ambiental en función de su nivel de contaminación acústica.",
            "Su clasificación ambiental en función de su nivel de emisiones y combustible empleado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510113_250422.jpg"
    },
    {
        "text": "En función de su nivel de emisiones y combustible empleado, se clasifican en la categoría 0 emisiones...",
        "options": [
            "los vehículos con motor de combustión interna.",
            "los vehículos propulsados por gas licuado del petróleo (GLP).",
            "los vehículos eléctricos de batería."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510119_050723.jpg"
    },
    {
        "text": "¿Qué significa este distintivo?",
        "options": [
            "Servicio Público.",
            "Alquiler de vehículos con conductor.",
            "Vehículo de uso compartido."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510120_050723.jpg"
    },
    {
        "text": "Si visualiza esta señal en el sistema de a bordo de su vehículo conectado con la plataforma de vehículo conectado con el Punto de Acceso Nacional de Información de Tráfico y Movilidad de la DGT , ¿qué significa?",
        "options": [
            "Avería en el vehículo.",
            "Llamada de emergencia al 112.",
            "La presencia de un peligro próximo comunicado por otro usuario."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510107_250623.jpg"
    },
    {
        "text": "En los vehículos comerciales y pesados, ¿es obligatorio colocar la señal de advertencia de peligro de ángulos muertos para advertir del riesgo a los usuarios vulnerables?",
        "options": [
            "Sí; es obligatoria su colocación para poder circular.",
            "No; es una señal que se colocará de forma voluntaria en algunos de ellos.",
            "No; es obligatoria para los vehículos pesados, pero es voluntaria para los comerciales."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510101_050623.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>