<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Los sistemas de seguridad pasiva y activa se han diseñado para que los conductores...",
        "options": [
            "no tengan accidentes.",
            "puedan circular con mayor seguridad.",
            "puedan circular a altas velocidades sin peligro."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2626.jpg"
    },
    {
        "text": "La función de los sistemas de seguridad pasiva de un vehículo consiste en...",
        "options": [
            "evitar o disminuir los daños que se produzcan en caso de accidente.",
            "la misma que la de los elementos de seguridad activa.",
            "evitar que se produzca un accidente."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2627.jpg"
    },
    {
        "text": "En caso de accidente ¿qué elementos del vehículo intervienen en sus consecuencias?",
        "options": [
            "Seguridad pasiva.",
            "Ayuda a la conducción.",
            "Seguridad activa."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T508502.jpg"
    },
    {
        "text": "Los sistemas de seguridad pasiva incluyen...",
        "options": [
            "cinturones de seguridad, airbags, apoyacabezas y casco.",
            "alumbrado, neumáticos, frenos y suspensión.",
            "frenos, neumáticos, airbags y cinturones de seguridad."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2801.jpg"
    },
    {
        "text": "¿Cuál es la finalidad principal del cinturón de seguridad?",
        "options": [
            "Retener y proteger los cuerpos de los ocupantes del vehículo en caso de accidente.",
            "Mejorar la atención del conductor durante la conducción.",
            "Dar sensación de seguridad y evitar las multas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T514410.jpg"
    },
    {
        "text": "¿Por qué es necesario y obligatorio ponerse el cinturón de seguridad?",
        "options": [
            "Porque absorbe la energía del impacto en un accidente.",
            "Porque reduce casi a la mitad la probabilidad de que un accidente sea mortal.",
            "El cinturón no es obligatorio cuando el vehículo tiene airbag."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2804.jpg"
    },
    {
        "text": "¿Es peligroso no abrocharse el cinturón de seguridad?",
        "options": [
            "Sólo es peligroso no abrocharse el cinturón en los asientos delanteros.",
            "En tráfico urbano no, debido a las bajas velocidades a las que se circula.",
            "Sí, porque incluso en un choque a baja velocidad no siempre es posible mantenerse sujeto al asiento."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2805.jpg"
    },
    {
        "text": "¿Por dónde debe pasar la cinta torácica del cinturón de seguridad?",
        "options": [
            "Por el hombro.",
            "Por la pelvis.",
            "Sobre la clavícula y por el centro del pecho."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2806.jpg"
    },
    {
        "text": "La cinta abdominal del cinturón de seguridad debe colocarse...",
        "options": [
            "sobre los huesos de la cadera o sobre el abdomen.",
            "sobre el abdomen, únicamente.",
            "sobre los huesos de la cadera, siempre por debajo del abdomen."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2808.jpg"
    },
    {
        "text": "Una vez abrochado el cinturón de seguridad, debe...",
        "options": [
            "colocar una pinza para ajustarlo.",
            "comprobar que está bien colocado y ajustado al cuerpo.",
            "aflojar la zona abdominal para mayor comodidad."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2809.jpg"
    },
    {
        "text": "Cuando las cintas del cinturón no están bien estiradas aunque esté abrochado...",
        "options": [
            "resultará incómodo pero el cinturón no perderá eficacia.",
            "el cinturón perderá eficacia y puede provocar lesiones durante el accidente.",
            "el cinturón no perderá eficacia pero hay que cambiarlo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2810.jpg"
    },
    {
        "text": "Utilizar pinzas para retener el cinturón de seguridad...",
        "options": [
            "es conveniente, porque reduce la presión del cinturón sobre el pecho.",
            "es necesario, como complemento del airbag, en los vehículos dotados del mismo.",
            "es peligroso, porque reduce la eficacia del cinturón."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2811.jpg"
    },
    {
        "text": "El efecto submarino se produce...",
        "options": [
            "cuando el cuerpo se desliza por debajo de la banda abdominal porque el cinturón no lo retiene adecuadamente.",
            "cuando se lleva el cinturón de seguridad muy apretado.",
            "cuando el reposacabezas no está bien reglado."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2812.jpg"
    },
    {
        "text": "Si en el asiento de un vehículo se pone una toalla; en caso de accidente...",
        "options": [
            "reduce la posibilidad de sufrir un latigazo cervical.",
            "aumenta la probabilidad de que se produzca el efecto submarino.",
            "elimina la posibilidad de que se produzca el efecto submarino."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510132_150723.jpg"
    },
    {
        "text": "¿Puede la postura del asiento influir en la eficacia del cinturón de seguridad?",
        "options": [
            "Sí, no es recomendable inclinar el asiento demasiado hacia atrás.",
            "No, mientras que el cinturón esté totalmente ceñido.",
            "No."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2814.jpg"
    },
    {
        "text": "¿Es aconsejable llevar el cinturón de seguridad con este tipo de abrigo?",
        "options": [
            "Sí, es más cómodo.",
            "No, el cinturón puede perder eficacia al no estar ajustado al cuerpo.",
            "Es indiferente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2815.jpeg"
    },
    {
        "text": "Los ocupantes en un turismo, ¿están obligados a llevar el cinturón de seguridad?",
        "options": [
            "Sólo los ocupantes de los asientos delanteros en vías interurbanas.",
            "Sí, todos los ocupantes y en vías fuera de poblado.",
            "Sí, en los asientos delanteros y posteriores, en todo tipo de vías."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2816.jpg"
    },
    {
        "text": "El conductor de un cuadriciclo ligero que dispone de cinturón de seguridad está obligado a utilizarlo...",
        "options": [
            "sólo en vías interurbanas.",
            "sólo en vías urbanas.",
            "tanto en vías urbanas e interurbanas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2818.jpg"
    },
    {
        "text": "Los asientos de un vehículo mixto tienen cinturones de seguridad. ¿Está obligado el conductor a utilizarlo?",
        "options": [
            "No, en vías fuera de poblado.",
            "No, en ningún tipo de vía.",
            "Sí, en todas las vías."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510118_050116.jpg"
    },
    {
        "text": "Los asientos de un camión tienen cinturones de seguridad, ¿está obligado el conductor a utilizarlo?",
        "options": [
            "No, en vías fuera de poblado.",
            "Sí, en todas las vías.",
            "No, en ningún tipo de vía."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2819.jpg"
    },
    {
        "text": "En un autobús cuyos asientos disponen de cinturones de seguridad es obligatorio que lo utilicen...",
        "options": [
            "sólo los pasajeros mayores de tres años de edad, además del conductor.",
            "todos los pasajeros.",
            "sólo el conductor."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2820.jpg"
    },
    {
        "text": "En los vehículos sanitarios, que estén realizando servicios de urgencia, están obligados al uso del cinturón de seguridad...",
        "options": [
            "el conductor y los ocupantes, en cualquier tipo de vía.",
            "el conductor y los ocupantes en vías fuera de poblado.",
            "sólo el conductor, en cualquier tipo de vía."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510130_250716.jpg"
    },
    {
        "text": "Los distribuidores de mercancías, ¿están exentos de utilizar el cinturón de seguridad?",
        "options": [
            "Sí, en vías de poblado cuando realicen operaciones frecuentes de carga y descarga.",
            "No, aunque realicen operaciones frecuentes de carga y descarga.",
            "Sí, en todas las vías cuando realicen operaciones de carga y descarga a corta distancia."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2822.jpg"
    },
    {
        "text": "¿Están obligados a usar cinturón de seguridad los pasajeros de un taxi?",
        "options": [
            "No.",
            "Sí, sólo cuando viajen en las plazas delanteras.",
            "Sí, excepto cuando circulen en tráfico urbano, no superen los 135 centímetros de estatura y viajen en los asientos traseros."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2821.jpg"
    },
    {
        "text": "El conductor, al circular marcha atrás para estacionar, ¿debe llevar puesto el cinturón de seguridad?",
        "options": [
            "No.",
            "Sí, cuando la velocidad sea superior a 20 km/h.",
            "Sí, sólo están exentos los taxistas en vía urbana."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2823.jpg"
    },
    {
        "text": "Las personas provistas de un certificado médico de exención, ¿están obligadas a abrocharse el cinturón de seguridad?",
        "options": [
            "Únicamente fuera de poblado.",
            "No.",
            "Sí."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2824.jpg"
    },
    {
        "text": "¿Está exenta una mujer embarazada de llevar el cinturón de seguridad?",
        "options": [
            "Sí, ya que puede dañar el feto.",
            "Sí, y además no requieren de certificado médico.",
            "No, salvo que estén en posesión de un certicado de exención por razones médicas graves."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2825.jpg"
    },
    {
        "text": "Después de un accidente, ¿debe revisar los cinturones de seguridad?",
        "options": [
            "No es necesario.",
            "No, mientras siga funcionando el cierre.",
            "Sí, y cambiarlos por unos nuevos si han sufrido daños."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2826.jpg"
    },
    {
        "text": "En caso de accidente de circulación, ¿es recomendable cambiar el cinturón si éste se ha deteriorado?",
        "options": [
            "Sí, pues el trenzado puede haber perdido su eficacia o pueden haber roturas en los sistemas de anclajes.",
            "No, porque se ha probado su eficacia.",
            "No, es un elemento de seguridad que no debe cambiarse nunca."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505124.jpg"
    },
    {
        "text": "En caso de accidente, si no lleva abrochado el cinturón de seguridad, ¿qué ocupante del vehículo tiene riesgo de morir?",
        "options": [
            "Todos los ocupantes.",
            "Sólo el conductor.",
            "Sólo los ocupantes de las plazas traseras."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510102_150117.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>