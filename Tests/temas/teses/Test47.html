<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "¿Cuándo puede utilizar el teléfono móvil?",
        "options": [
            "Cuando esté parado en un semáforo en rojo.",
            "Utilizando el dispositivo manos libres, durante periodos cortos de tiempo.",
            "Para leer o enviar mensajes."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T507018.jpg"
    },
    {
        "text": "Si se habla por teléfono mientras se conduce...",
        "options": [
            "aumenta el riesgo, porque disminuye la capacidad de atención.",
            "se perciben mejor las señales, pues el nivel de atención aumenta.",
            "la conducción no se ve afectada."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512426.jpg"
    },
    {
        "text": "Llevar encendido el teléfono móvil mientras se conduce, ¿puede resultar peligroso?",
        "options": [
            "Sí, el sonido de una llamada entrante puede sorprender al conductor.",
            "Sólo si no se lleva el teléfono al alcance de la mano.",
            "No, en ningún caso."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T501601.jpg"
    },
    {
        "text": "Buscar y responder a una llamada en el teléfono móvil mientras se está conduciendo, ¿es causa de distracción al volante?",
        "options": [
            "Sí.",
            "Responder una llamada no distrae, pero sí escribir un mensaje de texto.",
            "No."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510104_050316.jpg"
    },
    {
        "text": "Entre los momentos de peligro en el uso del teléfono móvil se encuentran...",
        "options": [
            "recibir una llamada y detenerse en un lugar seguro para hablar.",
            "colgar y guardar el móvil.",
            "no utilizar el teléfono móvil."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2404.jpg"
    },
    {
        "text": "¿Qué peligro es el más frecuente al usar el teléfono móvil durante la conducción?",
        "options": [
            "El desvío de la trayectoria del vehículo.",
            "Saltarse una salida.",
            "Equivocarse en el cambio de marchas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2402.jpg"
    },
    {
        "text": "Utilizar el móvil con sistema \"manos libres\" mientras se conduce, ¿puede influir en la capacidad de atención del conductor?",
        "options": [
            "No; el uso del móvil no influye para nada en la capacidad de atención.",
            "Sí; resulta difícil mantener una atención adecuada mientras se utiliza el teléfono.",
            "Sí; resulta más fácil mantener la atención en la conducción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2405.jpg"
    },
    {
        "text": "¿Qué efectos tiene en la conducción una conversación por el móvil que supera el minuto y medio?",
        "options": [
            "El conductor no deja de percibir las señales si usa el dispositivo de manos libres.",
            "El conductor deja de percibir una parte importante de las señales, incluso con el dispositivo de manos libres.",
            "La velocidad media aumenta, incluso con el dispositivo de manos libres."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2406.jpg"
    },
    {
        "text": "¿Puede usar el teléfono móvil mientras conduce con cualquier dispositivo de manos libres?",
        "options": [
            "No, nunca se puede utilizar el teléfono móvil conduciendo, ni siquiera con el dispositivo manos libres.",
            "Sí, mientras se pueda hacer sin emplear las manos, ni usar cascos o auriculares.",
            "No, sólo con aquellos que estén homologados."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2410.jpg"
    },
    {
        "text": "¿Cuál es la sanción por utilizar, sujetando con la mano, el teléfono móvil mientras se encuentra en un semáforo en rojo?",
        "options": [
            "Pérdida de 6 puntos y 200 euros.",
            "Pérdida de 6 puntos y 500 euros.",
            "Pérdida de 3 puntos y 200 euros."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T507018.jpg"
    },
    {
        "text": "En una retención con los vehículos detenidos, ¿está permitido usar el teléfono móvil?",
        "options": [
            "Sí, porque el vehículo no está en movimiento.",
            "Únicamente si dispone de un dispositivo de manos libres que no precise auriculares.",
            "Sí, si la inmovilización dura más de dos minutos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2412.jpg"
    },
    {
        "text": "Un conductor necesita hacer una llamada urgente por el móvil, ¿qué debe hacer?",
        "options": [
            "Buscar un lugar seguro donde detener el vehículo para hacer la llamada.",
            "Disminuir la velocidad para poder hablar sin peligro.",
            "Detener el vehículo en cualquier lugar para hacer la llamada."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2414.jpg"
    },
    {
        "text": "¿Qué puede hacer para evitar los peligros que causa el uso del teléfono móvil durante la conducción?",
        "options": [
            "Esperar a detenerse en un semáforo o en un paso de peatones para usarlo.",
            "Detener el vehículo en un lugar seguro para poder usar el teléfono.",
            "Colgar las llamadas cuando suenen."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2416.jpg"
    },
    {
        "text": "El riesgo de accidente por el uso del teléfono móvil al volante se debe principalmente a...",
        "options": [
            "No hay ningún riesgo con el uso de los dispositivos de manos libres.",
            "La dificultad en mantener una velocidad adecuada.",
            "Mayor orientación mientras conversamos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513820.jpg"
    },
    {
        "text": "Respecto al uso del teléfono móvil mientras se conduce, es recomendable...",
        "options": [
            "no detener el vehículo si la conversación va a durar menos de un minuto.",
            "no llamar a una persona si sabemos que está conduciendo y no lleva dispositivo de manos libres.",
            "marcar el número rápidamente, para no perder trayectoria."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512218.jpg"
    },
    {
        "text": "¿Qué produce más distracciones en la conducción?",
        "options": [
            "Observar las señales.",
            "Usar el teléfono móvil.",
            "Escuchar la radio."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514322.jpg"
    },
    {
        "text": "Está prohibido conducir...",
        "options": [
            "utilizando cascos o auriculares conectados a aparatos receptores o reproductores de sonido.",
            "más de una hora seguida sin descansar.",
            "más de una hora seguida sin descansar, pero sólo en vía urbana."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T502720.jpg"
    },
    {
        "text": "Los conductores de motocicletas, ¿pueden conducir utilizando cascos o auriculares conectados a un teléfono móvil?",
        "options": [
            "Sí, porque los conductores de vehículos de dos ruedas no lo tienen prohibido.",
            "No, porque está prohibido.",
            "Sí, porque no tienen que emplear las manos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503901.jpg"
    },
    {
        "text": "Los conductores de motocicletas, durante la conducción, ¿tienen permitido utilizar dispositivos inalámbricos certificados u homologados para la utilización en el casco de protección con fines de comunicación o navegación?",
        "options": [
            "No.",
            "Sí, siempre que no afecten a la seguridad en la conducción.",
            "Sí con fines de navegación, pero  no con fines de comunicación."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510101_150623.jpg"
    },
    {
        "text": "Los navegadores pueden ser de gran ayuda al conductor...",
        "options": [
            "porque disminuyen las causas de distracción al proporcionarle información importante.",
            "sólo si se presta atención a las instrucciones de voz y se mira al mapa de la pantalla.",
            "pero también pueden suponer una importante causa de distracción."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513508.jpg"
    },
    {
        "text": "Manejar un GPS mientras se conduce, ¿es peligroso?",
        "options": [
            "Sí, ya que distrae de la conducción.",
            "No, cuando hay poco tráfico.",
            "No es peligroso manejarlo en marcha."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T507814.jpg"
    },
    {
        "text": "La decisión del conductor, ¿prevalecerá siempre sobre la información que proporciona el navegador?",
        "options": [
            "No, los navegadores suelen aconsejar siempre el camino más adecuado.",
            "Sí, siempre debe tener prioridad sobre las instrucciones del navegador.",
            "No, el navegador informa mejor respecto del estado de la carretera."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504706.jpg"
    },
    {
        "text": "¿Cuál de estas acciones puede distraer al conductor?",
        "options": [
            "Consultar el GPS.",
            "Mirar por el espejo retrovisor.",
            "Conectar el limpiaparabrisas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T508718.jpg"
    },
    {
        "text": "Si el sistema de navegación del GPS es portátil, ¿qué es recomendable?",
        "options": [
            "Seguir siempre las instrucciones del dispositivo frente al juicio del conductor.",
            "Intentar colocarlo cerca de un airbag.",
            "Utilizar el sistema de soporte adecuado al dispositivo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511123.jpg"
    },
    {
        "text": "El navegador debe colocarse...",
        "options": [
            "a una altura correcta para no tener que apartar la vista de la conducción.",
            "cerca del asiento del acompañante.",
            "a una distancia cómoda para que el conductor pueda manejarlo en marcha."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504924.jpg"
    },
    {
        "text": "¿Es conveniente colocar el soporte de un GPS cerca de un airbag?",
        "options": [
            "Sí.",
            "No, si puede obstaculizar su apertura.",
            "No, en ningún caso."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503704.jpg"
    },
    {
        "text": "El GPS, ¿puede ayudar a controlar la velocidad?",
        "options": [
            "No, los sistemas de navegación no permiten controlar la velocidad.",
            "Sí, aunque la principal fuente de información debe ser siempre el velocímetro.",
            "No, la velocidad se controla por la señalización de la vía."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T501430.jpg"
    },
    {
        "text": "Debe buscar la ruta del navegador GPS...",
        "options": [
            "deteniéndose donde sea necesario.",
            "antes de iniciar la marcha.",
            "cuando el navegador le lleve por una zona desconocida."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512624.jpg"
    },
    {
        "text": "Leer un periódico o mirar un mapa mientras se circula, ¿es un riesgo para la conducción?",
        "options": [
            "Sí.",
            "Leer un periódico sí, pero mirar un mapa no.",
            "Únicamente si se aparta la mirada de la carretera más de dos segundos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504914.jpg"
    },
    {
        "text": "La música excesivamente alta, ¿afecta negativamente a los conductores?",
        "options": [
            "No, facilita una conducción tranquila y relajada.",
            "Sí, porque dificulta la concentración.",
            "No, porque evita distracciones en la conducción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510110_151215.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>