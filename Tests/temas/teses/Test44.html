<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Las gripes, resfriados y alergias, ¿afectan a la conducción?",
        "options": [
            "No, apenas tienen efectos negativos.",
            "Sí, pero resultan tan familiares que no es necesario tomar precauciones especiales.",
            "Sí, y resultan tan familiares que a veces se olvidan sus síntomas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2302.jpg"
    },
    {
        "text": "Los síntomas de las alergias respiratorias pueden producir...",
        "options": [
            "un retraso en la aparición del sueño.",
            "una menor capacidad para mantener la concentración en el tráfico.",
            "una disminución del tiempo de reacción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2303.jpg"
    },
    {
        "text": "Entre los síntomas de la alergia se encuentran...",
        "options": [
            "somnolencia y estrés.",
            "ojos irritados y dolores musculares.",
            "continuos estornudos y ojos irritados."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T507208.jpg"
    },
    {
        "text": "Si padece una alergia respiratoria, ¿qué debe tener en cuenta a la hora de conducir?",
        "options": [
            "Apagar el aire acondicionado y abrir las ventanillas.",
            "Poner muy fuerte el aire acondicionado.",
            "No poner muy fuerte el aire acondicionado y cerrar las ventanillas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2304.jpg"
    },
    {
        "text": "Los antihistamínicos modernos, ¿son más seguros para la conducción?",
        "options": [
            "Sí, ya que pueden mezclarse sin problemas con otros medicamentos.",
            "No, producen somnolencia como todos los antihistamínicos.",
            "Sí, pero no deben mezclarse con alcohol o con otros medicamentos."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2313.jpg"
    },
    {
        "text": "Con analgésicos o antihistamínicos es conveniente...",
        "options": [
            "tener presente que pueden producir efectos secundarios que afecten a la conducción.",
            "conducir con normalidad.",
            "no conducir en ningún caso durante el tiempo que dure el tratamiento."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T506014.jpg"
    },
    {
        "text": "El estrés produce en el conductor...",
        "options": [
            "una mayor agresividad y un comportamiento imprudente al volante.",
            "una mayor rapidez en la toma de decisiones.",
            "una disminución de la fatiga."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505808.jpg"
    },
    {
        "text": "¿Cómo puede afectar la depresión durante la conducción?",
        "options": [
            "Recopilando demasiada información relevante, especialmente en situaciones sencillas.",
            "Creando una sensación de falsa seguridad.",
            "Aumentando las distracciones."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2308.jpg"
    },
    {
        "text": "Bajo los efectos del estrés la conducción se vuelve...",
        "options": [
            "más segura.",
            "menos temeraria.",
            "más temeraria."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2306.jpg"
    },
    {
        "text": "El estrés hace que el conductor...",
        "options": [
            "sea más hostil con los demás usuarios.",
            "respete más la señalización.",
            "asuma menos riesgos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2307.jpg"
    },
    {
        "text": "¿Qué debe hacer si está en estado de estrés?",
        "options": [
            "Evitar conducir.",
            "Tomar un estimulante.",
            "Tomar un ansiolítico antes de conducir."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505126.jpg"
    },
    {
        "text": "Uno de los efectos del estrés es...",
        "options": [
            "el incremento de la capacidad de concentración.",
            "un comportamiento más prudente.",
            "la aparición de fatiga al volante."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504421.jpg"
    },
    {
        "text": "Según la Organización Mundial de la Salud, la depresión afecta a más de 300 millones de personas. Si sufrimos un trastorno depresivo debemos saber que...",
        "options": [
            "esta enfermedad no altera las capacidades para conducir con seguridad.",
            "los medicamentos para su tratamiento pueden producir alteraciones que afectan a la conducción.",
            "esta enfermedad no permite obtener en ningún caso el permiso de conducción de la clase B."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510104_250117.jpg"
    },
    {
        "text": "La depresión produce...",
        "options": [
            "más irritabilidad y ansiedad.",
            "una disminución de la ansiedad.",
            "una disminución de la irritabilidad y aumento de la ansiedad."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510102_050416.jpg"
    },
    {
        "text": "Bajo los efectos de la depresión...",
        "options": [
            "disminuyen las distracciones.",
            "se tiene más seguridad.",
            "se pierde información del entorno."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513414.jpg"
    },
    {
        "text": "La depresión puede afectar al conductor...",
        "options": [
            "produciendo una mayor inseguridad.",
            "disminuyendo las distracciones.",
            "reduciendo la irritabilidad y el estrés."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504330.jpg"
    },
    {
        "text": "La depresión, ¿qué efectos tiene en la conducción?",
        "options": [
            "Aumenta la concentración.",
            "Distracciones y somnolencia.",
            "Ninguno."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513706.jpg"
    },
    {
        "text": "La depresión, ¿influye en la somnolencia y la fatiga?",
        "options": [
            "No, no tiene ninguna influencia.",
            "En la somnolencia sí pero en la fatiga no.",
            "Sí, siendo aconsejable no conducir de noche."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511906.jpg"
    },
    {
        "text": "Fumar mientras se conduce...",
        "options": [
            "no es recomendable, porque puede afectar a la atención en la conducción.",
            "es recomendable, porque ayuda a mantener la atención.",
            "está prohibido."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2323.jpg"
    },
    {
        "text": "Fumar, mientras conduce, puede provocar...",
        "options": [
            "somnolencia.",
            "distracciones y problemas de visión a causa del humo.",
            "un aumento de la capacidad de atención."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2322.jpg"
    },
    {
        "text": "Fumar al volante, ¿cómo afecta a la conducción?",
        "options": [
            "Provoca somnolencia.",
            "Inutiliza una de las manos y genera problemas de visión a causa del humo.",
            "Aumenta la capacidad de atención."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510118_150216.jpg"
    },
    {
        "text": "Fumar al volante...",
        "options": [
            "Es la principal causa de distracción durante la conducción.",
            "Es una conducta que puede interferir en la conducción y provocar un accidente.",
            "Relaja y proporciona serenidad al fumador, lo que repercute positivamente en la conducción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510120_150317.jpg"
    },
    {
        "text": "Fumar mientras conduce, ¿puede afectar a la conducción?",
        "options": [
            "Sí, porque distrae y se pierde capacidad de maniobra.",
            "No, y además relaja.",
            "Sí, además está prohibido."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T511920.jpg"
    },
    {
        "text": "¿Es aconsejable fumar mientras se conduce?",
        "options": [
            "Sí, para las personas que fuman habitualmente, porque relaja.",
            "No, puede provocar distracciones en el conductor.",
            "Sí, siempre."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505612.jpg"
    },
    {
        "text": "Según un estudio realizado en España, los conductores fumadores...",
        "options": [
            "se ven implicados en el doble de accidentes que los no fumadores.",
            "se ven implicados en el mismo número de accidentes que los no fumadores.",
            "tienen tendencia a evaluar las situaciones de tráfico como más peligrosas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505120.jpg"
    },
    {
        "text": "Arrojar un cigarro por la ventanilla de un turismo, ¿puede suponer una infracción?",
        "options": [
            "Sí, pero no conlleva pérdida de puntos.",
            "Sí, y además conlleva pérdida de puntos.",
            "No, pero no se debe hacer."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2324.jpg"
    },
    {
        "text": "Si mientras conducimos tenemos una fuerte discusión y nos alteramos, es recomendable...",
        "options": [
            "parar en lugar permitido y no continuar la marcha hasta sentirnos más tranquilos.",
            "acelerar y procurar llegar lo antes posible a nuestro destino.",
            "tomar un medicamento relajante."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2320.jpg"
    },
    {
        "text": "Un conductor, ¿se puede distraer si come o bebe mientras conduce?",
        "options": [
            "Comer sí puede provocar que el conductor se distraiga, pero beber no.",
            "Sí.",
            "No."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512904.jpg"
    },
    {
        "text": "Expulsar a un insecto del vehículo mientras se conduce, ¿es peligroso?",
        "options": [
            "Sí, porque puede distraer al conductor.",
            "No, esto ocupa al conductor muy poco tiempo.",
            "No, si se circula a velocidad reducida."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2318.jpg"
    },
    {
        "text": "La música excesivamente alta, ¿afecta negativamente a los conductores?",
        "options": [
            "No, facilita una conducción tranquila y relajada.",
            "Sí, porque dificulta la concentración.",
            "No, porque evita distracciones en la conducción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2319.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>