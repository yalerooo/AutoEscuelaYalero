<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "El mantenimiento preventivo del vehículo es fundamental...",
        "options": [
            "para prevenir accidentes por fallo mecánico.",
            "para mejorar la aerodinámica del vehículo.",
            "para instalar accesorios."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T503903.jpg"
    },
    {
        "text": "Las revisiones periódicas y un mantenimiento adecuado del vehículo...",
        "options": [
            "no son necesarias.",
            "evitan gastos innecesarios y pueden prevenir posibles accidentes debido al factor vehículo.",
            "generan gastos innecesarios."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T10112_250616.jpg"
    },
    {
        "text": "¿Debe darle algún mantenimiento periódicamente a su vehículo aunque no esté en constante movimiento?",
        "options": [
            "Sí, además de seguir los planes de mantenimiento establecidos por el fabricante.",
            "No, salvo que haya sufrido un accidente.",
            "No, no es necesario."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3203.jpg"
    },
    {
        "text": "El estado del vehículo influye en...",
        "options": [
            "el tiempo de reacción.",
            "la distancia de frenado.",
            "la distancia de reacción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3201.jpg"
    },
    {
        "text": "Circulando con su vehículo nota que desprende un fuerte olor a gasolina; ¿qué debe hacer?",
        "options": [
            "Detener el vehículo en un lugar seguro y avisar al servicio de asistencia en viaje.",
            "Nada; el olor se debe a los gases que salen por el tubo de escape.",
            "Seguir circulando porque pasado un tiempo el olor desaparece."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510116_150723.jpg"
    },
    {
        "text": "¿Qué elemento del vehículo es importante revisar con más frecuencia?",
        "options": [
            "El líquido de frenos.",
            "Los neumáticos.",
            "Las luces."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3202.jpg"
    },
    {
        "text": "Un conductor que revisa periódicamente los neumáticos puede...",
        "options": [
            "pasar la ITV con total seguridad.",
            "detectar a tiempo un deterioro y prevenir un reventón.",
            "evitar los fallos mecánicos del vehículo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500728.jpg"
    },
    {
        "text": "En cuanto al aceite del motor, debemos saber que...",
        "options": [
            "Debemos cambiarlo al menos una vez al año.",
            "Debemos cambiarlo periódicamente porque pierde sus propiedades.",
            "Basta con mantener el nivel, añadiendo aceite del mismo tipo que use el motor hasta alcanzar el nivel máximo que se observa en la varilla."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3204.jpg"
    },
    {
        "text": "Se sabe que el sistema de lubricación del motor está funcionando correctamente, cuando su testigo luminoso se encuentra...",
        "options": [
            "Encendido.",
            "Intermitente.",
            "Apagado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3205.jpg"
    },
    {
        "text": "La varilla del aceite del motor, ¿para qué sirve?",
        "options": [
            "Para comprobar la presión del aceite.",
            "Para comprobar el nivel del aceite.",
            "Para comprobar la temperatura del aceite."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3206.jpg"
    },
    {
        "text": "El nivel de aceite del motor, ¿cómo se debe comprobar?",
        "options": [
            "Con el motor funcionando.",
            "Con el motor apagado y frío.",
            "Con el motor caliente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3207.jpg"
    },
    {
        "text": "¿Cómo se debe cambiar el aceite del vehículo?",
        "options": [
            "En frío.",
            "En caliente.",
            "Es indiferente, tanto en caliente como en frío."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T507816.jpg"
    },
    {
        "text": "El filtro de aceite, ¿cuándo hay que cambiarlo?",
        "options": [
            "Cada mil kilómetros.",
            "Cuando cambio el aceite.",
            "Cuando lo indique el manual del vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3208.jpg"
    },
    {
        "text": "Cuando una batería necesita líquido, ¿qué líquido se debe poner?",
        "options": [
            "Agua y anticongelante.",
            "Agua y aceite.",
            "Agua destilada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3209.jpg"
    },
    {
        "text": "Las baterías denominadas “sin mantenimiento”, ¿requieren algún tipo de cuidado?",
        "options": [
            "No.",
            "Sí, añadir agua destilada periódicamente.",
            "Sí, mantener limpias y apretadas las conexiones de los bornes."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3211.jpg"
    },
    {
        "text": "Si al accionar la puesta en marcha, el motor de arranque no gira y las luces tienden a apagarse, será debido a que...",
        "options": [
            "hay un interruptor defectuoso.",
            "la batería tenga muy poca carga.",
            "la correa del ventilador está floja o rota."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505007.jpg"
    },
    {
        "text": "El filtro del aire, ¿para qué sirve?",
        "options": [
            "Para limpiar el aire que se mezcla con la gasolina.",
            "Para refrigerar el motor.",
            "Para evitar el paso del aire al motor."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T508322.jpg"
    },
    {
        "text": "¿Cuál es la misión del ralentí en el motor?",
        "options": [
            "Regula el consumo de combustible a altas velocidades, evitando emitir a la atmósfera gases tóxicos.",
            "Facilita el arranque del motor, en frío.",
            "Evita que el motor se apague cuando se suelta el acelerador."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3212.jpg"
    },
    {
        "text": "¿Es necesario revisar los discos de freno?",
        "options": [
            "Sí, cuando atravesemos un charco de grandes dimensiones.",
            "Sí, periódicamente.",
            "No."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505203.jpg"
    },
    {
        "text": "¿Que mantenimiento necesitan los frenos de disco de un vehículo?",
        "options": [
            "Cambiar las pastillas de freno, y el disco cuando sea preciso.",
            "Comprobar la distancia de separación entre las pastillas y el disco.",
            "Engrasar el disco periódicamente."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3213.jpg"
    },
    {
        "text": "¿Es necesario llevar un mantenimiento regular o revisión de los latiguillos de los frenos?",
        "options": [
            "No, con que revises el líquido de frenos es suficiente.",
            "Sí, para que no tenga escapes y fugas.",
            "No, porque no se estropean."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512712.jpg"
    },
    {
        "text": "¿El conductor de un automóvil debe vigilar periódicamente el nivel del líquido de frenos?",
        "options": [
            "No, se mirará sólo en las revisiones periódicas que realicen los talleres.",
            "Sí, debemos vigilar que se encuentre entre los límites de máximo y mínimo.",
            "El líquido de frenos va en un circuito cerrado y no tiene un nivel concreto que mantener."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P3214.jpg"
    },
    {
        "text": "¿Es necesario revisar con frecuencia el nivel del líquido de frenos?",
        "options": [
            "No, ya que no se gasta con el uso.",
            "Sí, aunque no es necesario sustituirlo.",
            "Sí, y sustituirlo en los plazos indicados por el fabricante."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513024.jpg"
    },
    {
        "text": "El líquido refrigerante de su vehículo puede congelarse en invierno, para evitarlo se recurre a...",
        "options": [
            "encender un termostato instalado en el circuito.",
            "activar una bomba que mantiene el líquido en circulación.",
            "utilizar líquido anticongelante."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504815.jpg"
    },
    {
        "text": "¿Cuál es la misión principal del líquido refrigerante?",
        "options": [
            "Enfriar el motor del vehículo.",
            "Que el vehículo tenga aire acondicionado.",
            "Que el vehículo tenga calefacción."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510110_050116.jpg"
    },
    {
        "text": "¿Para qué sirve el sistema de suspensión?",
        "options": [
            "Para amortiguar las vibraciones y mantener la estabilidad del vehículo.",
            "Para no patinar.",
            "Para mover las ruedas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P3215.jpg"
    },
    {
        "text": "Una correcta suspensión del vehículo sirve para:",
        "options": [
            "Mantener el vehículo siempre en contacto con el suelo.",
            "Mantener inmovilizado el vehículo.",
            "Transmitir el giro del motor a las ruedas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T502112.jpg"
    },
    {
        "text": "La amortiguación en malas condiciones hace que, al frenar...",
        "options": [
            "el vehículo se incline hacia delante.",
            "la parte trasera del vehículo baje excesivamente.",
            "la parte delantera del vehículo se levante excesivamente."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T502504.jpg"
    },
    {
        "text": "Un amortiguador en malas condiciones, ¿qué consecuencias puede tener?",
        "options": [
            "Que el vehículo gane estabilidad.",
            "Que disminuya la distancia de frenado.",
            "Que las luces oscilen durante la marcha y puedan deslumbrar."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502613.jpg"
    },
    {
        "text": "Cuando las ruedas del vehículo rebotan en los baches puede ser porque...",
        "options": [
            "El freno esté en mal estado.",
            "Los amortiguadores estén en mal estado.",
            "El embrague esté en mal estado."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510120_250217.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>