<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Como norma general, la velocidad máxima de un turismo en una vía para automóviles...",
        "options": [
            "es de 90 kilómetros por hora.",
            "es de 100 kilómetros por hora.",
            "es de 120 kilómetros por hora."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513305.jpg"
    },
    {
        "text": "Circula con su turismo por esta carretera. ¿Cuál es la velocidad máxima permitida?",
        "options": [
            "100 km/h.",
            "80 km/h.",
            "90 km/h."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510102_0512.jpg"
    },
    {
        "text": "En esta vía, ¿a qué velocidad mínima está permitido circular con un turismo?",
        "options": [
            "A 45 km/h.",
            "A 50 km/h.",
            "A 40 km/h."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513817.jpg"
    },
    {
        "text": "Su vehículo arrastra un remolque por una carretera convencional. ¿Puede circular por esta vía a 90 Km/h?",
        "options": [
            "No, como máximo circulará a 70 Km/h.",
            "Sí.",
            "No."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510107_050616.jpg"
    },
    {
        "text": "En una carretera convencional, la velocidad máxima a la que puede circular un automóvil derivado de turismo es de...",
        "options": [
            "80 km/h.",
            "90 km/h.",
            "100 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512623.jpg"
    },
    {
        "text": "Por esta carretera convencional, ¿cuál es la velocidad máxima a la que puede circular un vehículo mixto?",
        "options": [
            "A 90 kilómetros por hora.",
            "A 100 kilómetros por hora.",
            "A 80 kilómetros por hora."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510805.jpg"
    },
    {
        "text": "En una carretera convencional, ¿a qué velocidad máxima puede adelantar un camión?",
        "options": [
            "A 80 km/h.",
            "A 100 km/h.",
            "A 90 km/h."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P0416.jpg"
    },
    {
        "text": "En una carretera convencional, ¿cuál es la velocidad máxima de un pick-up para adelantar?",
        "options": [
            "80 km/h.",
            "90 km/h.",
            "120 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510106_050723.jpg"
    },
    {
        "text": "En una carretera convencional con varios carriles para el mismo sentido de circulación y separación física de los mismos, ¿cuándo podrá circular con su turismo a una velocidad máxima de 100 km/h?",
        "options": [
            "A partir de la señal de velocidad máxima de 100 km/h.",
            "Nunca.",
            "Siempre que las circunstancias de la vía lo aconsejen."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510110_0512.jpg"
    },
    {
        "text": "En una travesía sin señales de velocidad, ¿cuál es la velocidad máxima permitida?",
        "options": [
            "40 km/h.",
            "50 km/h.",
            "60 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P0408.jpg"
    },
    {
        "text": "¿Cúal es la velocidad máxima genérica en vías urbanas que dispongan de plataforma única de calzada y acera?",
        "options": [
            "20 km/h.",
            "30 km/h.",
            "50 km/h."
        ],
        "correct": "A",
        "image": "../../../Assets/img/907013.jpg"
    },
    {
        "text": "Como norma general, en vías urbanas de un único carril por sentido de circulación, ¿cuál es la velocidad máxima permitida para motocicletas?",
        "options": [
            "50 km/h.",
            "30 km/h.",
            "20 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T509523.jpg"
    },
    {
        "text": "Dentro de poblado, en vías de un único carril por sentido de circulación, como norma general, ¿cuál es la velocidad máxima genérica?",
        "options": [
            "50 km/h.",
            "80 km/h.",
            "30 km/h."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510106_050216.jpg"
    },
    {
        "text": "El turismo blanco de la fotografía, circula por una vía de poblado, ¿a qué velocidad máxima puede circular por esta vía en ausencia de señalización?",
        "options": [
            "50 km/h.",
            "20 km/h.",
            "30 km/h."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511807.jpg"
    },
    {
        "text": "En esta vía, dentro de poblado, en ausencia de limitación de velocidad, ¿a qué velocidad máxima puede circular el turismo rojo de la fotografía?",
        "options": [
            "20 km/h.",
            "30 km/h.",
            "50 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510105_050621.jpg"
    },
    {
        "text": "Como norma general, para un vehículo de transporte colectivo de viajeros, ¿cuál es la velocidad máxima permitida en vías urbanas de dos o más carriles por sentido de circulación?",
        "options": [
            "40 km/h.",
            "20 km/h.",
            "50 km/h."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514103.jpg"
    },
    {
        "text": "La velocidad máxima permitida en vías urbanas de dos o más carriles por sentido de circulación es 50 km/h pero, ¿puede ser obligatorio circular conduciendo un turismo a una velocidad inferior?",
        "options": [
            "Sí, cuando haya señales que así lo indiquen.",
            "Sí, para vehículos de transporte escolar.",
            "No, nunca."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T511521.jpg"
    },
    {
        "text": "Un cuadriciclo de motor, ¿a qué velocidad máxima puede circular fuera de poblado?",
        "options": [
            "A 45 km/h.",
            "A 70 km/h.",
            "A 50 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512819.jpg"
    },
    {
        "text": "¿Cuál es la velocidad máxima a la que puede circular un ciclomotor?",
        "options": [
            "45 km/h.",
            "70 km/h.",
            "50 km/h."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T506629.jpg"
    },
    {
        "text": "¿Cuál es la velocidad máxima permitida a cuadriciclos ligeros?",
        "options": [
            "90 Km/h.",
            "70 Km/h.",
            "45 Km/h."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505017.jpg"
    },
    {
        "text": "La velocidad máxima, con carácter general, para un vehículo especial es de...",
        "options": [
            "45 kilómetros por hora.",
            "60 kilómetros por hora.",
            "40 kilómetros por hora."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504808.jpg"
    },
    {
        "text": "Un tractor que arrastra un remolque, ¿qué velocidad máxima no debe rebasar fuera de poblado?",
        "options": [
            "70 kilómetros por hora.",
            "25 kilómetros por hora.",
            "40 kilómetros por hora."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505307.jpg"
    },
    {
        "text": "¿Cuál es la velocidad máxima permitida para los vehículos especiales que no disponen de luz de freno?",
        "options": [
            "25 km/h.",
            "40 km/h dentro de poblado y 70 km/h fuera de poblado.",
            "50 km/h."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T507423.jpg"
    },
    {
        "text": "¿Cuál es la velocidad máxima por diseño a la que le está permitido circular al conductor de un vehículo de movilidad personal?",
        "options": [
            "15 km/h.",
            "25 km/h.",
            "50 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510130_180322.jpg"
    },
    {
        "text": "En un tramo de vía que tiene viviendas con acceso inmediato a la calzada, ¿se debe tomar alguna precaución?",
        "options": [
            "Sí, moderar la velocidad.",
            "No.",
            "Sí, realizar señales acústicas para advertir de la presencia del vehículo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P0430.jpg"
    },
    {
        "text": "Al acercarse a un peatón que quiere cruzar la calzada, ¿qué debe hacer?",
        "options": [
            "Moderar la velocidad y detenerse si es necesario.",
            "Continuar circulando, ya que el vehículo tiene prioridad.",
            "Tocar el claxon y seguir la marcha a la misma velocidad."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T501602.jpg"
    },
    {
        "text": "Ante esta situación...",
        "options": [
            "se debe circular a velocidad moderada, llegando incluso a detener el vehículo.",
            "se acelerará para dejar atrás al niño cuanto antes y evitar así el peligro.",
            "se circulará normalmente, pues el niño no ha invadido la vía."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500522.jpg"
    },
    {
        "text": "¿Qué debe hacer siempre que se acerque a un autobús del que bajan niños?",
        "options": [
            "Tocar el claxon repetidamente para advertir de su presencia.",
            "Moderar la velocidad, e incluso detenerse si fuera necesario.",
            "Detenerse hasta que el autobús reanude su marcha."
        ],
        "correct": "B",
        "image": "../../../Assets/img/D802218.jpg"
    },
    {
        "text": "Al acercarse a un centro docente, ¿qué precauciones se deben tomar?",
        "options": [
            "Mantener la velocidad y estar atento al cumplimiento de la señalización vertical.",
            "Hacer señales acústicas para indicar nuestra presencia.",
            "Moderar la velocidad y, si fuera preciso, detener el vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510121_250217.jpg"
    },
    {
        "text": "Se circulará a velocidad moderada y si fuera preciso se detendrá el vehículo:",
        "options": [
            "En vías de doble sentido.",
            "Al aproximarse a pasos para peatones.",
            "En todos los cambios de rasante."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514922.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>