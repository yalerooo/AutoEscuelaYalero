<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "El permiso de la clase B, ¿autoriza a conducir un cuadriciclo ligero?",
        "options": [
            "No.",
            "Sí.",
            "Sí, cuando no se dedica al transporte de mercancías."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T508506.jpg"
    },
    {
        "text": "El permiso de la clase B, ¿autoriza a conducir motocicletas?",
        "options": [
            "Sí, las motocicletas que autoriza el permiso de la clase A1, si la antigüedad del permiso de la clase B es superior a 3 años.",
            "No, solamente ciclomotores.",
            "Sí, todas las que autoriza a conducir el permiso de la clase A."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T508214.jpg"
    },
    {
        "text": "Tiene el permiso de la clase B, ¿le autoriza a conducir los vehículos autorizados por el permiso de la clase A?",
        "options": [
            "Ciclomotores sí, motocicletas no.",
            "Motocicletas de más de 125 cc.",
            "Motocicletas sí, ciclomotores no."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513026.jpg"
    },
    {
        "text": "Con el permiso B, ¿puede conducir una motocicleta de más de 125 centímetros cúbicos?",
        "options": [
            "No, es necesario poseer el permiso de la clase A2.",
            "Sí.",
            "Sólo si tiene una antigüedad superior a 3 años."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512324.jpg"
    },
    {
        "text": "El permiso de la clase B, ¿autoriza a conducir motocicletas de más de 250 centímetros cúbicos?",
        "options": [
            "Sí, pero sin llevar pasajeros.",
            "Sí, si tiene una antigüedad superior a 3 años.",
            "No."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513102.jpg"
    },
    {
        "text": "Como norma general, el titular de un permiso de la clase B, ¿puede conducir motocicletas con sidecar?",
        "options": [
            "No.",
            "Sí, pero sólo en territorio nacional.",
            "Sí, siempre que el permiso de la clase B tenga una antigüedad superior a 3 años."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505320.jpg"
    },
    {
        "text": "El permiso de la clase B con más de tres años de antigüedad, ¿permite conducir por territorio nacional una motocicleta con sidecar?",
        "options": [
            "No, en ningún caso.",
            "Sí, siempre que la cilindrada de la motocicleta no sea superior a 250 c.c.",
            "Sí, siempre que la motocicleta se pueda conducir con el permiso de la clase A1."
        ],
        "correct": "C",
        "image": "../../../Assets/img/301116.jpg"
    },
    {
        "text": "El permiso de conducción de la clase A1, ¿autoriza a conducir motocicletas con sidecar?",
        "options": [
            "Sí, si tiene una antigüedad de 2 años.",
            "No.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505027.jpg"
    },
    {
        "text": "Con el permiso B para conducir turismos, ¿qué otros vehículos se pueden conducir?",
        "options": [
            "Motocicletas de más de 125 cc.",
            "Ciclomotores de dos, tres y cuatro ruedas.",
            "Todos los vehículos que se pueden conducir con el permiso A."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505626.jpg"
    },
    {
        "text": "Un pick-up, ¿se puede conducir con el permiso B?",
        "options": [
            "No.",
            "Sí, con una antigüedad del permiso superior a 3 años.",
            "Sí, hasta 9 plazas incluido el conductor."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510107_150723.jpg"
    },
    {
        "text": "Conducir, con un permiso de la clase B, un turismo que arrastra un remolque ligero, ¿está permitido?",
        "options": [
            "Sí, en cualquier caso.",
            "Sólo si la masa máxima autorizada del conjunto no supera los 3.500 kilogramos.",
            "No, en ningún caso."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P2003.jpg"
    },
    {
        "text": "¿Está permitido conducir un camión con el permiso de la clase B?",
        "options": [
            "Sí, cualquiera que sea la M.M.A del camión.",
            "Sí, cuando su M.M.A no sea superior a 3.500 kg.",
            "No, en ningún caso."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505720.jpg"
    },
    {
        "text": "El permiso B, ¿autoriza a conducir un camión de 3.000 kg. de M.M.A que arrastra un remolque ligero?",
        "options": [
            "No.",
            "Sólo cuando la masa máxima del remolque no supera la masa en vacío del camión.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514606.jpg"
    },
    {
        "text": "Con el permiso B, ¿se puede conducir algún vehículo de más de 3.500 kg?",
        "options": [
            "No.",
            "Sí.",
            "Sí, pero debe tener una antigüedad superior a 3 años."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2002.jpg"
    },
    {
        "text": "Con el permiso de conducción \"B\", ¿puede conducir este tractor agrícola?",
        "options": [
            "Sí, siempre que no lleve remolque.",
            "Sí.",
            "No, porque es un vehículo pesado."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513306.jpg"
    },
    {
        "text": "Un tractor agrícola de más de 3.500 kilogramos de M.M.A, ¿se puede conducir con el permiso B?",
        "options": [
            "No, porque sobrepasa los 3.500 kilogramos de masa máxima autorizada.",
            "Sí.",
            "Sí, cuando la velocidad máxima autorizada no exceda de 40 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2004.jpg"
    },
    {
        "text": "¿Qué permiso es necesario para conducir un vehiculo especial agrícola si transporta 6 personas?",
        "options": [
            "La licencia de vehículos agrícolas y, además, el permiso de conducción de la clase B.",
            "La licencia de vehículos agrícolas.",
            "El permiso de conducción de la clase B."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504922.jpg"
    },
    {
        "text": "¿Qué término de vigencia tiene el permiso de la clase B?",
        "options": [
            "10 años hasta que el titular cumpla los 70 años de edad.",
            "5 años hasta que el titular cumpla los 45 años de edad.",
            "10 años hasta que el titular cumpla los 65 años de edad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T506004.jpg"
    },
    {
        "text": "Una persona que obtiene el permiso de la clase B a los 18 años, ¿debe renovarlo posteriormente?",
        "options": [
            "No, porque este permiso no pierde nunca su validez.",
            "Sí, a los diez años de su expedición, como norma general.",
            "No, salvo que obtenga cualquier otro permiso o licencia de conducción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510118_150316.jpg"
    },
    {
        "text": "Un permiso de conducción caducado, ¿autoriza a su titular a conducir?",
        "options": [
            "Sí, porque aunque haya caducado tiene permiso.",
            "Sí, salvo que haya transcurrido más de un año.",
            "No."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T506206.jpg"
    },
    {
        "text": "¿Qué tiene que hacer si ha caducado la vigencia de su permiso y quiere seguir conduciendo?",
        "options": [
            "Presentarse a un nuevo examen teórico.",
            "Volver a examinarse de las pruebas prácticas.",
            "Solicitar la prórroga aportando la documentación necesaria."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511224.jpg"
    },
    {
        "text": "El permiso de conducir se puede renovar con una antelación máxima de...",
        "options": [
            "15 días.",
            "30 días.",
            "3 meses."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510124_250317.jpg"
    },
    {
        "text": "Llevar una fotocopia del permiso de conducción, en lugar del original, ¿está permitido?",
        "options": [
            "No.",
            "Sí, siempre que la fotocopia esté debidamente cotejada.",
            "Sí, sólo si es a color."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510126_050216.jpg"
    },
    {
        "text": "¿En qué territorio podrá acreditar ante la policía de tráfico, que es titular de un permiso de conducción, presentándolo en formato digital a través de la aplicación móvil miDGT?",
        "options": [
            "En todo el territorio nacional.",
            "En todo el territorio de la Unión Europea.",
            "En todos los países del mundo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510117_250723.jpg"
    },
    {
        "text": "Si cambia alguno de los datos que aparecen en el permiso de conducción, ¿qué debe hacer?",
        "options": [
            "No debe hacer nada, no es necesario hacer ningún trámite.",
            "Actualizar los datos en la próxima renovación.",
            "Comunicarlo a la Jefatura de Tráfico correspondiente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2008.jpg"
    },
    {
        "text": "Si ha cambiado de domicilio, ¿tiene obligación de comunicarlo a la Jefatura de Tráfico?",
        "options": [
            "Sí, pero esperaré a comunicarlo cuando me caduque la validez del permiso de conducción.",
            "No.",
            "Sí, debo comunicar mi nuevo domicilio en el plazo de 15 días."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2006.jpg"
    },
    {
        "text": "Si han cambiado sus condiciones físicas y necesita adaptar su vehículo, ¿tiene que comunicarlo a la Jefatura de Tráfico?",
        "options": [
            "No, mientras el permiso de conducción esté en vigor.",
            "Sí, debo comunicarlo para que hagan la anotación que corresponda.",
            "No, basta con que lleve un certificado médico en el que conste mi deficiencia física."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2007.jpg"
    },
    {
        "text": "Si extravía el permiso de conducir, ¿qué debe hacer?",
        "options": [
            "Nada, si dispongo de una fotocopia del mismo.",
            "Solicitar un duplicado a la Jefatura Provincial o Local de Tráfico.",
            "Realizar las pruebas de aptitud y superar los exámenes teóricos y prácticos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2009.jpg"
    },
    {
        "text": "En caso de venta de un vehículo, ¿quién tiene que notificarlo a la Jefatura de Tráfico correspondiente?",
        "options": [
            "Tanto el comprador como el vendedor en el plazo más breve posible.",
            "El comprador, en un plazo máximo de 15 días.",
            "El vendedor, en el plazo de 10 días."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2017.jpg"
    },
    {
        "text": "¿Qué tipo de sanción conlleva la utilización de dispositivos de intercomunicación no autorizados en las pruebas para la obtención del permiso de conducir?",
        "options": [
            "Multa de 200 euros y la inhabilitación de volver a presentarse a las pruebas en el plazo de tres meses.",
            "Multa de 500 euros y la inhabilitación de volver a presentarse a las pruebas en el plazo de seis meses.",
            "Ninguna."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510106_150723.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>