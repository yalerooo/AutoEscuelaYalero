<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "A la vista de la señal, ¿en qué situaciones podemos adelantar por la derecha?",
        "options": [
            "Nunca.",
            "Cuando no exista marca vial que lo prohíba.",
            "Cuando el vehículo que le precede cambie de dirección a la izquierda."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510129_150616.jpg"
    },
    {
        "text": "Con la lluvia se forma una capa de agua que crea un mayor peligro por...",
        "options": [
            "no se crea ningún peligro por que el agua refrigera los neumáticos y frenan mejor.",
            "la posible falta de adherencia de los neumáticos al pavimento.",
            "el calentamiento de los frenos al mojarse."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500502.jpg"
    },
    {
        "text": "¿En qué situación avisa al conductor el sistema avanzado de ayuda a la conducción conocido como “LDW”?",
        "options": [
            "En un cambio involuntario de dirección.",
            "Cuando el vehículo abandona involuntariamente el carril por el que circula.",
            "En un desplazamiento lateral indicado con el intermitente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500132_ADAS.jpg"
    },
    {
        "text": "¿Está permitido colocar cortinillas en los cristales traseros del vehículo?",
        "options": [
            "No, está prohibido.",
            "Sí, si el vehículo dispone de un espejo retrovisor exterior a cada lado.",
            "Sí, si se trata de un accesorio homologado."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500504.jpg"
    },
    {
        "text": "Un agente de circulación ordena reanudar la marcha con ayuda de un silbato, ¿cómo serán los toques?",
        "options": [
            "Cortos y frecuentes.",
            "No se utiliza el silbato para este tipo de órdenes.",
            "Largos."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500505.jpg"
    },
    {
        "text": "Durante un viaje largo, ¿qué se puede hacer para evitar la fatiga?",
        "options": [
            "Realizar descansos suficientemente largos.",
            "Beber café en lugar de hacer pausas en la conducción.",
            "Poner muy alto el volumen de la radio."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500506.jpg"
    },
    {
        "text": "El día 2 de cada mes, delante de esta señal, ¿está permitido parar?",
        "options": [
            "Sí.",
            "No, ni parar ni estacionar.",
            "No."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500507.jpg"
    },
    {
        "text": "¿Es recomendable revisar el cinturón de seguridad después de sufrir un accidente?",
        "options": [
            "No, es un elemento de seguridad que no debe cambiarse nunca.",
            "Sí, puede haberse deteriorado el trenzado o los sistemas de anclaje.",
            "No, porque se ha probado su eficacia."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510122_151016.jpg"
    },
    {
        "text": "Los conductores de bicicletas, ¿pueden circular por los arcenes de las autopistas?",
        "options": [
            "No, en ningún caso.",
            "Sí, cuando sean mayores de 14 años.",
            "Sí, siempre."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500509.jpg"
    },
    {
        "text": "¿Por dónde debe circular un rebaño?",
        "options": [
            "Por el arcén de la izquierda en el sentido de su marcha.",
            "Lo más cerca posible del borde derecho de la vía en el sentido de su marcha.",
            "Por el arcén derecho o el izquierdo, indistintamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500510.jpg"
    },
    {
        "text": "Consultar un mapa mientras se conduce, ¿es causa de distracción?",
        "options": [
            "Sí, ya que se aparta la vista de la vía.",
            "No, si se circula despacio.",
            "No, cuando la consulta es de poco tiempo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500511.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Entrada prohibida a todos los vehículos, salvo ciclomotores.",
            "Calle cortada.",
            "Entrada prohibida a toda clase de vehículos."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500513.jpg"
    },
    {
        "text": "La monotonía y disminución de la atención, es un factor de peligro, que suele presentarse con mayor frecuencia, cuando se circula por...",
        "options": [
            "autopista y autovía.",
            "carreteras convencionales.",
            "vías urbanas y travesías."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510122_250716.jpg"
    },
    {
        "text": "¿En qué vías debe emplear las luces de largo alcance?",
        "options": [
            "En las vías interurbanas insuficientemente iluminadas.",
            "En cualquier tipo de vía, siempre que sea necesario.",
            "En las vías urbanas, incluidas las travesías."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500514.jpg"
    },
    {
        "text": "El alcohol, ¿influye en la distancia de reacción?",
        "options": [
            "Sí, porque afecta al tiempo de reacción.",
            "No, el estado del conductor no influye en la distancia de reacción, sólo depende del estado del vehículo.",
            "No, pero sí influye en la distancia de frenado."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500515.jpg"
    },
    {
        "text": "Cuando un conductor circula a velocidad adecuada...",
        "options": [
            "hace que la circulación sea lenta y peligrosa.",
            "estorba a otros conductores y puede causar un accidente.",
            "puede detectar las intenciones de otros usuarios y reaccionar a tiempo para evitar un accidente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500516.jpg"
    },
    {
        "text": "Si queda detenido en un túnel por necesidades de la circulación, ¿qué debe hacer?",
        "options": [
            "Mantener encendidas las luces de posición, y detenerse lo más lejos posible del vehículo que le preceda.",
            "Encender, solamente, el alumbrado de emergencia.",
            "Detenerse lo más cerca posible del vehículo que circula delante."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500518.jpg"
    },
    {
        "text": "En una calzada de un solo sentido de circulación, ¿dónde debe situarse para cambiar de dirección a la izquierda?",
        "options": [
            "En una calzada de un solo sentido no se puede cambiar de dirección.",
            "Junto al borde derecho de la calzada.",
            "Junto al borde izquierdo de la calzada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500517.jpg"
    },
    {
        "text": "La influencia del factor de riesgo vehículo, ¿cómo se puede disminuir?",
        "options": [
            "Revisando y manteniendo el vehículo.",
            "Manteniendo limpio el motor.",
            "Regulando bien la posición del asiento de conductor."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510108_150316.jpg"
    },
    {
        "text": "¿Es necesario calibrar los sistemas de ayuda a la conducción cada vez que se desconecta la batería?",
        "options": [
            "Sí; los ajustes de la mayoría de los sistemas ADAS se pierden cuando se desconecta la batería.",
            "No; los ajustes de los sistemas ADAS se graban en circuitos sin que les afecte la falta de electricidad.",
            "No; los ajustes de los sistemas ADAS se graban en los circuitos situados en el borne positivo de la batería."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505105.jpg"
    },
    {
        "text": "¿Qué vehículos son los más afectados por el viento lateral?",
        "options": [
            "Las motocicletas y los ciclomotores.",
            "Los camiones.",
            "Los turismos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500519.jpg"
    },
    {
        "text": "Ante esta situación...",
        "options": [
            "se debe circular a velocidad moderada, llegando incluso a detener el vehículo.",
            "se acelerará para dejar atrás al niño cuanto antes y evitar así el peligro.",
            "se circulará normalmente, pues el niño no ha invadido la vía."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500522.jpg"
    },
    {
        "text": "¿Qué indica la señal?",
        "options": [
            "Un paso a nivel con barreras.",
            "Un cruce donde tienen preferencia los que entran por la derecha.",
            "Una intersección con cuatro o más vías."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500523.jpg"
    },
    {
        "text": "Las advertencias acústicas se pueden utilizar...",
        "options": [
            "para advertir el propósito de adelantar únicamente dentro de poblado.",
            "en vías estrechas con muchas curvas.",
            "en vías anchas con pocas curvas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500524.jpg"
    },
    {
        "text": "¿Por qué tipo de vías no pueden circular los ciclomotores?",
        "options": [
            "Por las vías que no tengan arcén.",
            "Por las autopistas y autovías.",
            "Por las autopistas únicamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500525.jpg"
    },
    {
        "text": "La dirección del vehículo es un sistema de seguridad...",
        "options": [
            "activa y pasiva a la vez.",
            "activa.",
            "pasiva."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T500526.jpg"
    },
    {
        "text": "Circula por el carril izquierdo. ¿Qué le indica la flecha?",
        "options": [
            "Que debe incorporarse cuanto antes al carril derecho.",
            "Que está cerca la próxima salida.",
            "Que se permite la circulación en paralelo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500527.jpg"
    },
    {
        "text": "¿En qué situaciones complejas pueden tener más accidentes las personas mayores?",
        "options": [
            "En las que exijan una respuesta rápida.",
            "En los cambios de dirección.",
            "En los adelantamientos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500528.jpg"
    },
    {
        "text": "En un autobús cuyos asientos disponen de cinturones de seguridad es obligatorio que lo utilicen...",
        "options": [
            "sólo los pasajeros mayores de tres años de edad, además del conductor.",
            "todos los pasajeros.",
            "sólo el conductor."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500529.jpg"
    },
    {
        "text": "¿Está prohibido circular marcha atrás?",
        "options": [
            "No, excepto en autopistas y autovías.",
            "Sí, si hay otros usuarios en las proximidades.",
            "Sí, salvo que no pueda marchar hacia delante o cambiar de dirección o sentido."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500530.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>