<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Que me acerco a una vía de dos sentidos.",
            "Que me acerco a un intersección sin preferencia.",
            "Que en la vía de doble sentido va a finalizar el carril de la derecha."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512101.jpg"
    },
    {
        "text": "El consumo de drogas o medicamentos puede producir en el conductor...",
        "options": [
            "alteración del estado físico y mental apropiado para conducir sin peligro.",
            "una mejor apreciación de la velocidad y distancia de seguridad.",
            "disminución de la distancia de frenado."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4604.jpg"
    },
    {
        "text": "¿Pueden llevar las motocicletas la luz antiniebla delantera?",
        "options": [
            "Sí, todas las motocicletas, con o sin sidecar.",
            "Sí, pero sólo las motocicletas con sidecar.",
            "No, las motocicletas no pueden llevar luces antiniebla."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512103.jpg"
    },
    {
        "text": "El cinturón de seguridad debe estar ajustado al cuerpo y...",
        "options": [
            "ni muy flojo, ni muy apretado.",
            "para estar cómodo, lo más flojo posible.",
            "para estar cómodo, se puede utilizar pinzas reguladoras de presión."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512104.jpg"
    },
    {
        "text": "Para adelantar a los ciclistas, ¿cuándo está permitido ocupar el carril de sentido contrario?",
        "options": [
            "Cuando no haya peligro y además se guardará una separación de 1,5 metros.",
            "Sólo cuando los ciclistas estén detenidos.",
            "Sólo cuando haya línea discontinua."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T506409.jpg"
    },
    {
        "text": "Las ruedas motrices, ¿cuáles son?",
        "options": [
            "Las ruedas delanteras.",
            "Pueden ser las ruedas delanteras o las ruedas traseras según el tipo de vehículo.",
            "Las ruedas traseras."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512106.jpg"
    },
    {
        "text": "El autobús circula despacio. ¿Puede adelantarlo teniendo en cuenta la señalización?",
        "options": [
            "Sí, pero sólo cuando el conductor del autobús me indica que puedo hacerlo.",
            "No, porque está prohibido atravesar la línea longitudinal contínua.",
            "Sí, porque no vienen vehículos en sentido contrario."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512107.jpg"
    },
    {
        "text": "Una de las principales causas de accidente en personas jóvenes es...",
        "options": [
            "la falta de reflejos.",
            "la falta de confianza en su capacidad de conducción.",
            "el exceso de velocidad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512108.jpg"
    },
    {
        "text": "En esta situación, ¿qué debe hacer?",
        "options": [
            "Ceder el paso y si es necesario, detenerse.",
            "Obedecer a la señal de Stop.",
            "Ceder el paso sin sobrepasar la línea de detención."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510121_050723.jpg"
    },
    {
        "text": "En un casco, ¿es importante la ventilación?",
        "options": [
            "Sí.",
            "No.",
            "Es importante en verano, el resto del año es indiferente."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512110.jpg"
    },
    {
        "text": "Todo peatón que circule por el arcén de una vía fuera de poblado, entre el ocaso y la salida del sol, ¿debe ir provisto de un elemento luminoso o retrorreflectante?",
        "options": [
            "Sí, para hacerse visible a una distancia mínima de 150 metros por los conductores que se le aproximen.",
            "Sí, pero solamente debe llevarlo puesto cuando existan condiciones meteorológicas que disminuyan sensiblemente la visibilidad.",
            "No, si circula lo más próximo posible al borde de la calzada."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500115.jpg"
    },
    {
        "text": "¿Es peligroso conducir cansado?",
        "options": [
            "No hay peligro, porque cansado se circula más despacio.",
            "Sí, porque se tarda más en reaccionar.",
            "No hay peligro, porque el cansancio relaja."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512112.jpg"
    },
    {
        "text": "Esta señal en un carril de un puesto de peaje, ¿qué indica?",
        "options": [
            "Que es un carril para autobuses y camiones.",
            "Que sólo se puede pagar con sistema de telepeaje.",
            "Que se puede pagar con telepeaje o con moneda."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512113.jpg"
    },
    {
        "text": "¿Cuál es el crédito máximo de puntos que puede acumular un conductor?",
        "options": [
            "8 puntos.",
            "15 puntos.",
            "12 puntos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512114.jpg"
    },
    {
        "text": "Un automóvil construido para el transporte de mercancías cuya cabina está integrada en el resto de la carrocería y con un máximo de 9 plazas, incluido el conductor es...",
        "options": [
            "un camión.",
            "un tractocamión.",
            "una furgoneta."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T513730.jpg"
    },
    {
        "text": "¿Tomar un café o un té reduce la tasa de alcoholemia?",
        "options": [
            "No.",
            "Sí, pero sólo el café.",
            "Sí."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512116.jpg"
    },
    {
        "text": "¿Debe facilitar el paso a una ambulancia que utiliza la señal luminosa pero no la señal acústica?",
        "options": [
            "No, porque no circula en servicio urgente.",
            "No, porque si no utiliza la señal acústica se debe a que tiene suficiente espacio para pasar.",
            "Sí, porque está advirtiendo que circula en servicio urgente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512117.jpg"
    },
    {
        "text": "En un turismo, ¿es obligatorio llevar dispositivo de preseñalización de peligro?",
        "options": [
            "Sólo en autopista y autovía.",
            "No es obligatorio, pero es aconsejable.",
            "Sí, es obligatorio."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512927.jpg"
    },
    {
        "text": "En un túnel cuando la detención dura más de 2 minutos, ¿qué debe hacer?",
        "options": [
            "Mantener el motor en marcha, y encender la luz de emergencia.",
            "Apagar el motor y mantener encendida la luz de posición.",
            "Mantener el motor en marcha y colocar los dispositivos de preseñalización de peligro."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512119.jpg"
    },
    {
        "text": "¿Está permitido circular con un ciclomotor con escape libre?",
        "options": [
            "No, está totalmente prohibido.",
            "Sí, está permitido porque no se considera un vehículo de motor.",
            "Sí, está permitido si el conductor tiene más de 16 años."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512120.jpg"
    },
    {
        "text": "¿Qué indican estas señales?",
        "options": [
            "Prohíben circular a más de 50 km/h en las curvas.",
            "Obligan a circular a 50 km/h en las curvas.",
            "Aconsejan no circular a más de 50 km/h en las curvas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512121.jpg"
    },
    {
        "text": "¿En qué tipo de accidentes es más frecuente que se produzca el latigazo cervical?",
        "options": [
            "En las colisiones por alcance.",
            "Es la lesión más frecuente que se da en los accidentes en solitario.",
            "Es especialmente frecuente en los atropellos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512122.jpg"
    },
    {
        "text": "¿Qué pueden significar dos luces rojas alternativamente intermitentes?",
        "options": [
            "Detenerse por una salida de bomberos.",
            "Precaución por accidente en la vía.",
            "Ceder el paso en la próxima intersección."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512123.jpg"
    },
    {
        "text": "¿Es aconsejable realizar largos desplazamientos utilizando una rueda de repuesto de uso temporal?",
        "options": [
            "No, debido a las limitaciones en velocidad y kilometraje que presentan.",
            "Sólo si se circula por autopistas y en condiciones climatológicas favorables.",
            "Sí, siempre que se lleve con una presión superior a la de las demás ruedas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T511505.jpg"
    },
    {
        "text": "Queda atascado con su turismo en una zona de barro donde patinan las ruedas motrices. ¿Cuál es la forma más adecuada de actuar para seguir circulando?",
        "options": [
            "Preparar un terreno estable colocando el material adecuado cerca de las ruedas motrices para que estas tengan la adherencia suficiente.",
            "Empujar el vehículo por uno de los laterales hacia una mejor superficie con adherencia.",
            "Pisar a fondo el pedal acelerador para conseguir mayor tracción en las ruedas y así lograr mayor adherencia."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510101_151221.jpg"
    },
    {
        "text": "¿Son todos los medicamentos peligrosos para la conducción?",
        "options": [
            "Sí, todos.",
            "Sólo los psicofármacos.",
            "No, sólo algunos."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512126.jpg"
    },
    {
        "text": "Si se pretende adelantar a este vehículo, ¿está permitido disminuir la distancia de seguridad?",
        "options": [
            "Sí, porque así tiene mejor visión del sentido contrario.",
            "Sí, para hacer el adelantamiento más seguro.",
            "No, se debe mantener siempre la distancia de seguridad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512127.jpg"
    },
    {
        "text": "El funcionamiento del airbag, ¿puede llegar a ser peligroso en un accidente?",
        "options": [
            "Sí, siempre.",
            "Sí, si no se lleva puesto el cinturón de seguridad.",
            "No."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512128.jpg"
    },
    {
        "text": "Esta señal prohíbe la entrada a...",
        "options": [
            "tractores y otras máquinas agrícolas autopropulsadas.",
            "tractores, exclusivamente.",
            "cualquier vehículo agrícola, siempre que no arrastre ningún remolque."
        ],
        "correct": "A",
        "image": "../../../Assets/img/600908.jpg"
    },
    {
        "text": "¿En qué situación el viento implica mayor peligro para la conducción de una motocicleta?",
        "options": [
            "Cuando sople de frente.",
            "Cuando sople de costado y a ráfagas",
            "Cuando sople por detrás."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512130.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>