<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Estas señales, sobre una carretera convencional, indican salida inmediata hacia...",
        "options": [
            "otra carretera convencional.",
            "una autovía.",
            "una autopista."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504701.jpg"
    },
    {
        "text": "Cuando existan placas de hielo en la calzada, ¿cuál es la forma más aconsejable y segura de descender una pendiente prolongada?",
        "options": [
            "Con marchas largas para mejorar el agarre de las ruedas motrices.",
            "Reduciendo la velocidad con el freno de mano, especialmente al trazar las curvas.",
            "Con marchas cortas para frenar lo menos posible."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505906.jpg"
    },
    {
        "text": "Con un herido con parada respiratoria, ¿qué debe hacer?",
        "options": [
            "Hacerle la respiración artificial.",
            "Colocarle en posición de defensa.",
            "Darle masaje."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510117_150723.jpg"
    },
    {
        "text": "Un requisito obligatorio que debe cumplir todo casco que sea utilizado por un motorista o su acompañante es que sea...",
        "options": [
            "convencional, porque es más cómodo que el integral.",
            "integral, porque protege más que el convencional.",
            "homologado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504704.jpg"
    },
    {
        "text": "El conductor de un vehículo que pretende incorporarse a la circulación está obligado a...",
        "options": [
            "cerciorarse previamente de que pueda hacerlo sin peligro.",
            "poner el intermitente, únicamente.",
            "seguir siempre las indicaciones de otra persona."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504705.jpg"
    },
    {
        "text": "La decisión del conductor, ¿prevalecerá siempre sobre la información que proporciona el navegador?",
        "options": [
            "No, los navegadores suelen aconsejar siempre el camino más adecuado.",
            "Sí, siempre debe tener prioridad sobre las instrucciones del navegador.",
            "No, el navegador informa mejor respecto del estado de la carretera."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504706.jpg"
    },
    {
        "text": "¿Está permitido circular utilizando solamente el alumbrado de posición del vehículo entre la puesta y la salida del sol?",
        "options": [
            "No, debe utilizarse además el alumbrado de cruce o el de carretera.",
            "Sí, en vías de poblado suficientemente iluminadas.",
            "Sí, en cualquier vía suficientemente iluminada."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504707.jpg"
    },
    {
        "text": "Una bicicleta, ¿puede arrastrar un remolque?",
        "options": [
            "No, está prohibido que arrastre un remolque.",
            "Sí, con la única condición de no llevar personas en el remolque.",
            "Sí, cuando además de lo anterior lo haga de día y el peso del remolque no supere el 50% de la masa en vacío de la bicicleta."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504708.jpg"
    },
    {
        "text": "La distancia de frenado está determinada por...",
        "options": [
            "el estado del vehículo, principalmente.",
            "la velocidad a la que se circula y por otros factores, como el estado de la vía y del vehículo.",
            "la velocidad únicamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504709.jpg"
    },
    {
        "text": "¿Qué medidas como norma general tendrá la señal V-13 \"Conductor novel\"?",
        "options": [
            "15 cm de alto y 13 cm de ancho.",
            "19, 5 cm de alto y 15 cm de ancho.",
            "19,5 cm de alto y 13 cm de ancho."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504830.jpg"
    },
    {
        "text": "Si va a continuar de frente, y hay un semáforo rojo a la izquierda y otro verde a la derecha, deberá obedecer el semáforo...",
        "options": [
            "verde, porque permite el paso.",
            "verde, porque está a la derecha.",
            "rojo, porque está a la izquierda y voy a seguir de frente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504711.jpg"
    },
    {
        "text": "Un conductor bajo los efectos del alcohol...",
        "options": [
            "coordina más rápidamente sus movimientos.",
            "es más fácil que coordine correctamente sus movimientos.",
            "es más difícil que coordine correctamente sus movimientos."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512402.jpg"
    },
    {
        "text": "Cuando el fondo de las señales de orientación es amarillo, indica que se circula por...",
        "options": [
            "un tramo de vía especialmente peligroso.",
            "un tramo de vía en obras.",
            "una vía para automóviles."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510130_150721.jpg"
    },
    {
        "text": "En caso de accidente, ¿debe intentar restablecer la seguridad de la circulación?",
        "options": [
            "No, es tarea de los cuerpos de seguridad.",
            "No, porque la única obligación es la de pedir ayuda.",
            "Sí, en la medida de lo posible."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504714.jpg"
    },
    {
        "text": "Esta señal significa intervalo...",
        "options": [
            "aconsejado de velocidades, aunque las condiciones sean desfavorables.",
            "aconsejado de velocidades, siempre que las condiciones sean favorables.",
            "obligatorio de velocidades, siempre que las condiciones sean favorables."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504715.jpg"
    },
    {
        "text": "Utilizar correctamente el cinturón de seguridad, ¿qué ventajas tiene?",
        "options": [
            "Evitar que salga despedido en caso de accidente.",
            "Poder desconectar otros sistemas de seguridad que dejan de tener utilidad.",
            "Evitar las lesiones cervicales en caso de accidente."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504716.jpg"
    },
    {
        "text": "¿Cuáles son los 4 distintivos ambientales para clasificar los vehículos por su potencial contaminante?",
        "options": [
            "Sin emisiones, ECO, A y B.",
            "0 emisiones, ECO, C y D.",
            "0 emisiones, ECO, C y B."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510101_250121.jpg"
    },
    {
        "text": "Los vehículos especiales...",
        "options": [
            "sólo pueden realizar actividades agrícolas.",
            "no pueden ser vehículos de motor.",
            "pueden ser autopropulsados o remolcados."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504718.jpg"
    },
    {
        "text": "Como norma general, ¿quién tiene la preferencia en un estrechamiento sin señalizar?",
        "options": [
            "El vehículo más pesado.",
            "Los vehículos de tracción animal.",
            "El vehículo que entre primero."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504719.jpg"
    },
    {
        "text": "¿Qué cantidad de combustible se puede ahorrar mediante técnicas de conducción eficiente?",
        "options": [
            "Un 5% del combustible que se consume aproximadamente.",
            "Un 50% del combustible que se consume aproximadamente.",
            "Un 25% del combustible que se consume aproximadamente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504720.jpg"
    },
    {
        "text": "La señal horizontal de limitación de velocidad situada en un carril, afecta...",
        "options": [
            "únicamente a vehículos pesados.",
            "a todos y cada uno de los carriles que tenga la calzada.",
            "solamente a los vehículos que circulen por el carril en el que está situada la señal."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504721.jpg"
    },
    {
        "text": "Mientras se reposta carburante en una motocicleta, ¿es obligatorio apagar el alumbrado?",
        "options": [
            "Sí.",
            "No, se debe dejar encendida la luz de cruce.",
            "No, se debe dejar encendida la luz de posición."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504722.jpg"
    },
    {
        "text": "Estas señales de balizamiento, ¿qué indican?",
        "options": [
            "Que está prohibido circular por el carril izquierdo.",
            "Que hay un carril de salida a la derecha.",
            "Que la próxima curva es especialmente peligrosa."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504723.jpg"
    },
    {
        "text": "Una de las formas de reducir los efectos peligros de la lluvia sobre la conducción es...",
        "options": [
            "instalar neumáticos con mayor anchura.",
            "reducir ligeramente la presión de inflado de los neumáticos.",
            "aumentar la distancia de seguridad frontal."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504724.jpg"
    },
    {
        "text": "Los niños menores de doce años, ¿pueden viajar como pasajeros en las motocicletas?",
        "options": [
            "No, como norma general.",
            "Sí, siempre que lleven un casco debidamente homologado.",
            "Sí, en cualquier caso."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504725.jpg"
    },
    {
        "text": "Si el intermitente del vehículo no funciona, ¿cómo indicará que va a girar a la izquierda?",
        "options": [
            "Con el brazo izquierdo en posición horizontal y la palma de la mano extendida hacia abajo.",
            "Extendiendo el brazo izquierdo horizontalmente, con la palma de la mano hacia atrás.",
            "Doblando el brazo izquierdo hacia arriba, con la palma de la mano extendida."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504726.jpg"
    },
    {
        "text": "En la próxima intersección, según la señal, ¿tiene prioridad de paso?",
        "options": [
            "No, debe ceder el paso a los vehículos que se aproximen por la derecha.",
            "No, debe ceder el paso a todos los usuarios.",
            "Sí, la señal indica la prioridad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504727.jpg"
    },
    {
        "text": "El ajuste de los espejos retrovisores deben llevarse a cabo con el vehículo...",
        "options": [
            "en movimiento.",
            "circulando a velocidad reducida.",
            "detenido."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504728.jpg"
    },
    {
        "text": "Al circular marcha atrás observa una señal de aviso de otro vehículo. ¿Qué debe hacer?",
        "options": [
            "Señalizar la maniobra con las luces de emergencia.",
            "Terminar la maniobra lo más rápido posible.",
            "Detener el vehículo, desistiendo de la maniobra si fuera preciso."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504729.jpg"
    },
    {
        "text": "Las cadenas para nieve, ¿pueden sustituirse por otro dispositivo?",
        "options": [
            "Sí, por neumáticos con clavos.",
            "Sí, por sprays.",
            "No."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504730.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>