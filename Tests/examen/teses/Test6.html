<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "En este tramo de vía, ¿cuál es la velocidad máxima?",
        "options": [
            "La que indica la señalización.",
            "La máxima genérica de 90 km/h.",
            "La máxima genérica de 120 km/h."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505601.jpg"
    },
    {
        "text": "En ciudad, ¿es importante no circular a más de 50 kilómetros por hora?",
        "options": [
            "No, sobre todo en las calles y avenidas anchas.",
            "Sí, pero sólo para no ser sancionado por exceso de velocidad.",
            "Sí, para que, en caso de atropello, el peatón tenga más posibilidades de sobrevivir."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505602.jpg"
    },
    {
        "text": "Como norma general, en vías de tres calzadas se utilizarán las de los laterales...",
        "options": [
            "En un único sentido, cuando exista tráfico fluido.",
            "En un único sentido, sin perjuicio de que las autoridades puedan establecer otro sentido, que será señalizado oportunamente.",
            "En ambos sentidos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505603.jpg"
    },
    {
        "text": "¿Cuándo debe pasar una motocicleta la primera inspección técnica periódica?",
        "options": [
            "A los cuatro años de antigüedad para cilindradas superiores a 125 centímetros cúbicos.",
            "A los seis años de antigüedad.",
            "A los cuatro años de antigüedad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505604.jpg"
    },
    {
        "text": "Un vehículo circula a velocidad inadecuada cuando...",
        "options": [
            "circula por debajo de la velocidad máxima y por encima de la mínima.",
            "se adapta a las condiciones de la vía pero supera los límites establecidos.",
            "no se adapta a las circunstancias ni del tráfico ni de la vía."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505605.jpg"
    },
    {
        "text": "El alcohol, ¿afecta a todas las personas por igual?",
        "options": [
            "No, sus efectos dependen de factores como la constitución corporal, la edad o el hábito de beber.",
            "Sí, salvo que se haya tomado en ayunas.",
            "Sí, cuando se ha tomado la misma cantidad."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505606.jpg"
    },
    {
        "text": "En un paso de peatones, ¿hay que hacer señales a los peatones para que crucen la calzada?",
        "options": [
            "Sí, pero sólo si van a cruzar por él.",
            "Sí, porque así los peatones pueden cruzar con seguridad.",
            "No, porque los demás conductores pueden no haberse dado cuenta de su presencia."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505607.jpg"
    },
    {
        "text": "Situado en un vehículo, ¿qué identifica la señal V-25 distintivo ambiental?",
        "options": [
            "El tipo de combustible empleado y su nivel de radiación atmosférica.",
            "Su clasificación ambiental en función de su nivel de contaminación acústica.",
            "Su clasificación ambiental en función de su nivel de emisiones y combustible empleado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510113_250422.jpg"
    },
    {
        "text": "¿Qué le indica la flecha verde del semáforo?",
        "options": [
            "Que puedo tomar la dirección que indica la flecha, con precaución y dejando pasar a los vehículos que circulen por el carril al que me incorporo.",
            "Que puedo girar a la derecha cuando se encienda la luz verde del semáforo principal.",
            "Que puedo girar a la derecha con prioridad."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505609.jpg"
    },
    {
        "text": "¿Existe algún dispositivo de seguridad del vehículo que pueda sustituir al cinturón de seguridad?",
        "options": [
            "No, todos están diseñados para funcionar de forma complementaria.",
            "Sí, el airbag del conductor.",
            "Sí, los asientos traseros."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505610.jpg"
    },
    {
        "text": "El conductor de un conjunto de vehículos de más de 3.500 kg de MMA que circula por un túnel y no pretende adelantar debe dejar con el vehículo que le precede una separación de al menos...",
        "options": [
            "50 metros.",
            "150 metros.",
            "100 metros."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510123_151016.jpg"
    },
    {
        "text": "¿Es aconsejable fumar mientras se conduce?",
        "options": [
            "Sí, para las personas que fuman habitualmente, porque relaja.",
            "No, puede provocar distracciones en el conductor.",
            "Sí, siempre."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505612.jpg"
    },
    {
        "text": "Para un vehículo con carga, ¿cuál es la altura máxima permitida?",
        "options": [
            "4 metros como norma general.",
            "3 metros.",
            "2,5 metros."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505613.jpg"
    },
    {
        "text": "Cuando llueve es importante...",
        "options": [
            "no pisar el pedal del embrague.",
            "aumentar la presión de los neumáticos.",
            "comprobar de vez en cuando los frenos."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505614.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Estacionamiento para usuarios de ferrocarril.",
            "Zona reservada para el estacionamiento de autobuses.",
            "Estacionamiento para usuarios de autobús."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510125_150623.jpg"
    },
    {
        "text": "Para repostar carburante, ¿cómo debe actuar?",
        "options": [
            "Sólo parar el motor y poner la primera relación de marchas.",
            "Solo apagar las luces.",
            "Parar el motor, apagar las luces, los equipos eléctricos y el móvil."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505616.jpg"
    },
    {
        "text": "El vehículo rojo va a girar a la izquierda. ¿Puede circular por el arcén para adelantarlo por la derecha?",
        "options": [
            "No, porque está prohibido circular por el arcén.",
            "No, porque el camión no me deja ver.",
            "Sí, porque es una intersección con prioridad."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505617.jpg"
    },
    {
        "text": "Si a un conductor se le detecta una tasa de 0,3 miligramos por litro en aire espirado, ¿puede solicitar una segunda prueba?",
        "options": [
            "Sí, pasado un mínimo de 10 minutos.",
            "Sí, pero esta segunda prueba sólo podrá realizarse mediante un análisis de sangre.",
            "No y, además, los agentes procederán a inmovilizar el vehículo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505618.jpg"
    },
    {
        "text": "En una parada de autobús señalizada, ¿qué está prohibido?",
        "options": [
            "Estacionar.",
            "Circular sobre ella.",
            "Adelantar cerca de ella."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505619.jpg"
    },
    {
        "text": "En caso de un accidente donde la ayuda ya está organizada, ¿debe detenerse a prestar auxilio?",
        "options": [
            "Sí, debe detenerse y colaborar siempre.",
            "No, si no está implicado debe continuar la marcha.",
            "Sí, en vías interurbanas o donde no exista poste SOS."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505620.jpg"
    },
    {
        "text": "En una intersección, ¿está permitido realizar un cambio de sentido?",
        "options": [
            "Sí, siempre que se pueda efectuar la maniobra en un solo giro.",
            "No, como norma general.",
            "No, está prohibido siempre."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505621.jpg"
    },
    {
        "text": "Cuando tomo medicinas que afectan al sistema nervioso, ¿qué debo hacer para conducir?",
        "options": [
            "No debo conducir hasta dos horas después de tomarlas.",
            "Consultar al médico y obedecer sus indicaciones.",
            "Nada, porque mejoran mis capacidades."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505622.jpg"
    },
    {
        "text": "Una señal de prohibición junto a una señal de localización de población, ¿prohíbe en toda la población?",
        "options": [
            "Prohíbe sólamente en la travesía.",
            "No.",
            "Sí, pero dentro de la población puede haber otras señales que cambien la prohibición anterior."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505623.jpg"
    },
    {
        "text": "¿Es aconsejable llevar el cinturón de seguridad con este tipo de abrigo?",
        "options": [
            "Sí, es más cómodo.",
            "No, el cinturón puede perder eficacia al no estar ajustado al cuerpo.",
            "Es indiferente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505624.jpeg"
    },
    {
        "text": "A la entrada y salida del colegio, para evitar riesgos, ¿qué precauciones deberá tomar cuando los niños desciendan del vehículo, además de la previa vigilancia del entorno?",
        "options": [
            "Para mayor seguridad lo harán siempre por la puerta del conductor.",
            "Deberán bajar del vehículo por la puerta más alejada del borde de la vía.",
            "No deberán abrir las puertas ni apearse antes de la completa inmovilización del vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T5101_251020_07.jpg"
    },
    {
        "text": "Con el permiso B para conducir turismos, ¿qué otros vehículos se pueden conducir?",
        "options": [
            "Motocicletas de más de 125 cc.",
            "Ciclomotores de dos, tres y cuatro ruedas.",
            "Todos los vehículos que se pueden conducir con el permiso A."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505626.jpg"
    },
    {
        "text": "En esta carretera de dos sentidos, ¿se puede adelantar al vehículo de la fotografía?",
        "options": [
            "No, porque en curva está prohibido adelantar.",
            "No, porque la señal lo prohíbe.",
            "Sí, porque no necesito ocupar el carril de sentido contrario."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505627.jpg"
    },
    {
        "text": "Las señales acústicas deben ser...",
        "options": [
            "de cualquier sonido.",
            "de sonido muy agudo.",
            "de sonido no estridente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505628.jpg"
    },
    {
        "text": "Circula de noche con las luces largas encendidas. Ve peatones en el arcén. ¿Está obligado a cambiar la luz larga por la corta?",
        "options": [
            "No es necesario.",
            "Sí, pero solamente en los tramos rectos.",
            "Sí, para no deslumbrar."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T505629.jpg"
    },
    {
        "text": "En los turismos, el cojín elevador para los niños se debe utilizar a partir de...",
        "options": [
            "9 meses.",
            "3 años.",
            "13 años."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T505630.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>