<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "¿Dónde está prohibido circular con la luz larga encendida?",
        "options": [
            "Donde hay peligro de deslumbrar y en vías urbanas.",
            "En todos los túneles.",
            "En autopistas iluminadas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512001.jpg"
    },
    {
        "text": "¿Qué se debe hacer con el aceite usado del vehículo?",
        "options": [
            "Tirarlo en tierra.",
            "Entregarlo en un contenedor de recuperación de aceite.",
            "Tirarlo en una alcantarilla o desagüe."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512002.jpg"
    },
    {
        "text": "La señal de la izquierda (con tres flechas), ¿qué indica?",
        "options": [
            "Que es obligatorio circular por el arcén izquierdo.",
            "Obliga a seguir la dirección de la flecha en la próxima intersección.",
            "Que a 250 metros se desvía el carril de la izquierda."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512003.jpg"
    },
    {
        "text": "El seguro obligatorio, ¿cubre los daños ocasionados en el vehículo asegurado?",
        "options": [
            "Sí.",
            "No.",
            "Sí, cuando su conductor no sea culpable del accidente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512004.jpg"
    },
    {
        "text": "En un carril reversible...",
        "options": [
            "debe llevar encendida la luz de cruce, siempre.",
            "debe circular como máximo a 100 km/h.y como mínimo a 60 km/h.",
            "no debe cambiar nunca de carril salvo para adelantar."
        ],
        "correct": "A",
        "image": "../../../Assets/img/P0311.jpg"
    },
    {
        "text": "¿Qué puede causar somnolencia en un conductor?",
        "options": [
            "Únicamente dormir pocas horas.",
            "Dormir más horas de las habituales.",
            "Cambiar las horas habituales de sueño."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512006.jpg"
    },
    {
        "text": "Circula con su turismo por esta carretera. ¿Cuál es la velocidad máxima permitida?",
        "options": [
            "100 km/h.",
            "80 km/h.",
            "90 km/h."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512007.jpg"
    },
    {
        "text": "La cinta torácica del cinturón de seguridad puede provocar graves lesiones durante un accidente si se coloca...",
        "options": [
            "sobre la clavícula.",
            "sobre el cuello o sobre el pecho.",
            "sobre el hombro."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512008.jpg"
    },
    {
        "text": "¿Puede ir como pasajero en una motocicleta un menor de 12 años?",
        "options": [
            "Sí, siempre que sea mayor de siete años y el conductor sea su padre, madre, tutor o persona autorizada.",
            "Sí, en todo caso.",
            "No, los menores de 12 años no pueden ir como pasajeros en las motocicletas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512009.jpg"
    },
    {
        "text": "Como norma general, si un herido en accidente ha perdido el conocimiento, ¿cómo se le debe colocar?",
        "options": [
            "Acostado boca arriba.",
            "Acostado de lado en posición de defensa.",
            "Acostado boca abajo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512010.jpg"
    },
    {
        "text": "Si, por avería, se ve obligado a inmovilizar su vehículo en una autopista, ¿puede hacerlo en la mediana?",
        "options": [
            "No, sólo es posible hacerlo en el lado derecho, aunque ocupe parte de la calzada.",
            "Sí, cuando no haya otra posibilidad.",
            "No, hay que continuar hasta el área de descanso más próxima."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510117_250916.jpg"
    },
    {
        "text": "El alcohol, ¿produce los mismos efectos en todas las personas?",
        "options": [
            "Sí.",
            "No, puede variar, por ejemplo según el peso, el sexo y el estado psicofísico.",
            "No, depende sólo de la costumbre de beber."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512012.jpg"
    },
    {
        "text": "¿Cómo puede advertirse previamente al conductor del vehículo que circula delante de la intención de adelantarle?",
        "options": [
            "Mediante las oportunas señales acústicas u ópticas tanto dentro como fuera de poblado.",
            "Mediante las oportunas señales acústicas, fuera de poblado.",
            "Mediante los intermitentes."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512013.jpg"
    },
    {
        "text": "Una velocidad inadecuada, junto con unas malas condiciones del vehículo y de la vía, ¿pueden aumentar la distancia de frenado?",
        "options": [
            "No, solo influye el mal estado del conductor.",
            "Sí.",
            "No, únicamente influye la velocidad a la que se circule."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512014.jpg"
    },
    {
        "text": "Esta señal indica fin de velocidad...",
        "options": [
            "recomendada.",
            "máxima.",
            "mínima."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512015.jpg"
    },
    {
        "text": "El campo visual de los niños es...",
        "options": [
            "menor que el de los adultos.",
            "mayor que el de los adultos.",
            "igual que el de los adultos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512016.jpg"
    },
    {
        "text": "Un agente, con toques de silbato cortos y frecuentes, ordena...",
        "options": [
            "que se detengan los vehículos a quienes se dirija.",
            "que se reanude la marcha.",
            "que se inmovilice el vehículo fuera de la calzada."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512017.jpg"
    },
    {
        "text": "Al iniciar un tratamiento médico...",
        "options": [
            "siempre se puede conducir.",
            "nunca se puede conducir.",
            "hay que ser más prudente conduciendo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512018.jpg"
    },
    {
        "text": "En un túnel, ¿puede cambiar de sentido?",
        "options": [
            "No, está prohibido.",
            "Sí, cuando exista más de un carril para el sentido de la marcha.",
            "Sí, cuando exista espacio suficiente y sin obstaculizar el paso de otros vehículos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512019.jpg"
    },
    {
        "text": "En caso de sufrir un reventón circulando por una vía a velocidad elevada, ¿es aconsejable pisar el pedal de freno con brusquedad?",
        "options": [
            "Sí, para mantener con mayor facilidad la trayectoria recta del vehículo.",
            "Solo si el reventón se produce en una de las ruedas delanteras.",
            "No; el frenado debe ser suave y progresivo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500716.jpg"
    },
    {
        "text": "Al llegar a una intersección, la única señal que observa es una marca transversal discontinua en su carril, ¿qué debe hacer?",
        "options": [
            "No franquear esa marca en ningún caso.",
            "Detenerse obligatoriamente ante esa marca.",
            "No franquear esa marca si hay que ceder el paso por aplicación de las normas de prioridad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512021.jpg"
    },
    {
        "text": "Si su turismo ha pasado favorablemente la primera ITV, ¿cuándo tiene que pasar la próxima inspección?",
        "options": [
            "Dentro de 4 años.",
            "Dentro de 2 años.",
            "Al año siguiente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512022.jpg"
    },
    {
        "text": "Un semáforo con línea blanca horizontal sobre fondo negro...",
        "options": [
            "permite girar a la derecha y a la izquierda a autobuses y tranvías.",
            "permite el paso a autobuses y tranvías.",
            "prohíbe el paso a autobuses de líneas regulares y tranvías."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512023.jpg"
    },
    {
        "text": "El factor de riesgo que influye en la mayor parte de los accidentes, ¿cuál es?",
        "options": [
            "El factor vía y entorno.",
            "El factor vehículo.",
            "El factor humano."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512024.jpg"
    },
    {
        "text": "Circula por una carretera convencional con dos carriles para cada sentido, ¿qué carril debe utilizar?",
        "options": [
            "El izquierdo.",
            "El que más convenga a mi destino.",
            "El derecho."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512025.jpg"
    },
    {
        "text": "¿Cuántos espejos retrovisores llevará como mínimo un turismo?",
        "options": [
            "2.",
            "3.",
            "4."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T505101.jpg"
    },
    {
        "text": "A efectos del número de plazas de los turismos, los menores de 12 años, se computarán como...",
        "options": [
            "media plaza, siempre que no supere el 50% del total de plazas.",
            "una plaza.",
            "no ocupan plaza si son menores de 2 años."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512027.jpg"
    },
    {
        "text": "¿En qué caso puede el conductor de una motocicleta circular sin casco?",
        "options": [
            "Cuando la motocicleta tenga estructura de autoprotección, cinturón de seguridad y así conste en su tarjeta ITV.",
            "En ningún caso ya que el casco siempre es obligatorio.",
            "Cuando circule en vías urbanas a velocidad reducida."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512028.jpg"
    },
    {
        "text": "Si padece una enfermedad crónica, ¿qué es aconsejable para disminuir el riesgo de sufrir un accidente?",
        "options": [
            "Aumentar la dosis de medicamento cuando vaya a conducir.",
            "Evitar situaciones que puedan provocar una crisis.",
            "Suspender el tratamiento, siempre que vaya a conducir."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513106.jpg"
    },
    {
        "text": "El conductor de la furgoneta, ¿puede hacer una parada en doble fila para descargar?",
        "options": [
            "Sí, excepcionalmente y respetando las normas sobre paradas.",
            "Solo si la parada tiene una duración igual o inferior a 1 minuto.",
            "No, está prohibido."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T513205.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>