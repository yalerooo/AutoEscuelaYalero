<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "En una autopista en caso de avería, ¿está permitido que continúe circulando por el arcén izquierdo?",
        "options": [
            "No, se debe circular por el arcén de la derecha.",
            "No, porque está prohibido que los turismos circulen por el arcén.",
            "Sí, cuando el vehículo haya sufrido la avería circulando por el carril izquierdo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T514801.jpg"
    },
    {
        "text": "¿Cuál de estos factores favorecen las distracciones al conducir?",
        "options": [
            "Una situación de tráfico excesivamente sencilla.",
            "Una situación de tráfico excesivamente compleja.",
            "Una carretera desconocida."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514802.jpg"
    },
    {
        "text": "Esta señal indica...",
        "options": [
            "la prohibición de circular por esta calzada para todos los conductores de vehículos que transporten mercancías.",
            "la obligación de circular por esta calzada para todos los conductores de vehículos que transporten mercancías peligrosas.",
            "la obligación de circular por esta calzada para todos los conductores de vehículos que transporten mercancías explosivas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514803.jpg"
    },
    {
        "text": "Los accidentes de tráfico, ¿son una de las principales causas de lesiones?",
        "options": [
            "No, pero son una de las principales causas de mortalidad.",
            "No, y tampoco son una de las principales causas de mortalidad.",
            "Sí, y también son una de las principales causas de mortalidad."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514804.jpg"
    },
    {
        "text": "Por esta carretera convencional, ¿cuál es la velocidad máxima a la que puede circular un vehículo mixto?",
        "options": [
            "A 90 kilómetros por hora.",
            "A 100 kilómetros por hora.",
            "A 80 kilómetros por hora."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T514805.jpg"
    },
    {
        "text": "Si conduciendo una motocicleta tiene que atravesar una zona con poca adherencia, debe hacerlo...",
        "options": [
            "aumentando la velocidad para pasar rápidamente.",
            "frenando para disminuir el peligro.",
            "con la motocicleta perpendicular al suelo y sin acelerar o frenar bruscamente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/I3717.jpg"
    },
    {
        "text": "En los vehículos de anchura inferior a un metro, la carga no debe sobresalir por la parte posterior más de...",
        "options": [
            "0,50 metros.",
            "0,25 metros.",
            "0,40 metros."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514807.jpg"
    },
    {
        "text": "Están obligados a someterse a las pruebas de alcoholemia...",
        "options": [
            "solamente los usuarios de la vía que estén implicados en un accidente de circulación.",
            "solamente los conductores de automóviles y ciclomotores.",
            "los conductores de vehículos que sean requeridos en controles preventivos."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514808.jpg"
    },
    {
        "text": "Para un uso adecuado del alumbrado, ¿qué debe revisar?",
        "options": [
            "La regulación, el funcionamiento y el estado del sistema.",
            "Sólo la regulación, pero con una cierta frecuencia.",
            "Nada, porque el alumbrado lo tienen que revisar en un taller."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T514809.jpg"
    },
    {
        "text": "Los grupos de ciclistas que superen los 50 participantes, ¿necesitan autorización para circular?",
        "options": [
            "Sí.",
            "No.",
            "Únicamente cuando la circulación se desarrolle en vías fuera de poblado."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510106_150117.jpg"
    },
    {
        "text": "En las zonas urbanas, los peatones están obligados a circular, como norma general, por...",
        "options": [
            "Es indiferente.",
            "Por las aceras.",
            "Por la calzada."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514811.jpg"
    },
    {
        "text": "Mientras conduce, ¿qué teléfonos está permitido utilizar?",
        "options": [
            "Los sistemas con auriculares.",
            "Los sistemas de manos libres sin auriculares.",
            "Están permitidos todos los sistemas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514812.jpg"
    },
    {
        "text": "En general, un conductor que sufre un trastorno depresivo...",
        "options": [
            "es más inseguro al volante.",
            "sufre menos distracciones.",
            "comete menos errores a la hora de tomar decisiones."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504330.jpg"
    },
    {
        "text": "La colocación de los dispositivos de retención infantil resulta más segura en...",
        "options": [
            "el asiento trasero central, ya que resulta menos afectado por los impactos laterales.",
            "cualquiera de los asientos traseros laterales.",
            "el asiento delantero, para que el conductor pueda vigilar al niño."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T514814.jpg"
    },
    {
        "text": "¿Qué significa esta señal?",
        "options": [
            "Peligro por la proximidad de una curva peligrosa hacia la derecha.",
            "Peligro por la proximidad de una sucesión de curvas próximas entre sí; la primera, hacia la derecha.",
            "Peligro por la existencia de un tramo de vía con fuerte pendiente ascendente."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T514815.jpg"
    },
    {
        "text": "El consumo de medicamentos, ¿puede ser responsable de accidentes de tráfico?",
        "options": [
            "No.",
            "Sí.",
            "Sí, pero sólo en las personas con enfermedades crónicas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514816.jpg"
    },
    {
        "text": "El conductor de este vehículo está indicando que va a...",
        "options": [
            "frenar.",
            "desplazarse a la derecha.",
            "desplazarse a la izquierda."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514817.jpg"
    },
    {
        "text": "A los conductores noveles se les aplica una tasa de alcoholemia menor...",
        "options": [
            "Porque carecen de la suficiente experiencia en la conducción.",
            "Porque en ellos los efectos del alcohol son menores.",
            "Únicamente porque las normas de tráfico lo imponen."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I3810.jpg"
    },
    {
        "text": "Al adelantar a una motocicleta en vía urbana, ¿cómo debe hacerlo?",
        "options": [
            "Ocupando siempre parte del carril contiguo.",
            "Dejando una distancia lateral de seguridad suficiente, proporcional a la velocidad, anchura y características de la vía.",
            "Dejando una distancia lateral mínima de 1,50 metros."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514819.jpg"
    },
    {
        "text": "El calor mientras conduce...",
        "options": [
            "no representa ningún riesgo para la seguridad vial.",
            "representa un claro riesgo para la seguridad vial.",
            "se puede combatir con las ventanillas bajadas, lo que además contribuye a ahorrar combustible."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514820.jpg"
    },
    {
        "text": "Circula a 60 km/h. ¿Por qué carril debe circular?",
        "options": [
            "Por el de la izquierda.",
            "Por el de la derecha.",
            "Por el del centro."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514821.jpg"
    },
    {
        "text": "Una de las consecuencias de la velocidad es que según aumenta ésta...",
        "options": [
            "se reduce el tiempo de reacción.",
            "mayor es la gravedad de las lesiones en un accidente.",
            "se pierde coordinación de movimientos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514822.jpg"
    },
    {
        "text": "De noche por una vía urbana insuficientemente iluminada, ¿qué luces deberá llevar encendidas al menos?",
        "options": [
            "Solamente las luces de posición.",
            "Las luces de posición y las de carretera.",
            "Las luces de posición y las de cruce."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514823.jpg"
    },
    {
        "text": "En un vehículo de tres ruedas que tiene cinturones de seguridad, ¿es obligatorio ponerse el casco?",
        "options": [
            "Sí, cuando sea descapotable.",
            "No, hay que ponerse el cinturón.",
            "Sí, pero únicamente en carretera."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514824.jpg"
    },
    {
        "text": "El vehículo amarillo de la fotografía se quiere incorporar y usted se aproxima con el vehículo rojo, ¿debe cederle el paso?",
        "options": [
            "No, pero debo facilitárselo en la medida de lo posible.",
            "Sí, porque se incorpora por la derecha.",
            "Sí, en una vía urbana."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T514825.jpg"
    },
    {
        "text": "¿Qué circunstancias del conductor pueden favorecer la aparición de la fatiga?",
        "options": [
            "Circular a velocidad moderada.",
            "Mantener posturas inadecuadas en el asiento.",
            "Mantener los hábitos normales de conducción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514826.jpg"
    },
    {
        "text": "Esta señal...",
        "options": [
            "indica que se puede efectuar un cambio de sentido a distinto nivel.",
            "indica la única dirección permitida en la próxima intersección.",
            "indica el itinerario que es preciso seguir para tomar la dirección que señala la flecha."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514827.jpg"
    },
    {
        "text": "En materia de tráfico, ¿están los jóvenes muy influenciados por la publicidad?",
        "options": [
            "Sí, todos.",
            "Sí, principalmente por aquellos anuncios que incitan claramente al riesgo",
            "No, la publicidad no les afecta."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514828.jpg"
    },
    {
        "text": "Circula en su vehículo cerca de un ciclista por una vía urbana, ¿qué debe tener en cuenta?",
        "options": [
            "Que debe adelantar muy rápido al ciclista.",
            "Que la bicicleta es un vehículo frágil y vulnerable.",
            "Que el ciclista no debe circular por la calzada."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T514829.jpg"
    },
    {
        "text": "¿Es obligatorio llevar un extintor como equipamiento de un automóvil que circula en servicio particular?",
        "options": [
            "No, sólo lo llevan los autobuses.",
            "Sí, todos los vehículos deben llevarlo.",
            "No, si se trata de un turismo o de una motocicleta."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T514830.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>