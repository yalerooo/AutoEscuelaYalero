<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "Una vez iniciado el adelantamiento, se producen circunstancias que hacen difícil su finalización sin provocar riesgos; ¿qué está obligado a hacer el conductor?",
        "options": [
            "Advertir del riesgo al vehículo al que pretende adelantar para que detenga su marcha.",
            "Reducir la velocidad y regresar a su carril sin obstaculizar.",
            "Aumentar la velocidad para finalizar el adelantamiento."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T503502.jpg"
    },
    {
        "text": "¿Qué parte del cuerpo resulta más afectada en los accidentes de motocicleta?",
        "options": [
            "Las piernas.",
            "Los brazos.",
            "La cabeza y la cara."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512902.jpg"
    },
    {
        "text": "Circula conduciendo un turismo por una autovía. ¿Cuál es la velocidad máxima permitida a partir de esta señal?",
        "options": [
            "100 km/h.",
            "60 km/h.",
            "120 km/h."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510115_050916.jpg"
    },
    {
        "text": "Un conductor, ¿se puede distraer si come o bebe mientras conduce?",
        "options": [
            "Comer sí puede provocar que el conductor se distraiga, pero beber no.",
            "Sí.",
            "No."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512904.jpg"
    },
    {
        "text": "Las operaciones de carga y descarga se llevarán a cabo...",
        "options": [
            "por el lado del vehículo más próximo al centro de la calzada.",
            "dentro de la vía.",
            "procurando evitar ruidos y molestias innecesarias."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512905.jpg"
    },
    {
        "text": "El consumo de alcohol, ¿cómo altera el comportamiento del conductor?",
        "options": [
            "Haciendo que infravalore sus capacidades al volante.",
            "Dándole una falsa seguridad en sí mismo, por lo que asume más riesgos.",
            "Disminuyendo su tiempo de reacción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512906.jpg"
    },
    {
        "text": "En esta calle de un sentido no hay señales que prohíban estacionar. ¿En qué lado se puede estacionar?",
        "options": [
            "En el lado derecho solamente.",
            "En el lado derecho y en el izquierdo.",
            "En el lado izquierdo solamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512907.jpg"
    },
    {
        "text": "Para evitar un accidente en caso de frenada brusca, ¿debe adaptar la velocidad y la distancia de seguridad con el vehículo de delante si circula con una furgoneta cargada?",
        "options": [
            "Sí; el peso de la carga hace que aumente la distancia de frenado.",
            "Sí; el peso de la carga hace que disminuya la distancia de frenado.",
            "No; el peso de la carga no influye en la distancia de frenado."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510101_051221.jpg"
    },
    {
        "text": "Si el turismo quiere girar a la izquierda deberá...",
        "options": [
            "situarse fuera de la calzada y realizarlo desde allí.",
            "girar desde su carril invadiendo el sentido contrario.",
            "girar desde su carril sin invadir el sentido contrario."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512909.jpg"
    },
    {
        "text": "El seguro obligatorio, ¿cubre los daños del conductor responsable del accidente?",
        "options": [
            "Sí, cubre los daños de todos los ocupantes.",
            "No.",
            "Sí, sólo cubre los daños personales."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512910.jpg"
    },
    {
        "text": "La depresión puede producir en la conducción...",
        "options": [
            "mayor capacidad de reacción.",
            "un aumento de las distracciones.",
            "una percepción más eficiente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T513830.jpg"
    },
    {
        "text": "¿Qué experimenta el conductor con el efecto túnel?",
        "options": [
            "Sólo percibe el centro de la calzada y dejar de ver los laterales.",
            "Una pérdida de la sensación de velocidad.",
            "Una disminución de la fatiga."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512912.jpg"
    },
    {
        "text": "Para evitar atropellos a peatones hay que tener especial cuidado...",
        "options": [
            "en todas las maniobras.",
            "al dar marcha atrás.",
            "en las autopistas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/I4901.jpg"
    },
    {
        "text": "Circulando por una autopista observa que se ha pasado una salida, ¿puede volver a ella circulando marcha atrás?",
        "options": [
            "Sí, comprobando que no existe peligro para otros usuarios.",
            "Sí, cuando el recorrido no supere los 15 metros.",
            "No."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512913.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Obliga a circular a todo tipo de camiones y furgones, independientemente de su M.M.A.",
            "Prohíbe circular a los camiones de más de 3500 Kg. de M.M.A.",
            "Obliga a circular, únicamente, a los camiones y furgones de más de 3500 Kg de M.M.A."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512915.jpg"
    },
    {
        "text": "Las palancas del asiento del conductor, ¿para qué sirven?",
        "options": [
            "Para hacer más cómodos los asientos traseros.",
            "Para que el cinturón de seguridad me sujete mejor.",
            "Para colocarme a la distancia adecuada de los mandos."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512916.jpg"
    },
    {
        "text": "¿Qué indica el intermitente izquierdo encendido?",
        "options": [
            "Que va estacionar en el arcén.",
            "Que va a parar o frenar.",
            "Que va a cambiar de carril para adelantar."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512917.jpg"
    },
    {
        "text": "¿Es fácil que el dispositivo del airbag se dispare mientras realiza un estacionamiento?",
        "options": [
            "Este tipo de cuestiones dependerá de la marca del automóvil.",
            "No, puesto que los sistemas de airbag actuales son muy precisos a la hora de determinar cuándo deben hincharse.",
            "Sí, un airbag puede ponerse en funcionamiento en cualquier momento."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512918.jpg"
    },
    {
        "text": "En una vía interurbana que no dispone de zona peatonal, ¿por qué lado deben circular los peatones?",
        "options": [
            "Por su derecha.",
            "Indistintamente, por cualquiera de los dos lados.",
            "Por su izquierda."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512919.jpg"
    },
    {
        "text": "¿Qué debe revisar si prevé que puede llover?",
        "options": [
            "Nada, no es necesario ninguna revisión.",
            "El líquido de frenos y la presión de los neumáticos.",
            "El estado de los neumáticos y los limpiaparabrisas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512920.jpg"
    },
    {
        "text": "Un carril de utilización en sentido contrario al habitual, habilitado por razones de fluidez de la circulación, ¿puede ser utilizado por una motocicleta?",
        "options": [
            "No, estos carriles sólo los pueden utilizar los turismos.",
            "Sí, puede ser utilizado por todos los vehículos de motor.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512921.jpg"
    },
    {
        "text": "¿Cuánto tiempo tienes que dedicar para intentar reanimar a un herido de accidente?",
        "options": [
            "Hasta que lleguen los servicios sanitarios.",
            "30 minutos.",
            "2 minutos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512922.jpg"
    },
    {
        "text": "¿Puede mantener encendida la luz de largo alcance cuando efectúe una parada?",
        "options": [
            "No, está prohibido.",
            "Sí, cuando la vía está insuficientemente iluminada.",
            "Sí, en vias interurbanas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512923.jpg"
    },
    {
        "text": "¿Cuál es la tasa máxima de alcohol en sangre para un conductor que acaba de obtener su primer permiso de conducción?",
        "options": [
            "0'25 gramos por litro de sangre.",
            "0'3 gramos por litro de sangre.",
            "0'5 gramos por litro de sangre."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512924.jpg"
    },
    {
        "text": "Como norma general, en una autopista, ¿está permitido circular a 50 km/h?",
        "options": [
            "No, como mínimo hay que circular a 60 km/h.",
            "Sí, ya que es la velocidad mínima permitida.",
            "No, como mínimo hay que circular a 100 km/h."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512925.jpg"
    },
    {
        "text": "La fatiga ocular en un conductor, ¿a qué puede deberse?",
        "options": [
            "A un aumento de la capacidad para percibir el entorno.",
            "A un aumento del campo visual.",
            "A los efectos del sueño."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512926.jpg"
    },
    {
        "text": "¿Es obligatorio emplear el dispositivo o dispositivos de preseñalización de peligro para advertir la presencia de un turismo averiado en la calzada?",
        "options": [
            "No.",
            "Sí.",
            "Sólo si la visibilidad es insuficiente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T512927.jpg"
    },
    {
        "text": "¿Qué indica la palabra \"tubeless\" escrita en el lateral del neumático?",
        "options": [
            "Que es un neumático adecuado para utilizarlo cuando la calzada tenga agua.",
            "Que es un neumático adecuado para colocarlo en un autobús.",
            "Que es un neumático preparado para ser montado sin cámara."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512928.jpg"
    },
    {
        "text": "El vehículo blanco, ¿adelanta correctamente?",
        "options": [
            "Sí.",
            "No."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T510119_250116.jpg"
    },
    {
        "text": "Esta señal, ¿a qué vehículos prohíbe el paso?",
        "options": [
            "Solamente a los automóviles cuya longitud supere los 10 metros.",
            "Sólo a los camiones cuya longitud, incluida la carga, supere la indicada en la señal.",
            "A los vehículos o conjuntos de vehículos cuya longitud máxima, incluida la carga, supere la indicada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T512929.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>