<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "La señal indica peligro por...",
        "options": [
            "una intersección con cambio obligatorio del sentido de la marcha.",
            "una intersección con prioridad.",
            "la proximidad de una intersección donde la circulación es giratoria."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504501.jpg"
    },
    {
        "text": "El alcohol se absorbe más rápidamente si...",
        "options": [
            "se mezcla con alimentos.",
            "ha consumido bebidas fermentadas, como la cerveza.",
            "tiene el estómago vacío."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504502.jpg"
    },
    {
        "text": "Para girar a la derecha, ¿qué carril deberá utilizar?",
        "options": [
            "El carril de la derecha o el de la izquierda indistintamente.",
            "Necesariamente el carril de la derecha, porque tiene la línea discontinua.",
            "Necesariamente el carril de la izquierda, observando el tráfico y al girar tengo que ceder el paso al autobús."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504503.jpg"
    },
    {
        "text": "¿Qué puede hacer para evitar los peligros que causa el uso del teléfono móvil durante la conducción?",
        "options": [
            "Esperar a detenerse en un semáforo o en un paso de peatones para usarlo.",
            "Detener el vehículo en un lugar seguro para poder usar el teléfono.",
            "Colgar las llamadas cuando suenen."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504504.jpg"
    },
    {
        "text": "Como norma general, un menor de doce años, ¿puede viajar en los asientos delanteros?",
        "options": [
            "No, en ningún caso hasta que cumpla 18 años.",
            "Sí, si su estatura es superior a 135 cm.",
            "Sí, por tener más de 10 años de edad."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504505.jpg"
    },
    {
        "text": "¿Qué sistema reduce el riesgo de bloqueo de las ruedas en caso de frenazo brusco?",
        "options": [
            "El servofreno.",
            "La tracción total.",
            "El sistema ABS."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504506.jpg"
    },
    {
        "text": "Si un vehículo dispone de sistema de alumbrado automático, ¿en qué momento se activa?",
        "options": [
            "Cuando un sensor detecta una disminución de la visibilidad.",
            "Cuando un sensor detecta que el conductor está fatigado.",
            "A partir de una hora determinada."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T500124_ADAS.jpg"
    },
    {
        "text": "El tiempo de reacción...",
        "options": [
            "es el que tarda en detener totalmente el vehículo.",
            "es el que transcurre hasta que se observa una maniobra.",
            "es el que transcurre desde que un conductor observa un peligro hasta que ejecuta una maniobra."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504508.jpg"
    },
    {
        "text": "¿Con qué señal nos indica un agente que, a partir del paso del vehículo que la porta, la calzada queda de nuevo abierta al tráfico?",
        "options": [
            "Con bandera verde.",
            "Con una luz verde.",
            "Con bandera amarilla."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504509.jpg"
    },
    {
        "text": "El consumo de combustible, ¿puede depender del estilo de conducir del conductor?",
        "options": [
            "No, sólo depende de la velocidad y del tipo de vehículo.",
            "No, solamente influye el buen o mal mantenimiento del vehículo.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504510.jpg"
    },
    {
        "text": "¿Debe el conductor del turismo de color naranja respetar la señal de STOP cuando llegue al cruce?",
        "options": [
            "No, porque la señal horizontal sólo es para los que giren a la izquierda.",
            "Sí, debe respetar las marcas viales existentes.",
            "Sí, pero sólo si sigue de frente."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504511.jpg"
    },
    {
        "text": "Escuchar la radio a través de auriculares, durante la conducción, ¿está permitido?",
        "options": [
            "Sí, cuando solamente se utilice uno.",
            "Sí, porque la radio no supone distracción del conductor.",
            "No."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504512.jpg"
    },
    {
        "text": "Está prohibido parar...",
        "options": [
            "en todas las intersecciones.",
            "cerca de los pasos señalizados para peatones.",
            "en las zonas señalizadas para uso exclusivo de minusválidos."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504513.jpg"
    },
    {
        "text": "Los antihistamínicos modernos, ¿son más seguros para la conducción?",
        "options": [
            "Sí, ya que pueden mezclarse sin problemas con otros medicamentos.",
            "No, producen somnolencia como todos los antihistamínicos.",
            "Sí, pero no deben mezclarse con alcohol o con otros medicamentos."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504514.jpg"
    },
    {
        "text": "¿Qué indica la señal?",
        "options": [
            "Paso a nivel con barreras a 300 metros.",
            "Zona de frenado de emergencia a 300 metros.",
            "La existencia de una salida a 300 metros."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504515.jpg"
    },
    {
        "text": "La cinta abdominal del cinturón de seguridad debe colocarse...",
        "options": [
            "sobre la pelvis.",
            "sobre los muslos.",
            "sobre el abdomen."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504516.jpg"
    },
    {
        "text": "Como norma general, en vías urbanas de un único carril por sentido de circulación, ¿cuál es la velocidad máxima permitida para motocicletas?",
        "options": [
            "50 km/h.",
            "30 km/h.",
            "20 km/h."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T509523.jpg"
    },
    {
        "text": "Si los neumáticos de un turismo se desgastan de manera irregular es porque...",
        "options": [
            "son neumáticos sin cámara.",
            "no son adecuados para la época del año en que se están utilizando.",
            "la presión de inflado no es la recomendada por el fabricante."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504518.jpg"
    },
    {
        "text": "Si se sale de un garaje para incorporarse a la circulación, se debe ceder el paso...",
        "options": [
            "exclusivamente a los vehículos que se aproximen por la izquierda.",
            "exclusivamente a los vehículos que se aproximen por la derecha.",
            "tanto a los vehículos que se aproximen por la derecha como por la izquierda."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504519.jpg"
    },
    {
        "text": "Cuando la calzada está helada, la distancia de frenado puede aumentar hasta...",
        "options": [
            "cinco veces.",
            "diez veces.",
            "el doble."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504520.jpg"
    },
    {
        "text": "El vehículo que vemos quiere cambiar de dirección a la derecha. ¿Está obligado a detenerse?",
        "options": [
            "No.",
            "Sí.",
            "No, las indicaciones del semáforo sólo le afectan si pretende seguir de frente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504521.jpg"
    },
    {
        "text": "En un accidente, si tiene que prestar auxilio, el orden de actuación correcto será...",
        "options": [
            "socorrer y proteger a los heridos, avisar a los servicios de emergencia.",
            "garantizar la seguridad de la circulación, avisar a los servicios de emergencia y socorrer a los heridos.",
            "avisar a los servicios de emergencia y socorrer a los heridos."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504522.jpg"
    },
    {
        "text": "En una carretera con un carril para cada sentido, un camión está adelantando y no le deja ver. ¿Puede adelantar detrás del camión?",
        "options": [
            "No, porque no hay visibilidad.",
            "Sí, cuando no hay señal de prohibición de adelantar.",
            "Sí, porque el camión me protege."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504523.jpg"
    },
    {
        "text": "Las motocicletas con más de cinco años de antigüedad deben pasar la ITV...",
        "options": [
            "cada año.",
            "cada cinco años.",
            "cada dos años."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504524.jpg"
    },
    {
        "text": "El sistema de alumbrado de los vehículos...",
        "options": [
            "sirve para ver bien de noche.",
            "sirve para que el conductor vea bien la carretera.",
            "sirve para que el conductor vea bien la carretera, y su vehículo sea visto por los demás conductores."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504525.jpg"
    },
    {
        "text": "Un niño va sujeto con un sistema de retención orientado hacia atrás. ¿Está permitido?",
        "options": [
            "Sí, pero el airbag debe estar desactivado.",
            "Sí, pero el airbag debe estar activado.",
            "No."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504526.jpg"
    },
    {
        "text": "¿Puede adelantar a partir de la señal vertical?",
        "options": [
            "No, porque está prohibido.",
            "Sí, por la parte izquierda de la calzada.",
            "Sí, por el arcén derecho."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504527.jpg"
    },
    {
        "text": "Para anticiparse al peligro es muy importante que el conductor...",
        "options": [
            "esté siempre preparado para actuar en una situación de peligro.",
            "piense que únicamente los demás conductores cometen errores.",
            "lleve siempre el pie puesto encima del pedal del freno."
        ],
        "correct": "A",
        "image": "../../../Assets/img/I4101.jpg"
    },
    {
        "text": "Respecto a los efectos secundarios de los medicamentos y su influencia en la conducción, tras ingerir fármacos somníferos o hipnóticos normalmente...",
        "options": [
            "aumenta el tiempo de reacción.",
            "aumenta el campo visual.",
            "disminuye el tiempo de reacción."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T511506.jpg"
    },
    {
        "text": "¿Debe verificar con frecuencia el reglaje de los espejos retrovisores exteriores?",
        "options": [
            "No, porque una vez colocados correctamente ya quedan fijos.",
            "Sí, cada vez que vaya a conducir y antes de iniciar la marcha.",
            "Sólo cuando conduzca de noche, porque las distancias se aprecian de modo diferente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504530.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>