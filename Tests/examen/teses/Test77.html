<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "En una zona de obras, la señalización horizontal es de color...",
        "options": [
            "amarillo.",
            "rojo.",
            "blanco."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T502701.jpg"
    },
    {
        "text": "En caso de un fallo en los frenos, ¿qué es lo primero que se debe hacer para intentar inmovilizar el vehículo?",
        "options": [
            "Reducir a una relación de marchas más corta y utilizar el freno de mano sin brusquedad.",
            "Pisar el embrague para cambiar a otras velocidades rápidamente.",
            "Buscar un lugar apropiado para frenar contra un obstáculo."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T502702.jpg"
    },
    {
        "text": "Las luces de los semáforos con la silueta de un ciclo, afectan...",
        "options": [
            "a ciclos solamente.",
            "a ciclomotores solamente.",
            "exclusivamente a ciclos y ciclomotores."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502703.jpg"
    },
    {
        "text": "Un traje adecuado para conducir una motocicleta, debe...",
        "options": [
            "estar muy ajustado al cuerpo para mejorar la estética.",
            "ser resistente a los golpes y a la abrasión en caso de caída.",
            "tener colores oscuros."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P2925.jpg"
    },
    {
        "text": "Esta señal indica...",
        "options": [
            "bifurcación hacia la izquierda en calzada de un solo carril.",
            "la proximidad de una zona en la que puede inmovilizar el vehículo para realizar algún descanso.",
            "la situación de una zona de escape acondicionada para que pueda detener el vehículo en caso de fallo del sistema de frenado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502705.jpg"
    },
    {
        "text": "Los chalecos reflectantes...",
        "options": [
            "no son obligatorios, únicamente son aconsejables.",
            "deben estar homologados.",
            "pueden no estar homologados, lo importante es llevar dos obligatoriamente."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502706.jpg"
    },
    {
        "text": "Los cristales de su vehículo están cubiertos de hielo. Antes de ponerse en marcha, ¿qué debe hacer?",
        "options": [
            "Limpiar solamente el parabrisas.",
            "Limpiar solamente los cristales de la zona delantera.",
            "Limpiar todos los cristales."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502707.jpg"
    },
    {
        "text": "Al aproximarse a un paso a nivel o a un puente móvil debe...",
        "options": [
            "circular a la velocidad máxima para pasar lo antes posible.",
            "detenerse en todo caso.",
            "extremar la precaución y circular a una velocidad moderada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502708.jpg"
    },
    {
        "text": "Detiene su vehículo al ver a un agente que tiene el brazo extendido horizontalmente, puede reanudar la marcha cuando el agente...",
        "options": [
            "emita unos toques de silbato cortos y frecuentes.",
            "baje el brazo.",
            "lo indique con otra señal."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502709.jpg"
    },
    {
        "text": "En las técnicas de conducción preventiva, ¿es suficiente con conducir cumpliendo las normas?",
        "options": [
            "Sí, porque cumplir las normas es obligatorio.",
            "No, hay que tener también en cuenta que otro conductor puede cometer una infracción.",
            "Sí, porque cumpliendo la normativa de tráfico el riesgo es nulo."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502710.jpg"
    },
    {
        "text": "En un turismo viaja un niño de quince años cuya estatura es superior a 135 centímetros, ¿dónde debe ir sentado normalmente?",
        "options": [
            "En el asiento trasero, obligatoriamente.",
            "Puede viajar tanto en el asiento delantero como en el trasero.",
            "Es aconsejable que viaje en el asiento delantero."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502711.jpg"
    },
    {
        "text": "Una exposición continuada del vehículo a temperaturas elevadas, puede provocar un deterioro mayor de las gomas de las escobillas de los limpiaparabrisas. ¿Cuáles son los efectos más comunes?",
        "options": [
            "Se endurecen y se agrietan.",
            "Se dilatan y ejercen mayor presión sobre el cristal.",
            "Se reblandecen y pierden elasticidad."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T512514.jpg"
    },
    {
        "text": "En caso de accidente, si no lleva abrochado el cinturón de seguridad, ¿qué ocupante del vehículo tiene riesgo de morir?",
        "options": [
            "Todos los ocupantes.",
            "Sólo el conductor.",
            "Sólo los ocupantes de las plazas traseras."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510102_150117.jpg"
    },
    {
        "text": "¿Está permitido adelantar en los pasos para peatones como norma general?",
        "options": [
            "Sí.",
            "Sí, pero únicamente en vías urbanas.",
            "No, aunque se podrá adelantar si se hace a una velocidad tan reducida que permita detenerse a tiempo si surgiera peligro de atropello."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502714.jpg"
    },
    {
        "text": "Los síntomas de las alergias respiratorias pueden producir...",
        "options": [
            "un retraso en la aparición del sueño.",
            "una menor capacidad para mantener la concentración en el tráfico.",
            "una disminución del tiempo de reacción."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502715.jpg"
    },
    {
        "text": "¿Es aconsejable quitar el casco de protección al pasajero de una motocicleta que ha sufrido un accidente?",
        "options": [
            "Sí, siempre que el herido esté consciente.",
            "No, salvo que sea necesario y se conozca la técnica.",
            "Sí, lo antes posible para evitar asfixias."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502716.jpg"
    },
    {
        "text": "Como norma general, ¿en qué vías está prohibido circular marcha atrás?",
        "options": [
            "Sólo en las vías urbanas.",
            "Sólo en las autopistas y autovías.",
            "En todas las vías, salvo como complemento a determinadas maniobras."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502717.jpg"
    },
    {
        "text": "La señal significa...",
        "options": [
            "vía obligatoria para los autobuses.",
            "parada de autobuses.",
            "carril reservado para autobuses."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502718.jpg"
    },
    {
        "text": "En el campo de visión definido por la normativa, ¿cuál es la finalidad del retrovisor de un vehículo?",
        "options": [
            "Permitir una visibilidad clara hacia atrás del vehículo pero no hacia los lados.",
            "Reducir la resistencia al viento del vehículo.",
            "Permitir una visibilidad clara hacia atrás y hacia los lados del vehículo."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T511321.jpg"
    },
    {
        "text": "Está prohibido conducir...",
        "options": [
            "utilizando cascos o auriculares conectados a aparatos receptores o reproductores de sonido.",
            "más de una hora seguida sin descansar.",
            "más de una hora seguida sin descansar, pero sólo en vía urbana."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T502720.jpg"
    },
    {
        "text": "Como norma general, las maniobras deben advertirse utilizando...",
        "options": [
            "preferentemente el brazo.",
            "preferentemente la señalización luminosa del vehículo.",
            "indistintamente el brazo o las señales luminosas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/P0705.jpg"
    },
    {
        "text": "¿Cuál es la tasa de alcohol máxima permitida a un conductor novel?",
        "options": [
            "0,25 miligramos de alcohol por litro de aire espirado.",
            "0,3 miligramos de alcohol por litro de aire espirado.",
            "0,15 miligramos de alcohol por litro de aire espirado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502722.jpg"
    },
    {
        "text": "Un peatón que empuja un carrito, ¿por dónde puede circular?",
        "options": [
            "Sólo por la zona peatonal.",
            "Por la zona peatonal, o por el arcén o la calzada si pudiera obstaculizar el paso.",
            "Sólo por la calzada."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502723.jpg"
    },
    {
        "text": "La fatiga afecta al rendimiento del conductor. ¿Cómo puede combatirla?",
        "options": [
            "Tomando algún medicamento estimulante.",
            "Tomando alguna bebida alcohólica que estimule.",
            "Dando un pequeño paseo o durmiendo, si es necesario, para descansar."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502724.jpg"
    },
    {
        "text": "El personal habilitado de la organización de una prueba deportiva prohíbe el acceso de su vehículo a la zona donde se está celebrando la misma; ¿está obligado a obedecerlo?",
        "options": [
            "No, al no tratarse de agente de Tráfico o de protección civil.",
            "Solo si se acerca algún participante de la prueba deportiva.",
            "Sí."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510128_250623.jpg"
    },
    {
        "text": "En una curva de visibilidad reducida, ¿está permitido cambiar el sentido de la marcha?",
        "options": [
            "Sí, moderando la velocidad.",
            "No, porque está prohibido.",
            "Sí, siempre que se advierta convenientemente la maniobra."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502725.jpg"
    },
    {
        "text": "Entre las conductas de riesgo más comunes que cometen los peatones está...",
        "options": [
            "respetar los semáforos pero no los pasos para peatones.",
            "no situarse en las calzadas o en los arcenes correctamente.",
            "cruzar la vía de manera reglamentaria."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T502727.jpg"
    },
    {
        "text": "Bajo los efectos del sueño...",
        "options": [
            "se tarda más tiempo en tomar decisiones y se cometen más errores.",
            "es más difícil sufrir una distracción.",
            "los movimientos son más rápidos."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T510116_050916.jpg"
    },
    {
        "text": "Esta señal...",
        "options": [
            "prohíbe a los camiones adelantar salvo a motocicletas de dos ruedas.",
            "prohíbe a los camiones adelantar a todos los vehículos.",
            "prohíbe a los camiones de más de 3.500 Kg de M.M.A. adelantar, salvo a motocicletas de dos ruedas si no invaden el sentido contrario."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T502729.jpg"
    },
    {
        "text": "El apoyacabezas, bien regulado...",
        "options": [
            "es un complemento del cinturón de seguridad.",
            "descansa la cabeza.",
            "protege la cabeza de los vaivenes en caso de accidente."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P2903.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>