<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Autoescuela</title>
    <link rel="stylesheet" href="../../../Assets/style.css">
</head>
<body>

    
    <div class="container">
        <h1 style="text-align: center; color: #ffa5c3;">Test de Autoescuela</h1>
        <div id="test-container">
            <!-- Aquí se generarán dinámicamente las preguntas -->
        </div>
        <div class="pagination">
            <div class="pagination-row" id="pagination-row-1"></div>
            <div class="pagination-row" id="pagination-row-2"></div>
        </div>
        <button id="correct-test">Corregir Test</button>
    </div>

    <!-- Custom Alert HTML -->
    <div class="custom-alert" id="custom-alert">
        <h2>Resultado del Test</h2>
        <p id="alert-message">Aquí irá el mensaje del resultado.</p>
        <button onclick="closeAlert()">Cerrar</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
    {
        "text": "¿Es necesario comprobar si un herido en un accidente está consciente o respira?",
        "options": [
            "No, eso es responsabilidad de los servicios de urgencia.",
            "No es necesario, como norma general.",
            "Sí, para valorar la gravedad de su estado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504601.jpg"
    },
    {
        "text": "En una travesía de dos carriles para cada sentido, ¿puede circular por el segundo carril para girar a la izquierda?",
        "options": [
            "Sí, porque en la travesía debo circular igual que en las vías urbanas.",
            "No, porque la travesía es una vía interurbana.",
            "No, porque en la travesía siempre debo circular por la derecha."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504602.jpg"
    },
    {
        "text": "Conducir, con un permiso de la clase B, un turismo que arrastra un remolque ligero, ¿está permitido?",
        "options": [
            "Sí, en cualquier caso.",
            "Sólo si la masa máxima autorizada del conjunto no supera los 3.500 kilogramos.",
            "No, en ningún caso."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504603.jpg"
    },
    {
        "text": "¿Qué indica la señal?",
        "options": [
            "Que yo tengo preferencia sobre los que circulan en sentido contrario.",
            "Que tienen preferencia los vehículos que circulan en sentido contrario.",
            "Aconseja ceder el paso."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504604.jpg"
    },
    {
        "text": "Los efectos del alcohol, ¿son mayores en los conductores con poca experiencia al volante?",
        "options": [
            "No, el alcohol afecta igual a todas las personas.",
            "No, sólo dependen de la tasa de alcoholemia.",
            "Sí, por eso la tasa de alcoholemia permitida es menor."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504605.jpg"
    },
    {
        "text": "¿Qué puede acelerar el desgaste de los neumáticos?",
        "options": [
            "Circular con la presión que indica el fabricante.",
            "Circular a velocidad moderada.",
            "Circular con poca presión de aire."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504606.jpg"
    },
    {
        "text": "¿A qué velocidad como máximo interviene en los frenos del vehículo el sistema ADAS de “Alerta de tráfico cruzado o RCTA”?",
        "options": [
            "A una velocidad inferior a 50 km/h.",
            "A una velocidad inferior a 30 km/h.",
            "A una velocidad inferior a 15 km/h."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T500102_ADAS.jpg"
    },
    {
        "text": "La sensación de circular a una velocidad inferior a la que realmente lleva, puede deberse a...",
        "options": [
            "circular con un régimen alto de revoluciones en el motor.",
            "el ruido que producen los neumáticos de nieve durante un largo trayecto.",
            "haber circulado a gran velocidad por carreteras amplias y bien asfaltadas."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504608.jpg"
    },
    {
        "text": "¿Es adecuado conducir una motocicleta llevando sandalias?",
        "options": [
            "Sí, porque el calzado debe permitir la ventilación del pie.",
            "Es indiferente, ya que el calzado no influye en la conducción de las motocicletas.",
            "No, en ningún caso."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504609.jpg"
    },
    {
        "text": "Un vehículo no prioritario que circule en servicio de urgencia, ¿tiene permitido utilizar las señales acústicas?",
        "options": [
            "Sí, pero únicamente en poblado.",
            "Sí, para avisar de su presencia a los demás usuarios.",
            "No, sólo puede utilizar la señalización óptica."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504610.jpg"
    },
    {
        "text": "¿Qué indica un agente desde un vehículo si emite una luz amarilla intermitente o destellante hacia delante?",
        "options": [
            "Que debe extremar la atención porque se aproxima a un peligro.",
            "Que debe detenerse en el lado derecho detrás del vehículo policial.",
            "Que debe detenerse en el lado derecho delante del vehículo policial."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504611.jpg"
    },
    {
        "text": "En caso de lluvia en la calzada...",
        "options": [
            "disminuye la distancia de frenado.",
            "aumenta el tiempo de reacción.",
            "aumenta la distancia de frenado."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504612.jpg"
    },
    {
        "text": "Si toma las precauciones necesarias para garantizar la seguridad en la circulación, ¿puede conducir si se ha automedicado?",
        "options": [
            "No, está prohibido.",
            "No, en los casos en que los medicamentos que haya tomado sean sin receta medica.",
            "Sí, siempre que sea consciente de los posibles efectos sobre la conducción."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510102_050217.jpg"
    },
    {
        "text": "¿Qué indica esta señal?",
        "options": [
            "Prioridad respecto al sentido contrario.",
            "Peligro por circulación en los dos sentidos.",
            "Peligro por estrechamiento de la calzada."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504614.jpg"
    },
    {
        "text": "¿Debe darle algún mantenimiento periódicamente a su vehículo aunque no esté en constante movimiento?",
        "options": [
            "Sí, además de seguir los planes de mantenimiento establecidos por el fabricante.",
            "No, salvo que haya sufrido un accidente.",
            "No, no es necesario."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504615.jpg"
    },
    {
        "text": "En una vía urbana, es obligatorio realizar las operaciones de carga y descarga...",
        "options": [
            "respetando las disposiciones que dicten las autoridades municipales.",
            "respetando únicamente las disposiciones sobre paradas y estacionamientos.",
            "siempre por el lado más próximo al borde de la calzada."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504616.jpg"
    },
    {
        "text": "En un vehículo, ¿se debe utilizar el motor como freno?",
        "options": [
            "No, porque se desgasta el embrague.",
            "Sí, para no abusar de los frenos y evitar su calentamiento sobre todo en las bajadas pronunciadas.",
            "No es aconsejable porque se gasta más combustible."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504617.jpg"
    },
    {
        "text": "¿Está prohibido estacionar en un túnel?",
        "options": [
            "Sí, siempre.",
            "No, cuando la calzada tiene dos carriles de circulación para cada sentido.",
            "No, si el túnel está suficientemente iluminado."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504618.jpg"
    },
    {
        "text": "Los accidentes de tráfico en los que el sueño es el principal factor de riesgo, ¿pueden suceder durante las horas diurnas?",
        "options": [
            "Sí, aunque es un tipo de accidente que solo sufren los conductores profesionales.",
            "Sí, especialmente entre las dos y las cuatro de la tarde.",
            "No, solo sucede durante las horas nocturnas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T511202.jpg"
    },
    {
        "text": "Para incorporarse a una autopista por el carril de aceleración, deberá hacerlo...",
        "options": [
            "de forma lenta, para permitir detenerse al final del carril.",
            "a la velocidad adecuada a la vía a la que se va a incorporar.",
            "a la velocidad máxima permitida para no obstaculizar a los demás usuarios."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504620.jpg"
    },
    {
        "text": "Desde el punto de vista de la circulación, ¿es el ciclomotor un vehículo de motor?",
        "options": [
            "Sí, porque necesitan un motor para su funcionamiento.",
            "No.",
            "Sí, porque se trata de un vehículo autopropulsado."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504621.jpg"
    },
    {
        "text": "En este cruce, ¿puede pasar cuando se enciende la luz verde?",
        "options": [
            "Sí, pero debo esperar hasta poder pasar sin bloquearlo.",
            "Sí, pero debo ceder el paso a los vehículos de la derecha.",
            "Sí, siempre, porque tengo preferencia."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504622.jpg"
    },
    {
        "text": "Circular con las ventanillas abiertas...",
        "options": [
            "modifica la aerodinámica del vehículo, reduciendo el consumo de combustible.",
            "no modifica la aerodinámica del vehículo, ni influye en el consumo de combustible.",
            "modifica la aerodinámica del vehículo, aumentando el consumo de combustible."
        ],
        "correct": "C",
        "image": "../../../Assets/img/P3410.jpg"
    },
    {
        "text": "En esta intersección sin señalizar se encuentra con un ciclista, ¿debe cederle el paso?",
        "options": [
            "Sí, porque los vehículos de dos ruedas siempre tienen preferencia.",
            "No, porque los vehículos de motor tienen preferencia sobre los ciclos de dos ruedas.",
            "Sí, porque se aproxima por la derecha."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T510119_050416.jpg"
    },
    {
        "text": "¿Cómo se llama la conducción que nos permite circular anticipándonos a los posibles riesgos?",
        "options": [
            "Eficiente.",
            "Peligrosa.",
            "Preventiva."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504625.jpeg"
    },
    {
        "text": "Si no hay niebla espesa, ¿en qué otra circunstancia puede emplear la luz antiniebla delantera?",
        "options": [
            "En tramos de vía estrechos, con una sucesión de curvas peligrosas señalizada.",
            "En cualquier circunstancia en que disminuya la visibilidad.",
            "Sólo puede encender la luz antiniebla delantera con niebla espesa."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504626.jpg"
    },
    {
        "text": "Si advierte que un vehículo va a adelantarle, deberá...",
        "options": [
            "Disminuir la velocidad para facilitarle la maniobra.",
            "Encender el indicador de dirección derecho, para indicarle que puede adelantar.",
            "Arrimarse al borde derecho de la calzada."
        ],
        "correct": "C",
        "image": "../../../Assets/img/T504627.jpg"
    },
    {
        "text": "Esta señal...",
        "options": [
            "obliga a seguir una de las direcciones y sentidos que señalan las flechas.",
            "prohíbe continuar de frente o realizar un cambio de dirección a la derecha.",
            "aconseja seguir una de las direcciones y sentidos que señalan las flechas."
        ],
        "correct": "A",
        "image": "../../../Assets/img/T504628.jpg"
    },
    {
        "text": "¿En qué situación suelen tener menos accidentes las personas mayores como peatones?",
        "options": [
            "Cuando van acompañadas de otra persona mayor.",
            "Cuando van acompañando a niños.",
            "Cuando van solas."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504629.jpg"
    },
    {
        "text": "Para cambiar el sentido de la marcha, ¿qué opción es válida?",
        "options": [
            "La ruta roja.",
            "Ambas rutas pueden ser correctas.",
            "La ruta azul."
        ],
        "correct": "B",
        "image": "../../../Assets/img/T504630.jpg"
    }
]
            
            ;

            const container = document.getElementById('test-container');
            const paginationRow1 = document.getElementById('pagination-row-1');
            const paginationRow2 = document.getElementById('pagination-row-2');

            // Generar preguntas
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.setAttribute('data-correct', question.correct);
                questionDiv.innerHTML = `
                    <div class="question-image">
                        <img src="${question.image}" alt="Imagen de la pregunta">
                    </div>
                    <div class="question-content">
                        <h3>${index + 1}. ${question.text}</h3>
                        <div class="options">
                            ${question.options.map((option, idx) => `
                                <div class="option" data-answer="${String.fromCharCode(65 + idx)}">
                                    <span class="option-circle">${String.fromCharCode(65 + idx)}</span>
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Generar paginación
            for (let i = 0; i < questions.length; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}`;
                button.addEventListener('click', () => showQuestion(i));
                if (i < 15) {
                    paginationRow1.appendChild(button);
                } else {
                    paginationRow2.appendChild(button);
                }
            }

            // Mostrar la primera pregunta
            showQuestion(0);

            // Función para mostrar una pregunta específica
            function showQuestion(index) {
                document.querySelectorAll('.question').forEach((q, i) => {
                    q.style.display = i === index ? 'flex' : 'none';
                });
                document.querySelectorAll('.pagination button').forEach((btn, i) => {
                    btn.style.backgroundColor = i === index ? '#ff7aa2' : '#ffa5c3';
                });
            }

            // Evento para las opciones de respuesta
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionIndex = Array.from(container.children).indexOf(question);
                    const isCorrect = this.getAttribute('data-answer') === question.getAttribute('data-correct');
                    
                    if (question.dataset.answered) return;

                    question.dataset.answered = true;

                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.style.pointerEvents = 'none';
                    });
                    
                    this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');

                    if (!isCorrect) {
                        question.querySelector(`.option[data-answer="${question.getAttribute('data-correct')}"]`).classList.add('correct');
                    }

                    // Actualizar el botón de paginación
                    const paginationButton = questionIndex < 15 ? paginationRow1.children[questionIndex] : paginationRow2.children[questionIndex - 15];
                    paginationButton.classList.add(isCorrect ? 'correct' : 'incorrect');
                });
            });

            // Evento para corregir el test
            document.getElementById('correct-test').addEventListener('click', () => {
                let wrongAnswers = 0;
                document.querySelectorAll('.question').forEach((question, index) => {
                    const selected = question.querySelector('.option.selected');
                    const isCorrect = selected && selected.getAttribute('data-answer') === question.getAttribute('data-correct');
                    if (!isCorrect) {
                        wrongAnswers++;
                    }
                    // Actualizar el botón de paginación si no se ha respondido
                    if (!selected) {
                        const paginationButton = index < 15 ? paginationRow1.children[index] : paginationRow2.children[index - 15];
                        paginationButton.classList.add('incorrect');
                    }
                });
                const resultMessage = `Has fallado ${wrongAnswers} respuestas.`;

                const alert = document.getElementById('custom-alert');
                document.getElementById('alert-message').textContent = resultMessage;
                alert.style.display = 'block';
            });
        });

        function closeAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }
    </script>

    
</body>
</html>